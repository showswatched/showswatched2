import{c as $,b as N,r as c,u as P,e as A,_ as p,j as o,s as B,f as k,h as D,i as W,P as H,I as ht,E as gt,q as fe,W as vt,a7 as Yt,am as mt,a6 as De,ac as We,a8 as Vt,m as yt,n as Ct,o as St,as as be,$ as ie,a1 as Te,ar as He,A as Ue,a as U,a4 as Oe,d as je,g as Gt,z as jt,a2 as Kt,w as Jt,B as Le,av as Qt}from"./index-D6zfUZPM.js";import{a as Zt,D as Fe,T as eo}from"./Delete-LWAT4-uP.js";import{u as to,d as Tt,o as kt,r as Bt}from"./createSvgIcon-BiptPAxs.js";import{C as Ae,G as Me}from"./Grid-B-oyCY_7.js";import{T as L}from"./Typography-CDEwC3Sn.js";import{F as oo,a as so,B as ro}from"./Menu-B3Z5FY19.js";import{B as xe}from"./Button-CfJaqulS.js";let de;function Mt(){if(de)return de;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),de="reverse",e.scrollLeft>0?de="default":(e.scrollLeft=1,e.scrollLeft===0&&(de="negative")),document.body.removeChild(e),de}function no(e,t){const s=e.scrollLeft;if(t!=="rtl")return s;switch(Mt()){case"negative":return e.scrollWidth-e.clientWidth+s;case"reverse":return e.scrollWidth-e.clientWidth-s;default:return s}}function lo(e){return $("MuiAppBar",e)}N("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const ao=["className","color","enableColorOnDark","position"],io=e=>{const{color:t,position:s,classes:r}=e,n={root:["root",`color${D(t)}`,`position${D(s)}`]};return W(n,lo,r)},we=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,co=B(H,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[`position${D(s.position)}`],t[`color${D(s.color)}`]]}})(({theme:e,ownerState:t})=>{const s=e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[900];return p({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},t.position==="fixed"&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},t.position==="absolute"&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="sticky"&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},t.position==="static"&&{position:"static"},t.position==="relative"&&{position:"relative"},!e.vars&&p({},t.color==="default"&&{backgroundColor:s,color:e.palette.getContrastText(s)},t.color&&t.color!=="default"&&t.color!=="inherit"&&t.color!=="transparent"&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},t.color==="inherit"&&{color:"inherit"},e.palette.mode==="dark"&&!t.enableColorOnDark&&{backgroundColor:null,color:null},t.color==="transparent"&&p({backgroundColor:"transparent",color:"inherit"},e.palette.mode==="dark"&&{backgroundImage:"none"})),e.vars&&p({},t.color==="default"&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:we(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:we(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:we(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:we(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:t.color==="inherit"?"inherit":"var(--AppBar-color)"},t.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),uo=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiAppBar"}),{className:n,color:l="primary",enableColorOnDark:i=!1,position:a="fixed"}=r,d=A(r,ao),h=p({},r,{color:l,position:a,enableColorOnDark:i}),g=io(h);return o.jsx(co,p({square:!0,component:"header",ownerState:h,elevation:4,className:k(g.root,n,a==="fixed"&&"mui-fixed"),ref:s},d))});function po(e){return $("MuiDialog",e)}const Ee=N("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),wt=c.createContext({}),fo=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],bo=B(ro,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),xo=e=>{const{classes:t,scroll:s,maxWidth:r,fullWidth:n,fullScreen:l}=e,i={root:["root"],container:["container",`scroll${D(s)}`],paper:["paper",`paperScroll${D(s)}`,`paperWidth${D(String(r))}`,n&&"paperFullWidth",l&&"paperFullScreen"]};return W(i,po,t)},ho=B(so,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),go=B("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.container,t[`scroll${D(s.scroll)}`]]}})(({ownerState:e})=>p({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),vo=B(H,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.paper,t[`scrollPaper${D(s.scroll)}`],t[`paperWidth${D(String(s.maxWidth))}`],s.fullWidth&&t.paperFullWidth,s.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>p({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${Ee.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Ee.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Ee.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Rt=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiDialog"}),n=ht(),l={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":a,BackdropComponent:d,BackdropProps:h,children:g,className:m,disableEscapeKeyDown:f=!1,fullScreen:b=!1,fullWidth:S=!1,maxWidth:R="sm",onBackdropClick:j,onClick:C,onClose:M,open:Y,PaperComponent:_=H,PaperProps:O={},scroll:K="paper",TransitionComponent:V=oo,transitionDuration:se=l,TransitionProps:J}=r,F=A(r,fo),Q=p({},r,{disableEscapeKeyDown:f,fullScreen:b,fullWidth:S,maxWidth:R,scroll:K}),ge=xo(Q),E=c.useRef(),z=X=>{E.current=X.target===X.currentTarget},re=X=>{C&&C(X),E.current&&(E.current=null,j&&j(X),M&&M(X,"backdropClick"))},Z=to(a),ce=c.useMemo(()=>({titleId:Z}),[Z]);return o.jsx(ho,p({className:k(ge.root,m),closeAfterTransition:!0,components:{Backdrop:bo},componentsProps:{backdrop:p({transitionDuration:se,as:d},h)},disableEscapeKeyDown:f,onClose:M,open:Y,ref:s,onClick:re,ownerState:Q},F,{children:o.jsx(V,p({appear:!0,in:Y,timeout:se,role:"presentation"},J,{children:o.jsx(go,{className:k(ge.container),onMouseDown:z,ownerState:Q,children:o.jsx(vo,p({as:_,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":Z},O,{className:k(ge.paper,O.className),ownerState:Q,children:o.jsx(wt.Provider,{value:ce,children:g})}))})}))}))});function mo(e){return $("MuiDialogActions",e)}N("MuiDialogActions",["root","spacing"]);const yo=["className","disableSpacing"],Co=e=>{const{classes:t,disableSpacing:s}=e;return W({root:["root",!s&&"spacing"]},mo,t)},So=B("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableSpacing&&t.spacing]}})(({ownerState:e})=>p({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Dt=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiDialogActions"}),{className:n,disableSpacing:l=!1}=r,i=A(r,yo),a=p({},r,{disableSpacing:l}),d=Co(a);return o.jsx(So,p({className:k(d.root,n),ownerState:a,ref:s},i))});function jo(e){return $("MuiDialogContent",e)}N("MuiDialogContent",["root","dividers"]);function To(e){return $("MuiDialogTitle",e)}const ko=N("MuiDialogTitle",["root"]),Bo=["className","dividers"],Mo=e=>{const{classes:t,dividers:s}=e;return W({root:["root",s&&"dividers"]},jo,t)},wo=B("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>p({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${ko.root} + &`]:{paddingTop:0}})),At=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiDialogContent"}),{className:n,dividers:l=!1}=r,i=A(r,Bo),a=p({},r,{dividers:l}),d=Mo(a);return o.jsx(wo,p({className:k(d.root,n),ownerState:a,ref:s},i))}),Ro=["className","id"],Do=e=>{const{classes:t}=e;return W({root:["root"]},To,t)},Ao=B(L,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),It=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiDialogTitle"}),{className:n,id:l}=r,i=A(r,Ro),a=r,d=Do(a),{titleId:h=l}=c.useContext(wt);return o.jsx(Ao,p({component:"h2",className:k(d.root,n),ownerState:a,ref:s,variant:"h6",id:l??h},i))});function Io(e){return $("MuiTab",e)}const oe=N("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),$o=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],No=e=>{const{classes:t,textColor:s,fullWidth:r,wrapped:n,icon:l,label:i,selected:a,disabled:d}=e,h={root:["root",l&&i&&"labelIcon",`textColor${D(s)}`,r&&"fullWidth",n&&"wrapped",a&&"selected",d&&"disabled"],iconWrapper:["iconWrapper"]};return W(h,Io,t)},Po=B(gt,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.label&&s.icon&&t.labelIcon,t[`textColor${D(s.textColor)}`],s.fullWidth&&t.fullWidth,s.wrapped&&t.wrapped,{[`& .${oe.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>p({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${oe.iconWrapper}`]:p({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${oe.selected}`]:{opacity:1},[`&.${oe.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${oe.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${oe.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${oe.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${oe.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),ue=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiTab"}),{className:n,disabled:l=!1,disableFocusRipple:i=!1,fullWidth:a,icon:d,iconPosition:h="top",indicator:g,label:m,onChange:f,onClick:b,onFocus:S,selected:R,selectionFollowsFocus:j,textColor:C="inherit",value:M,wrapped:Y=!1}=r,_=A(r,$o),O=p({},r,{disabled:l,disableFocusRipple:i,selected:R,icon:!!d,iconPosition:h,label:!!m,fullWidth:a,textColor:C,wrapped:Y}),K=No(O),V=d&&m&&c.isValidElement(d)?c.cloneElement(d,{className:k(K.iconWrapper,d.props.className)}):d,se=F=>{!R&&f&&f(F,M),b&&b(F)},J=F=>{j&&!R&&f&&f(F,M),S&&S(F)};return o.jsxs(Po,p({focusRipple:!i,className:k(K.root,n),ref:s,role:"tab","aria-selected":R,disabled:l,onClick:se,onFocus:J,ownerState:O,tabIndex:R?0:-1},_,{children:[h==="top"||h==="start"?o.jsxs(c.Fragment,{children:[V,m]}):o.jsxs(c.Fragment,{children:[m,V]}),g]}))}),$t=c.createContext();function Wo(e){return $("MuiTable",e)}N("MuiTable",["root","stickyHeader"]);const Eo=["className","component","padding","size","stickyHeader"],zo=e=>{const{classes:t,stickyHeader:s}=e;return W({root:["root",s&&"stickyHeader"]},Wo,t)},Ho=B("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>p({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":p({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),lt="table",_e=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiTable"}),{className:n,component:l=lt,padding:i="normal",size:a="medium",stickyHeader:d=!1}=r,h=A(r,Eo),g=p({},r,{component:l,padding:i,size:a,stickyHeader:d}),m=zo(g),f=c.useMemo(()=>({padding:i,size:a,stickyHeader:d}),[i,a,d]);return o.jsx($t.Provider,{value:f,children:o.jsx(Ho,p({as:l,role:l===lt?null:"table",ref:s,className:k(m.root,n),ownerState:g},h))})}),Ie=c.createContext();function Uo(e){return $("MuiTableBody",e)}N("MuiTableBody",["root"]);const Lo=["className","component"],Oo=e=>{const{classes:t}=e;return W({root:["root"]},Uo,t)},Fo=B("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),_o={variant:"body"},at="tbody",Xe=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiTableBody"}),{className:n,component:l=at}=r,i=A(r,Lo),a=p({},r,{component:l}),d=Oo(a);return o.jsx(Ie.Provider,{value:_o,children:o.jsx(Fo,p({className:k(d.root,n),as:l,ref:s,role:l===at?null:"rowgroup",ownerState:a},i))})});function Xo(e){return $("MuiTableCell",e)}const qo=N("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Yo=["align","className","component","padding","scope","size","sortDirection","variant"],Vo=e=>{const{classes:t,variant:s,align:r,padding:n,size:l,stickyHeader:i}=e,a={root:["root",s,i&&"stickyHeader",r!=="inherit"&&`align${D(r)}`,n!=="normal"&&`padding${D(n)}`,`size${D(l)}`]};return W(a,Xo,t)},Go=B("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[s.variant],t[`size${D(s.size)}`],s.padding!=="normal"&&t[`padding${D(s.padding)}`],s.align!=="inherit"&&t[`align${D(s.align)}`],s.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>p({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?fe.lighten(fe.alpha(e.palette.divider,1),.88):fe.darken(fe.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},t.variant==="head"&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},t.variant==="body"&&{color:(e.vars||e).palette.text.primary},t.variant==="footer"&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},t.size==="small"&&{padding:"6px 16px",[`&.${qo.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},t.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},t.padding==="none"&&{padding:0},t.align==="left"&&{textAlign:"left"},t.align==="center"&&{textAlign:"center"},t.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},t.align==="justify"&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),T=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiTableCell"}),{align:n="inherit",className:l,component:i,padding:a,scope:d,size:h,sortDirection:g,variant:m}=r,f=A(r,Yo),b=c.useContext($t),S=c.useContext(Ie),R=S&&S.variant==="head";let j;i?j=i:j=R?"th":"td";let C=d;j==="td"?C=void 0:!C&&R&&(C="col");const M=m||S&&S.variant,Y=p({},r,{align:n,component:j,padding:a||(b&&b.padding?b.padding:"normal"),size:h||(b&&b.size?b.size:"medium"),sortDirection:g,stickyHeader:M==="head"&&b&&b.stickyHeader,variant:M}),_=Vo(Y);let O=null;return g&&(O=g==="asc"?"ascending":"descending"),o.jsx(Go,p({as:j,ref:s,className:k(_.root,l),"aria-sort":O,scope:C,ownerState:Y},f))});function Ko(e){return $("MuiTableContainer",e)}N("MuiTableContainer",["root"]);const Jo=["className","component"],Qo=e=>{const{classes:t}=e;return W({root:["root"]},Ko,t)},Zo=B("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),qe=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiTableContainer"}),{className:n,component:l="div"}=r,i=A(r,Jo),a=p({},r,{component:l}),d=Qo(a);return o.jsx(Zo,p({ref:s,as:l,className:k(d.root,n),ownerState:a},i))});function es(e){return $("MuiTableHead",e)}N("MuiTableHead",["root"]);const ts=["className","component"],os=e=>{const{classes:t}=e;return W({root:["root"]},es,t)},ss=B("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),rs={variant:"head"},it="thead",Ye=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiTableHead"}),{className:n,component:l=it}=r,i=A(r,ts),a=p({},r,{component:l}),d=os(a);return o.jsx(Ie.Provider,{value:rs,children:o.jsx(ss,p({as:l,className:k(d.root,n),ref:s,role:l===it?null:"rowgroup",ownerState:a},i))})});function ns(e){return $("MuiToolbar",e)}N("MuiToolbar",["root","gutters","regular","dense"]);const ls=["className","component","disableGutters","variant"],as=e=>{const{classes:t,disableGutters:s,variant:r}=e;return W({root:["root",!s&&"gutters",r]},ns,t)},is=B("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableGutters&&t.gutters,t[s.variant]]}})(({theme:e,ownerState:t})=>p({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},t.variant==="dense"&&{minHeight:48}),({theme:e,ownerState:t})=>t.variant==="regular"&&e.mixins.toolbar),cs=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiToolbar"}),{className:n,component:l="div",disableGutters:i=!1,variant:a="regular"}=r,d=A(r,ls),h=p({},r,{component:l,disableGutters:i,variant:a}),g=as(h);return o.jsx(is,p({as:l,className:k(g.root,n),ref:s,ownerState:h},d))}),ds=vt(o.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),us=vt(o.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function ps(e){return $("MuiTableRow",e)}const ct=N("MuiTableRow",["root","selected","hover","head","footer"]),fs=["className","component","hover","selected"],bs=e=>{const{classes:t,selected:s,hover:r,head:n,footer:l}=e;return W({root:["root",s&&"selected",r&&"hover",n&&"head",l&&"footer"]},ps,t)},xs=B("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.head&&t.head,s.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${ct.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${ct.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:fe.alpha(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:fe.alpha(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),dt="tr",he=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiTableRow"}),{className:n,component:l=dt,hover:i=!1,selected:a=!1}=r,d=A(r,fs),h=c.useContext(Ie),g=p({},r,{component:l,hover:i,selected:a,head:h&&h.variant==="head",footer:h&&h.variant==="footer"}),m=bs(g);return o.jsx(xs,p({as:l,ref:s,className:k(m.root,n),role:l===dt?null:"row",ownerState:g},d))});function hs(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function gs(e,t,s,r={},n=()=>{}){const{ease:l=hs,duration:i=300}=r;let a=null;const d=t[e];let h=!1;const g=()=>{h=!0},m=f=>{if(h){n(new Error("Animation cancelled"));return}a===null&&(a=f);const b=Math.min(1,(f-a)/i);if(t[e]=l(b)*(s-d)+d,b>=1){requestAnimationFrame(()=>{n(null)});return}requestAnimationFrame(m)};return d===s?(n(new Error("Element already at target position")),g):(requestAnimationFrame(m),g)}const vs=["onChange"],ms={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function ys(e){const{onChange:t}=e,s=A(e,vs),r=c.useRef(),n=c.useRef(null),l=()=>{r.current=n.current.offsetHeight-n.current.clientHeight};return Yt(()=>{const i=Tt(()=>{const d=r.current;l(),d!==r.current&&t(r.current)}),a=kt(n.current);return a.addEventListener("resize",i),()=>{i.clear(),a.removeEventListener("resize",i)}},[t]),c.useEffect(()=>{l(),t(r.current)},[t]),o.jsx("div",p({style:ms},s,{ref:n}))}function Cs(e){return $("MuiTabScrollButton",e)}const Ss=N("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),js=["className","slots","slotProps","direction","orientation","disabled"],Ts=e=>{const{classes:t,orientation:s,disabled:r}=e;return W({root:["root",s,r&&"disabled"]},Cs,t)},ks=B(gt,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.orientation&&t[s.orientation]]}})(({ownerState:e})=>p({width:40,flexShrink:0,opacity:.8,[`&.${Ss.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),Bs=c.forwardRef(function(t,s){var r,n;const l=P({props:t,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:d={},direction:h}=l,g=A(l,js),m=mt(),f=p({isRtl:m},l),b=Ts(f),S=(r=a.StartScrollButtonIcon)!=null?r:ds,R=(n=a.EndScrollButtonIcon)!=null?n:us,j=De({elementType:S,externalSlotProps:d.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),C=De({elementType:R,externalSlotProps:d.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return o.jsx(ks,p({component:"div",className:k(b.root,i),ref:s,role:null,ownerState:f,tabIndex:null},g,{children:h==="left"?o.jsx(S,p({},j)):o.jsx(R,p({},C))}))});function Ms(e){return $("MuiTabs",e)}const ze=N("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),ws=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],ut=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,pt=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Re=(e,t,s)=>{let r=!1,n=s(e,t);for(;n;){if(n===e.firstChild){if(r)return;r=!0}const l=n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||l)n=s(e,n);else{n.focus();return}}},Rs=e=>{const{vertical:t,fixed:s,hideScrollbar:r,scrollableX:n,scrollableY:l,centered:i,scrollButtonsHideMobile:a,classes:d}=e;return W({root:["root",t&&"vertical"],scroller:["scroller",s&&"fixed",r&&"hideScrollbar",n&&"scrollableX",l&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[n&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Ms,d)},Ds=B("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${ze.scrollButtons}`]:t.scrollButtons},{[`& .${ze.scrollButtons}`]:s.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,s.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>p({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${ze.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),As=B("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.scroller,s.fixed&&t.fixed,s.hideScrollbar&&t.hideScrollbar,s.scrollableX&&t.scrollableX,s.scrollableY&&t.scrollableY]}})(({ownerState:e})=>p({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),Is=B("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.flexContainer,s.vertical&&t.flexContainerVertical,s.centered&&t.centered]}})(({ownerState:e})=>p({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),$s=B("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>p({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),Ns=B(ys)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),ft={},Ps=c.forwardRef(function(t,s){const r=P({props:t,name:"MuiTabs"}),n=ht(),l=mt(),{"aria-label":i,"aria-labelledby":a,action:d,centered:h=!1,children:g,className:m,component:f="div",allowScrollButtonsMobile:b=!1,indicatorColor:S="primary",onChange:R,orientation:j="horizontal",ScrollButtonComponent:C=Bs,scrollButtons:M="auto",selectionFollowsFocus:Y,slots:_={},slotProps:O={},TabIndicatorProps:K={},TabScrollButtonProps:V={},textColor:se="primary",value:J,variant:F="standard",visibleScrollbar:Q=!1}=r,ge=A(r,ws),E=F==="scrollable",z=j==="vertical",re=z?"scrollTop":"scrollLeft",Z=z?"top":"left",ce=z?"bottom":"right",X=z?"clientHeight":"clientWidth",ve=z?"height":"width",ne=p({},r,{component:f,allowScrollButtonsMobile:b,indicatorColor:S,orientation:j,vertical:z,scrollButtons:M,textColor:se,variant:F,visibleScrollbar:Q,fixed:!E,hideScrollbar:E&&!Q,scrollableX:E&&!z,scrollableY:E&&z,centered:h&&!E,scrollButtonsHideMobile:!b}),ee=Rs(ne),Nt=De({elementType:_.StartScrollButtonIcon,externalSlotProps:O.startScrollButtonIcon,ownerState:ne}),Pt=De({elementType:_.EndScrollButtonIcon,externalSlotProps:O.endScrollButtonIcon,ownerState:ne}),[Ve,Wt]=c.useState(!1),[le,Ge]=c.useState(ft),[Ke,Et]=c.useState(!1),[Je,zt]=c.useState(!1),[Qe,Ht]=c.useState(!1),[Ze,Ut]=c.useState({overflow:"hidden",scrollbarWidth:0}),et=new Map,G=c.useRef(null),ae=c.useRef(null),tt=()=>{const u=G.current;let x;if(u){const v=u.getBoundingClientRect();x={clientWidth:u.clientWidth,scrollLeft:u.scrollLeft,scrollTop:u.scrollTop,scrollLeftNormalized:no(u,l?"rtl":"ltr"),scrollWidth:u.scrollWidth,top:v.top,bottom:v.bottom,left:v.left,right:v.right}}let y;if(u&&J!==!1){const v=ae.current.children;if(v.length>0){const w=v[et.get(J)];y=w?w.getBoundingClientRect():null}}return{tabsMeta:x,tabMeta:y}},me=We(()=>{const{tabsMeta:u,tabMeta:x}=tt();let y=0,v;if(z)v="top",x&&u&&(y=x.top-u.top+u.scrollTop);else if(v=l?"right":"left",x&&u){const I=l?u.scrollLeftNormalized+u.clientWidth-u.scrollWidth:u.scrollLeft;y=(l?-1:1)*(x[v]-u[v]+I)}const w={[v]:y,[ve]:x?x[ve]:0};if(isNaN(le[v])||isNaN(le[ve]))Ge(w);else{const I=Math.abs(le[v]-w[v]),q=Math.abs(le[ve]-w[ve]);(I>=1||q>=1)&&Ge(w)}}),$e=(u,{animation:x=!0}={})=>{x?gs(re,G.current,u,{duration:n.transitions.duration.standard}):G.current[re]=u},ot=u=>{let x=G.current[re];z?x+=u:(x+=u*(l?-1:1),x*=l&&Mt()==="reverse"?-1:1),$e(x)},st=()=>{const u=G.current[X];let x=0;const y=Array.from(ae.current.children);for(let v=0;v<y.length;v+=1){const w=y[v];if(x+w[X]>u){v===0&&(x=u);break}x+=w[X]}return x},Lt=()=>{ot(-1*st())},Ot=()=>{ot(st())},Ft=c.useCallback(u=>{Ut({overflow:null,scrollbarWidth:u})},[]),_t=()=>{const u={};u.scrollbarSizeListener=E?o.jsx(Ns,{onChange:Ft,className:k(ee.scrollableX,ee.hideScrollbar)}):null;const y=E&&(M==="auto"&&(Ke||Je)||M===!0);return u.scrollButtonStart=y?o.jsx(C,p({slots:{StartScrollButtonIcon:_.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:Nt},orientation:j,direction:l?"right":"left",onClick:Lt,disabled:!Ke},V,{className:k(ee.scrollButtons,V.className)})):null,u.scrollButtonEnd=y?o.jsx(C,p({slots:{EndScrollButtonIcon:_.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:Pt},orientation:j,direction:l?"left":"right",onClick:Ot,disabled:!Je},V,{className:k(ee.scrollButtons,V.className)})):null,u},rt=We(u=>{const{tabsMeta:x,tabMeta:y}=tt();if(!(!y||!x)){if(y[Z]<x[Z]){const v=x[re]+(y[Z]-x[Z]);$e(v,{animation:u})}else if(y[ce]>x[ce]){const v=x[re]+(y[ce]-x[ce]);$e(v,{animation:u})}}}),ke=We(()=>{E&&M!==!1&&Ht(!Qe)});c.useEffect(()=>{const u=Tt(()=>{G.current&&me()});let x;const y=I=>{I.forEach(q=>{q.removedNodes.forEach(ye=>{var te;(te=x)==null||te.unobserve(ye)}),q.addedNodes.forEach(ye=>{var te;(te=x)==null||te.observe(ye)})}),u(),ke()},v=kt(G.current);v.addEventListener("resize",u);let w;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(u),Array.from(ae.current.children).forEach(I=>{x.observe(I)})),typeof MutationObserver<"u"&&(w=new MutationObserver(y),w.observe(ae.current,{childList:!0})),()=>{var I,q;u.clear(),v.removeEventListener("resize",u),(I=w)==null||I.disconnect(),(q=x)==null||q.disconnect()}},[me,ke]),c.useEffect(()=>{const u=Array.from(ae.current.children),x=u.length;if(typeof IntersectionObserver<"u"&&x>0&&E&&M!==!1){const y=u[0],v=u[x-1],w={root:G.current,threshold:.99},I=Pe=>{Et(!Pe[0].isIntersecting)},q=new IntersectionObserver(I,w);q.observe(y);const ye=Pe=>{zt(!Pe[0].isIntersecting)},te=new IntersectionObserver(ye,w);return te.observe(v),()=>{q.disconnect(),te.disconnect()}}},[E,M,Qe,g==null?void 0:g.length]),c.useEffect(()=>{Wt(!0)},[]),c.useEffect(()=>{me()}),c.useEffect(()=>{rt(ft!==le)},[rt,le]),c.useImperativeHandle(d,()=>({updateIndicator:me,updateScrollButtons:ke}),[me,ke]);const nt=o.jsx($s,p({},K,{className:k(ee.indicator,K.className),ownerState:ne,style:p({},le,K.style)}));let Be=0;const Xt=c.Children.map(g,u=>{if(!c.isValidElement(u))return null;const x=u.props.value===void 0?Be:u.props.value;et.set(x,Be);const y=x===J;return Be+=1,c.cloneElement(u,p({fullWidth:F==="fullWidth",indicator:y&&!Ve&&nt,selected:y,selectionFollowsFocus:Y,onChange:R,textColor:se,value:x},Be===1&&J===!1&&!u.props.tabIndex?{tabIndex:0}:{}))}),qt=u=>{const x=ae.current,y=Vt(x).activeElement;if(y.getAttribute("role")!=="tab")return;let w=j==="horizontal"?"ArrowLeft":"ArrowUp",I=j==="horizontal"?"ArrowRight":"ArrowDown";switch(j==="horizontal"&&l&&(w="ArrowRight",I="ArrowLeft"),u.key){case w:u.preventDefault(),Re(x,y,pt);break;case I:u.preventDefault(),Re(x,y,ut);break;case"Home":u.preventDefault(),Re(x,null,ut);break;case"End":u.preventDefault(),Re(x,null,pt);break}},Ne=_t();return o.jsxs(Ds,p({className:k(ee.root,m),ownerState:ne,ref:s,as:f},ge,{children:[Ne.scrollButtonStart,Ne.scrollbarSizeListener,o.jsxs(As,{className:ee.scroller,ownerState:ne,style:{overflow:Ze.overflow,[z?`margin${l?"Left":"Right"}`:"marginBottom"]:Q?void 0:-Ze.scrollbarWidth},ref:G,children:[o.jsx(Is,{"aria-label":i,"aria-labelledby":a,"aria-orientation":j==="vertical"?"vertical":null,className:ee.flexContainer,ownerState:ne,onKeyDown:qt,ref:ae,role:"tablist",children:Xt}),Ve&&nt]}),Ne.scrollButtonEnd]}))});var Ce={},bt;function Ws(){if(bt)return Ce;bt=1;var e=yt();Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0;var t=e(Bt()),s=Ct();return Ce.default=(0,t.default)([(0,s.jsx)("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),(0,s.jsx)("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),Ce}var Es=Ws();const zs=St(Es);function Hs(){const[e,t]=c.useState([]),[s,r]=c.useState(!0),[n,l]=c.useState(null),[i,a]=c.useState(!1),[d,h]=c.useState({open:!1,message:"",severity:"info"});c.useEffect(()=>{be(ie(U,"users")).then(b=>{t(b.docs.map(S=>({id:S.id,...S.data()}))),r(!1)})},[]);const g=async b=>{l(b),a(!0)},m=async()=>{n&&(await Oe(je(U,"users",n.id)),t(e.filter(b=>b.id!==n.id)),a(!1),l(null))},f=async b=>{try{const S=await fetch("https://us-central1-shows-watched.cloudfunctions.net/promoteToAdmin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:b.id})}),R=await S.json();S.ok?h({open:!0,message:"User promoted to admin!",severity:"success"}):h({open:!0,message:"Failed: "+(R.error||"Unknown error"),severity:"error"})}catch(S){h({open:!0,message:"Failed to promote user: "+(S.message||""),severity:"error"})}};return s?o.jsx(H,{sx:{p:3},children:o.jsx(Ae,{})}):o.jsxs(H,{sx:{p:3},children:[o.jsx(L,{variant:"h6",children:"User Management"}),o.jsx(qe,{children:o.jsxs(_e,{children:[o.jsx(Ye,{children:o.jsxs(he,{children:[o.jsx(T,{children:"Email"}),o.jsx(T,{children:"Display Name"}),o.jsx(T,{children:"Registered"}),o.jsx(T,{children:"Actions"})]})}),o.jsx(Xe,{children:e.map(b=>o.jsxs(he,{children:[o.jsx(T,{children:b.email}),o.jsx(T,{children:b.displayName}),o.jsx(T,{children:b.registeredAt?new Date(b.registeredAt.seconds*1e3).toLocaleDateString():""}),o.jsxs(T,{children:[o.jsx(Zt,{title:"Promote to Admin",children:o.jsx(Te,{color:"primary",onClick:()=>f(b),children:o.jsx(zs,{})})}),o.jsx(Te,{color:"error",onClick:()=>g(b),children:o.jsx(Fe,{})})]})]},b.id))})]})}),o.jsxs(Rt,{open:i,onClose:()=>a(!1),children:[o.jsx(It,{children:"Delete User?"}),o.jsxs(At,{children:["Are you sure you want to delete ",n==null?void 0:n.email,"?"]}),o.jsxs(Dt,{children:[o.jsx(xe,{onClick:()=>a(!1),children:"Cancel"}),o.jsx(xe,{color:"error",onClick:m,children:"Delete"})]})]}),o.jsx(He,{open:d.open,autoHideDuration:4e3,onClose:()=>h({...d,open:!1}),children:o.jsx(Ue,{severity:d.severity,sx:{width:"100%"},children:d.message})})]})}function Us(){const[e,t]=c.useState([]),[s,r]=c.useState(!0),[n,l]=c.useState(null),[i,a]=c.useState(!1),[d,h]=c.useState({});c.useEffect(()=>{async function f(){const S=(await be(ie(U,"diary"))).docs.map(C=>({...C.data(),id:C.id}));t(S);const R=[...new Set(S.map(C=>C.userId).filter(Boolean))],j={};await Promise.all(R.map(async C=>{try{const M=await Gt(je(U,"users",C));j[C]=M.exists()&&(M.data().displayName||M.data().email)||C}catch{j[C]=C}})),h(j),r(!1)}f()},[]);const g=async f=>{l(f),a(!0)},m=async()=>{if(n){const f=await jt.currentUser.getIdTokenResult();console.log("Token claims:",f.claims),console.log("Deleting diary entry with ID:",n.id),console.log("Attempting to delete from Firestore: ",{diaryId:n.id,docRef:je(U,"diary",String(n.id))});try{console.log("Calling deleteDoc..."),await Oe(je(U,"diary",String(n.id))),console.log("Successfully deleted doc:",n.id),t(e.filter(b=>b.id!==n.id)),alert("Diary entry deleted successfully: "+n.id)}catch(b){console.error("Failed to remove from diary:",b),alert("Failed to delete diary entry: "+(b&&b.message?b.message:b))}a(!1),l(null)}};return s?o.jsx(H,{sx:{p:3},children:o.jsx(Ae,{})}):o.jsxs(H,{sx:{p:3},children:[o.jsx(L,{variant:"h6",children:"Diary Management"}),o.jsx(qe,{children:o.jsxs(_e,{children:[o.jsx(Ye,{children:o.jsxs(he,{children:[o.jsx(T,{children:"User ID"}),o.jsx(T,{children:"Title"}),o.jsx(T,{children:"Date Added"}),o.jsx(T,{children:"Actions"})]})}),o.jsx(Xe,{children:e.map(f=>o.jsxs(he,{children:[o.jsxs(T,{children:[f.userId,d[f.userId]?` (${d[f.userId]})`:""]}),o.jsx(T,{children:f.title||f.name}),o.jsx(T,{children:f.addedAt?new Date(f.addedAt).toLocaleDateString():""}),o.jsx(T,{children:o.jsx(Te,{color:"error",onClick:()=>g(f),children:o.jsx(Fe,{})})})]},String(f.id)))})]})}),o.jsxs(Rt,{open:i,onClose:()=>a(!1),children:[o.jsx(It,{children:"Delete Diary Entry?"}),o.jsx(At,{children:"Are you sure you want to delete this entry?"}),o.jsxs(Dt,{children:[o.jsx(xe,{onClick:()=>a(!1),children:"Cancel"}),o.jsx(xe,{color:"error",onClick:m,children:"Delete"})]})]})]})}var Se={},xt;function Ls(){if(xt)return Se;xt=1;var e=yt();Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var t=e(Bt()),s=Ct();return Se.default=(0,t.default)((0,s.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Se}var Os=Ls();const Fs=St(Os);function _s(){const[e,t]=c.useState([]),[s,r]=c.useState(!0);c.useEffect(()=>{be(ie(U,"diary")).then(i=>{t(i.docs.map(a=>({id:a.id,...a.data()}))),r(!1)})},[]);const n=async i=>{t(e.filter(a=>a.id!==i.id))},l=async i=>{await Oe(je(U,"diary",i.id)),t(e.filter(a=>a.id!==i.id))};return s?o.jsx(H,{sx:{p:3},children:o.jsx(Ae,{})}):o.jsxs(H,{sx:{p:3},children:[o.jsx(L,{variant:"h6",children:"Moderation Tools"}),o.jsx(qe,{children:o.jsxs(_e,{children:[o.jsx(Ye,{children:o.jsxs(he,{children:[o.jsx(T,{children:"Entry"}),o.jsx(T,{children:"User ID"}),o.jsx(T,{children:"Actions"})]})}),o.jsx(Xe,{children:e.map(i=>o.jsxs(he,{children:[o.jsx(T,{children:i.title||i.name}),o.jsx(T,{children:i.userId}),o.jsxs(T,{children:[o.jsx(Te,{color:"success",onClick:()=>n(i),children:o.jsx(Fs,{})}),o.jsx(Te,{color:"error",onClick:()=>l(i),children:o.jsx(Fe,{})})]})]},i.id))})]})})]})}function Xs(){const[e,t]=c.useState(null),[s,r]=c.useState(!0);return c.useEffect(()=>{async function n(){const l=await be(ie(U,"users")),i=await be(ie(U,"diary")),a=l.docs.map(f=>f.data()),d=i.docs.map(f=>f.data()),h={};d.forEach(f=>{h[f.userId]||(h[f.userId]=0),h[f.userId]++});let g=null,m=0;Object.entries(h).forEach(([f,b])=>{b>m&&(g=f,m=b)}),t({userCount:a.length,diaryCount:d.length,mostActiveUser:g,mostEntries:m}),r(!1)}n()},[]),s?o.jsx(H,{sx:{p:3},children:o.jsx(Ae,{})}):o.jsxs(H,{sx:{p:3},children:[o.jsx(L,{variant:"h6",children:"Analytics"}),o.jsxs(Me,{container:!0,spacing:2,sx:{mt:2},children:[o.jsx(Me,{item:!0,xs:12,md:4,children:o.jsxs(L,{children:["Total Users: ",e.userCount]})}),o.jsx(Me,{item:!0,xs:12,md:4,children:o.jsxs(L,{children:["Total Diary Entries: ",e.diaryCount]})}),o.jsx(Me,{item:!0,xs:12,md:4,children:o.jsxs(L,{children:["Most Active User: ",e.mostActiveUser||"N/A"," (",e.mostEntries||0," entries)"]})})]})]})}function qs(){const[e,t]=c.useState(""),[s,r]=c.useState(!1),[n,l]=c.useState(!1),[i,a]=c.useState(""),d=async()=>{if(e.trim()){r(!0);try{const g=(await be(ie(U,"users"))).docs.map(m=>Kt(ie(U,"users",m.id,"notifications"),{text:e,createdAt:new Date().toISOString(),read:!1}));await Promise.all(g),l(!0),t("")}catch{a("Failed to send notification.")}finally{r(!1)}}};return o.jsxs(H,{sx:{p:3},children:[o.jsx(L,{variant:"h6",children:"Notifications & Announcements"}),o.jsx(eo,{label:"Notification Message",value:e,onChange:h=>t(h.target.value),fullWidth:!0,multiline:!0,minRows:2,sx:{mt:2,mb:2}}),o.jsx(xe,{variant:"contained",onClick:d,disabled:s||!e.trim(),children:s?"Sending...":"Send to All Users"}),o.jsx(He,{open:n,autoHideDuration:4e3,onClose:()=>l(!1),children:o.jsx(Ue,{severity:"success",sx:{width:"100%"},children:"Notification sent!"})}),o.jsx(He,{open:!!i,autoHideDuration:4e3,onClose:()=>a(""),children:o.jsx(Ue,{severity:"error",sx:{width:"100%"},children:i})})]})}function pe(e){const{children:t,value:s,index:r,...n}=e;return o.jsx("div",{role:"tabpanel",hidden:s!==r,id:`tabpanel-${r}`,"aria-labelledby":`tab-${r}`,...n,children:s===r&&o.jsx(Le,{sx:{p:2},children:t})})}function tr(){const[e,t]=c.useState(0),s=Jt(),r=async()=>{await Qt(jt),s("/")},n=(l,i)=>t(i);return o.jsxs(Le,{children:[o.jsx(uo,{position:"static",children:o.jsxs(cs,{children:[o.jsx(L,{variant:"h6",sx:{flexGrow:1},children:"Admin Dashboard"}),o.jsxs(Ps,{value:e,onChange:n,textColor:"inherit",indicatorColor:"secondary",sx:{flexGrow:1},children:[o.jsx(ue,{label:"Overview"}),o.jsx(ue,{label:"Users"}),o.jsx(ue,{label:"Diary Entries"}),o.jsx(ue,{label:"Moderation"}),o.jsx(ue,{label:"Analytics"}),o.jsx(ue,{label:"Notifications"})]}),o.jsx(xe,{color:"inherit",onClick:r,sx:{ml:2},children:"Logout"})]})}),o.jsxs(Le,{sx:{p:2},children:[o.jsx(pe,{value:e,index:0,children:o.jsx(Ys,{})}),o.jsx(pe,{value:e,index:1,children:o.jsx(Hs,{})}),o.jsx(pe,{value:e,index:2,children:o.jsx(Us,{})}),o.jsx(pe,{value:e,index:3,children:o.jsx(_s,{})}),o.jsx(pe,{value:e,index:4,children:o.jsx(Xs,{})}),o.jsx(pe,{value:e,index:5,children:o.jsx(qs,{})})]})]})}function Ys(){return o.jsxs(H,{sx:{p:3},children:[o.jsx(L,{variant:"h6",children:"Welcome to the Admin Dashboard"}),o.jsx(L,{sx:{mt:1},children:"Use the tabs above to manage users, diary entries, moderate content, view analytics, and send notifications."})]})}export{tr as default};
