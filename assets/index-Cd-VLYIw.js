(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $E(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function OS(){if(B_)return zl;B_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var q_;function MS(){return q_||(q_=1,gm.exports=OS()),gm.exports}var A=MS(),ym={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function VS(){if(H_)return Oe;H_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Q={};function H(O,ne,le){this.props=O,this.context=ne,this.refs=Q,this.updater=le||V}H.prototype.isReactComponent={},H.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=H.prototype;function se(O,ne,le){this.props=O,this.context=ne,this.refs=Q,this.updater=le||V}var ie=se.prototype=new Y;ie.constructor=se,P(ie,H.prototype),ie.isPureReactComponent=!0;var pe=Array.isArray,de={H:null,A:null,T:null,S:null,V:null},be=Object.prototype.hasOwnProperty;function x(O,ne,le,re,Te,De){return le=De.ref,{$$typeof:i,type:O,key:ne,ref:le!==void 0?le:null,props:De}}function R(O,ne){return x(O.type,ne,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function N(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return ne[le]})}var M=/\/+/g;function L(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):ne.toString(36)}function C(){}function et(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function it(O,ne,le,re,Te){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var _e=!1;if(O===null)_e=!0;else switch(De){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(O.$$typeof){case i:case e:_e=!0;break;case E:return _e=O._init,it(_e(O._payload),ne,le,re,Te)}}if(_e)return Te=Te(O),_e=re===""?"."+L(O,0):re,pe(Te)?(le="",_e!=null&&(le=_e.replace(M,"$&/")+"/"),it(Te,ne,le,"",function(pn){return pn})):Te!=null&&(I(Te)&&(Te=R(Te,le+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(M,"$&/")+"/")+_e)),ne.push(Te)),1;_e=0;var St=re===""?".":re+":";if(pe(O))for(var Qe=0;Qe<O.length;Qe++)re=O[Qe],De=St+L(re,Qe),_e+=it(re,ne,le,De,Te);else if(Qe=S(O),typeof Qe=="function")for(O=Qe.call(O),Qe=0;!(re=O.next()).done;)re=re.value,De=St+L(re,Qe++),_e+=it(re,ne,le,De,Te);else if(De==="object"){if(typeof O.then=="function")return it(et(O),ne,le,re,Te);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return _e}function X(O,ne,le){if(O==null)return O;var re=[],Te=0;return it(O,re,"","",function(De){return ne.call(le,De,Te++)}),re}function oe(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var ve=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qe(){}return Oe.Children={map:X,forEach:function(O,ne,le){X(O,function(){ne.apply(this,arguments)},le)},count:function(O){var ne=0;return X(O,function(){ne++}),ne},toArray:function(O){return X(O,function(ne){return ne})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Oe.Component=H,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=se,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return de.H.useMemoCache(O)}},Oe.cache=function(O){return function(){return O.apply(null,arguments)}},Oe.cloneElement=function(O,ne,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=P({},O.props),Te=O.key,De=void 0;if(ne!=null)for(_e in ne.ref!==void 0&&(De=void 0),ne.key!==void 0&&(Te=""+ne.key),ne)!be.call(ne,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&ne.ref===void 0||(re[_e]=ne[_e]);var _e=arguments.length-2;if(_e===1)re.children=le;else if(1<_e){for(var St=Array(_e),Qe=0;Qe<_e;Qe++)St[Qe]=arguments[Qe+2];re.children=St}return x(O.type,Te,void 0,void 0,De,re)},Oe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Oe.createElement=function(O,ne,le){var re,Te={},De=null;if(ne!=null)for(re in ne.key!==void 0&&(De=""+ne.key),ne)be.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Te[re]=ne[re]);var _e=arguments.length-2;if(_e===1)Te.children=le;else if(1<_e){for(var St=Array(_e),Qe=0;Qe<_e;Qe++)St[Qe]=arguments[Qe+2];Te.children=St}if(O&&O.defaultProps)for(re in _e=O.defaultProps,_e)Te[re]===void 0&&(Te[re]=_e[re]);return x(O,De,void 0,void 0,null,Te)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:m,render:O}},Oe.isValidElement=I,Oe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:oe}},Oe.memo=function(O,ne){return{$$typeof:g,type:O,compare:ne===void 0?null:ne}},Oe.startTransition=function(O){var ne=de.T,le={};de.T=le;try{var re=O(),Te=de.S;Te!==null&&Te(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(qe,ve)}catch(De){ve(De)}finally{de.T=ne}},Oe.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()},Oe.use=function(O){return de.H.use(O)},Oe.useActionState=function(O,ne,le){return de.H.useActionState(O,ne,le)},Oe.useCallback=function(O,ne){return de.H.useCallback(O,ne)},Oe.useContext=function(O){return de.H.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O,ne){return de.H.useDeferredValue(O,ne)},Oe.useEffect=function(O,ne,le){var re=de.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(O,ne)},Oe.useId=function(){return de.H.useId()},Oe.useImperativeHandle=function(O,ne,le){return de.H.useImperativeHandle(O,ne,le)},Oe.useInsertionEffect=function(O,ne){return de.H.useInsertionEffect(O,ne)},Oe.useLayoutEffect=function(O,ne){return de.H.useLayoutEffect(O,ne)},Oe.useMemo=function(O,ne){return de.H.useMemo(O,ne)},Oe.useOptimistic=function(O,ne){return de.H.useOptimistic(O,ne)},Oe.useReducer=function(O,ne,le){return de.H.useReducer(O,ne,le)},Oe.useRef=function(O){return de.H.useRef(O)},Oe.useState=function(O){return de.H.useState(O)},Oe.useSyncExternalStore=function(O,ne,le){return de.H.useSyncExternalStore(O,ne,le)},Oe.useTransition=function(){return de.H.useTransition()},Oe.version="19.1.0",Oe}var F_;function vp(){return F_||(F_=1,ym.exports=VS()),ym.exports}var U=vp();const ls=$E(U);var vm={exports:{}},Bl={},_m={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function PS(){return G_||(G_=1,function(i){function e(X,oe){var ve=X.length;X.push(oe);e:for(;0<ve;){var qe=ve-1>>>1,O=X[qe];if(0<o(O,oe))X[qe]=oe,X[ve]=O,ve=qe;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],ve=X.pop();if(ve!==oe){X[0]=ve;e:for(var qe=0,O=X.length,ne=O>>>1;qe<ne;){var le=2*(qe+1)-1,re=X[le],Te=le+1,De=X[Te];if(0>o(re,ve))Te<O&&0>o(De,re)?(X[qe]=De,X[Te]=ve,qe=Te):(X[qe]=re,X[le]=ve,qe=le);else if(Te<O&&0>o(De,ve))X[qe]=De,X[Te]=ve,qe=Te;else break e}}return oe}function o(X,oe){var ve=X.sortIndex-oe.sortIndex;return ve!==0?ve:X.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,b=null,S=3,V=!1,P=!1,Q=!1,H=!1,Y=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function pe(X){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=X)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function de(X){if(Q=!1,pe(X),!P)if(n(p)!==null)P=!0,be||(be=!0,L());else{var oe=n(g);oe!==null&&it(de,oe.startTime-X)}}var be=!1,x=-1,R=5,I=-1;function N(){return H?!0:!(i.unstable_now()-I<R)}function M(){if(H=!1,be){var X=i.unstable_now();I=X;var oe=!0;try{e:{P=!1,Q&&(Q=!1,se(x),x=-1),V=!0;var ve=S;try{t:{for(pe(X),b=n(p);b!==null&&!(b.expirationTime>X&&N());){var qe=b.callback;if(typeof qe=="function"){b.callback=null,S=b.priorityLevel;var O=qe(b.expirationTime<=X);if(X=i.unstable_now(),typeof O=="function"){b.callback=O,pe(X),oe=!0;break t}b===n(p)&&s(p),pe(X)}else s(p);b=n(p)}if(b!==null)oe=!0;else{var ne=n(g);ne!==null&&it(de,ne.startTime-X),oe=!1}}break e}finally{b=null,S=ve,V=!1}oe=void 0}}finally{oe?L():be=!1}}}var L;if(typeof ie=="function")L=function(){ie(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,et=C.port2;C.port1.onmessage=M,L=function(){et.postMessage(null)}}else L=function(){Y(M,0)};function it(X,oe){x=Y(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(X){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var ve=S;S=oe;try{return X()}finally{S=ve}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ve=S;S=X;try{return oe()}finally{S=ve}},i.unstable_scheduleCallback=function(X,oe,ve){var qe=i.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?qe+ve:qe):ve=qe,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ve+O,X={id:E++,callback:oe,priorityLevel:X,startTime:ve,expirationTime:O,sortIndex:-1},ve>qe?(X.sortIndex=ve,e(g,X),n(p)===null&&X===n(g)&&(Q?(se(x),x=-1):Q=!0,it(de,ve-qe))):(X.sortIndex=O,e(p,X),P||V||(P=!0,be||(be=!0,L()))),X},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(X){var oe=S;return function(){var ve=S;S=oe;try{return X.apply(this,arguments)}finally{S=ve}}}}(Em)),Em}var $_;function kS(){return $_||($_=1,_m.exports=PS()),_m.exports}var Tm={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function LS(){if(K_)return nn;K_=1;var i=vp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},nn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},nn.useFormStatus=function(){return f.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var Q_;function KE(){if(Q_)return Tm.exports;Q_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=LS(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function US(){if(Y_)return Bl;Y_=1;var i=kS(),e=vp(),n=KE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case H:return"Profiler";case Q:return"StrictMode";case de:return"Suspense";case be:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case pe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:et(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return et(t(r))}catch{}}return null}var it=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},qe=[],O=-1;function ne(t){return{current:t}}function le(t){0>O||(t.current=qe[O],qe[O]=null,O--)}function re(t,r){O++,qe[O]=t.current,t.current=r}var Te=ne(null),De=ne(null),_e=ne(null),St=ne(null);function Qe(t,r){switch(re(_e,r),re(De,t),re(Te,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?p_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=p_(r),t=g_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(Te),re(Te,t)}function pn(){le(Te),le(De),le(_e)}function fi(t){t.memoizedState!==null&&re(St,t);var r=Te.current,a=g_(r,t.type);r!==a&&(re(De,t),re(Te,a))}function Sn(t){De.current===t&&(le(Te),le(De)),St.current===t&&(le(St),Pl._currentValue=ve)}var di=Object.prototype.hasOwnProperty,Zn=i.unstable_scheduleCallback,mi=i.unstable_cancelCallback,Rr=i.unstable_shouldYield,Is=i.unstable_requestPaint,un=i.unstable_now,Lo=i.unstable_getCurrentPriorityLevel,Ir=i.unstable_ImmediatePriority,Cr=i.unstable_UserBlockingPriority,zi=i.unstable_NormalPriority,Uo=i.unstable_LowPriority,Nr=i.unstable_IdlePriority,Cs=i.log,va=i.unstable_setDisableYieldValue,ft=null,Ye=null;function cn(t){if(typeof Cs=="function"&&va(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ft,t)}catch{}}var Lt=Math.clz32?Math.clz32:Bi,_a=Math.log,jo=Math.LN2;function Bi(t){return t>>>=0,t===0?32:31-(_a(t)/jo|0)|0}var pi=256,qi=4194304;function gn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Hi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=gn(l):(_&=T,_!==0?h=gn(_):a||(a=T&~t,a!==0&&(h=gn(a))))):(T=l&~d,T!==0?h=gn(T):_!==0?h=gn(_):a||(a=l&~t,a!==0&&(h=gn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function Fi(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function B(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ue(){var t=pi;return pi<<=1,(pi&4194048)===0&&(pi=256),t}function ye(){var t=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),t}function fe(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function ge(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function We(t,r,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-Lt(a),J=1<<W;T[W]=0,D[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var $=G[W];$!==null&&($.lane&=-536870913)}a&=~J}l!==0&&pt(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function pt(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Lt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function kn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Lt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function $t(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ut(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yn(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:P_(t.type))}function Jn(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var lt=Math.random().toString(36).slice(2),Pe="__reactFiber$"+lt,Le="__reactProps$"+lt,Ln="__reactContainer$"+lt,zo="__reactEvents$"+lt,_f="__reactListeners$"+lt,Dr="__reactHandles$"+lt,Ou="__reactResources$"+lt,Ns="__reactMarker$"+lt;function xr(t){delete t[Pe],delete t[Le],delete t[zo],delete t[_f],delete t[Dr]}function Gi(t){var r=t[Pe];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ln]||a[Pe]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=E_(t);t!==null;){if(a=t[Pe])return a;t=E_(t)}return r}t=a,a=t.parentNode}return null}function gi(t){if(t=t[Pe]||t[Ln]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function yi(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function hn(t){var r=t[Ou];return r||(r=t[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(t){t[Ns]=!0}var Bo=new Set,Ea={};function ei(t,r){$i(t,r),$i(t+"Capture",r)}function $i(t,r){for(Ea[t]=r,t=0;t<r.length;t++)Bo.add(r[t])}var Mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},Ds={};function Pu(t){return di.call(Ds,t)?!0:di.call(Vu,t)?!1:Mu.test(t)?Ds[t]=!0:(Vu[t]=!0,!1)}function Or(t,r,a){if(Pu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function vi(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Kt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var xs,ku;function Ki(t){if(xs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);xs=r&&r[1]||"",ku=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+t+ku}var Ta=!1;function wa(t,r){if(!t||Ta)return"";Ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch($){var G=$}Reflect.construct(t,[],J)}else{try{J.call()}catch($){G=$}t.call(J.prototype)}}else{try{throw Error()}catch($){G=$}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),F=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ta=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ki(a):""}function qo(t){switch(t.tag){case 26:case 27:case 5:return Ki(t.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return wa(t.type,!1);case 11:return wa(t.type.render,!1);case 1:return wa(t.type,!0);case 31:return Ki("Activity");default:return""}}function ba(t){try{var r="";do r+=qo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ho(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ef(t){var r=Ho(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Aa(t){t._valueTracker||(t._valueTracker=Ef(t))}function Fo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ho(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Tf=/[\n"\\]/g;function Rt(t){return t.replace(Tf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Rn(t,r,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+fn(r)):t.value!==""+fn(r)&&(t.value=""+fn(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Mr(t,_,fn(r)):a!=null?Mr(t,_,fn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+fn(T):t.removeAttribute("name")}function Ms(t,r,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+fn(a):"",r=r!=null?""+fn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Mr(t,r,a){r==="number"&&Os(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Qi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+fn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function rt(t,r,a){if(r!=null&&(r=""+fn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+fn(a):""}function Vs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=fn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Un(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ps.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Go(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Lu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Lu(t,d,r[d])}function $o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return bf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Yi=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Wi=null;function Ko(t){var r=gi(t);if(r&&(t=r.stateNode)){var a=t[Le]||null;e:switch(t=r.stateNode,r.type){case"input":if(Rn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Rt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Le]||null;if(!h)throw Error(s(90));Rn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Fo(l)}break e;case"textarea":rt(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Qi(t,!!a.multiple,r,!1)}}}var _i=!1;function Uu(t,r,a){if(_i)return t(r,a);_i=!0;try{var l=t(r);return l}finally{if(_i=!1,(Xi!==null||Wi!==null)&&(xc(),Xi&&(r=Xi,t=Wi,Wi=Xi=null,Ko(r),t)))for(r=0;r<t.length;r++)Ko(t[r])}}function ks(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zn=!1;if(ti)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){zn=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{zn=!1}var Ei=null,Vr=null,Zi=null;function Qo(){if(Zi)return Zi;var t,r=Vr,a=r.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return Zi=h.slice(t,1<l?1-l:void 0)}function Ti(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function Yo(){return!1}function jt(t){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?wi:Yo,this.isPropagationStopped=Yo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),r}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=jt(Ze),Us=E({},Ze,{view:0,detail:0}),ju=jt(Us),Ia,Ca,bi,js=E({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(Ia=t.screenX-bi.screenX,Ca=t.screenY-bi.screenY):Ca=Ia=0,bi=t),Ia)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Bn=jt(js),zu=E({},js,{dataTransfer:0}),Af=jt(zu),zs=E({},Us,{relatedTarget:0}),Na=jt(zs),Xo=E({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=jt(Xo),Bu=E({},Ze,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xa=jt(Bu),Sf=E({},Ze,{data:0}),Wo=jt(Sf),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Hu[t])?!!r[t]:!1}function qs(){return Zo}var Fu=E({},Us,{key:function(t){if(t.key){var r=Bs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?Ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=jt(Fu),Gu=E({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=jt(Gu),Ji=E({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),$u=jt(Ji),Ku=E({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=jt(Ku),Yu=E({},js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=jt(Yu),dn=E({},Ze,{newState:0,oldState:0}),Xu=jt(dn),Wu=[9,13,27,32],Ai=ti&&"CompositionEvent"in window,c=null;ti&&"documentMode"in document&&(c=document.documentMode);var y=ti&&"TextEvent"in window&&!c,v=ti&&(!Ai||c&&8<c&&11>=c),w=" ",z=!1;function K(t,r){switch(t){case"keyup":return Wu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var He=!1;function xt(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(z=!0,w);case"textInput":return t=r.data,t===w&&z?null:t;default:return null}}function Fe(t,r){if(He)return t==="compositionend"||!Ai&&K(t,r)?(t=Qo(),Zi=Vr=Ei=null,He=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!zt[t.type]:r==="textarea"}function er(t,r,a,l){Xi?Wi?Wi.push(l):Wi=[l]:Xi=l,r=Lc(r,"onChange"),0<r.length&&(a=new Ra("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Qt=null,Si=null;function el(t){c_(t,0)}function Zu(t){var r=yi(t);if(Fo(r))return t}function xg(t,r){if(t==="change")return r}var Og=!1;if(ti){var Rf;if(ti){var If="oninput"in document;if(!If){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),If=typeof Mg.oninput=="function"}Rf=If}else Rf=!1;Og=Rf&&(!document.documentMode||9<document.documentMode)}function Vg(){Qt&&(Qt.detachEvent("onpropertychange",Pg),Si=Qt=null)}function Pg(t){if(t.propertyName==="value"&&Zu(Si)){var r=[];er(r,Si,t,jn(t)),Uu(el,r)}}function lA(t,r,a){t==="focusin"?(Vg(),Qt=r,Si=a,Qt.attachEvent("onpropertychange",Pg)):t==="focusout"&&Vg()}function uA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(Si)}function cA(t,r){if(t==="click")return Zu(r)}function hA(t,r){if(t==="input"||t==="change")return Zu(r)}function fA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var In=typeof Object.is=="function"?Object.is:fA;function tl(t,r){if(In(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!di.call(r,h)||!In(t[h],r[h]))return!1}return!0}function kg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lg(t,r){var a=kg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function Ug(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ug(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Os(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Os(t.document)}return r}function Cf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var dA=ti&&"documentMode"in document&&11>=document.documentMode,Va=null,Nf=null,nl=null,Df=!1;function zg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Df||Va==null||Va!==Os(l)||(l=Va,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Lc(Nf,"onSelect"),0<l.length&&(r=new Ra("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Va)))}function Hs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Pa={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},xf={},Bg={};ti&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Fs(t){if(xf[t])return xf[t];if(!Pa[t])return t;var r=Pa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Bg)return xf[t]=r[a];return t}var qg=Fs("animationend"),Hg=Fs("animationiteration"),Fg=Fs("animationstart"),mA=Fs("transitionrun"),pA=Fs("transitionstart"),gA=Fs("transitioncancel"),Gg=Fs("transitionend"),$g=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function ni(t,r){$g.set(t,r),ei(r,[t])}var Kg=new WeakMap;function qn(t,r){if(typeof t=="object"&&t!==null){var a=Kg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ba(r)},Kg.set(t,r),r)}return{value:t,source:r,stack:ba(r)}}var Hn=[],ka=0,Mf=0;function Ju(){for(var t=ka,r=Mf=ka=0;r<t;){var a=Hn[r];Hn[r++]=null;var l=Hn[r];Hn[r++]=null;var h=Hn[r];Hn[r++]=null;var d=Hn[r];if(Hn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Qg(a,h,d)}}function ec(t,r,a,l){Hn[ka++]=t,Hn[ka++]=r,Hn[ka++]=a,Hn[ka++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vf(t,r,a,l){return ec(t,r,a,l),tc(t)}function La(t,r){return ec(t,null,null,r),tc(t)}function Qg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Lt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function tc(t){if(50<Il)throw Il=0,zd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ua={};function yA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,r,a,l){return new yA(t,r,a,l)}function Pf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tr(t,r){var a=t.alternate;return a===null?(a=Cn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Yg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function nc(t,r,a,l,h,d){var _=0;if(l=t,typeof t=="function")Pf(t)&&(_=1);else if(typeof t=="string")_=_S(t,a,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Cn(31,a,r,h),t.elementType=I,t.lanes=d,t;case P:return Gs(a.children,h,d,r);case Q:_=8,h|=24;break;case H:return t=Cn(12,a,r,h|2),t.elementType=H,t.lanes=d,t;case de:return t=Cn(13,a,r,h),t.elementType=de,t.lanes=d,t;case be:return t=Cn(19,a,r,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case ie:_=10;break e;case se:_=9;break e;case pe:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Cn(_,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Gs(t,r,a,l){return t=Cn(7,t,l,r),t.lanes=a,t}function kf(t,r,a){return t=Cn(6,t,null,r),t.lanes=a,t}function Lf(t,r,a){return r=Cn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ja=[],za=0,ic=null,rc=0,Fn=[],Gn=0,$s=null,nr=1,ir="";function Ks(t,r){ja[za++]=rc,ja[za++]=ic,ic=t,rc=r}function Xg(t,r,a){Fn[Gn++]=nr,Fn[Gn++]=ir,Fn[Gn++]=$s,$s=t;var l=nr;t=ir;var h=32-Lt(l)-1;l&=~(1<<h),a+=1;var d=32-Lt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,nr=1<<32-Lt(r)+h|a<<h|l,ir=d+t}else nr=1<<d|a<<h|l,ir=t}function Uf(t){t.return!==null&&(Ks(t,1),Xg(t,1,0))}function jf(t){for(;t===ic;)ic=ja[--za],ja[za]=null,rc=ja[--za],ja[za]=null;for(;t===$s;)$s=Fn[--Gn],Fn[Gn]=null,ir=Fn[--Gn],Fn[Gn]=null,nr=Fn[--Gn],Fn[Gn]=null}var mn=null,vt=null,Xe=!1,Qs=null,Ri=!1,zf=Error(s(519));function Ys(t){var r=Error(s(418,""));throw sl(qn(r,t)),zf}function Wg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Pe]=t,r[Le]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Nl.length;a++)je(Nl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Ms(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Aa(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Vs(r,l.value,l.defaultValue,l.children),Aa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||m_(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=Uc),r=!0):r=!1,r||Ys(t)}function Zg(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:mn=mn.return}}function il(t){if(t!==mn)return!1;if(!Xe)return Zg(t),Xe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||nm(t.type,t.memoizedProps)),a=!a),a&&vt&&Ys(t),Zg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){vt=ri(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}vt=null}}else r===27?(r=vt,Xr(t.type)?(t=am,am=null,vt=t):vt=r):vt=mn?ri(t.stateNode.nextSibling):null;return!0}function rl(){vt=mn=null,Xe=!1}function Jg(){var t=Qs;return t!==null&&(En===null?En=t:En.push.apply(En,t),Qs=null),t}function sl(t){Qs===null?Qs=[t]:Qs.push(t)}var Bf=ne(null),Xs=null,rr=null;function Pr(t,r,a){re(Bf,r._currentValue),r._currentValue=a}function sr(t){t._currentValue=Bf.current,le(Bf)}function qf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Hf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<r.length;D++)if(T.context===r[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),qf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),qf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function al(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;In(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===St.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}h=h.return}t!==null&&Hf(r,t,a,l),r.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ws(t){Xs=t,rr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return ey(Xs,t)}function ac(t,r){return Xs===null&&Ws(t),ey(t,r)}function ey(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},rr===null){if(t===null)throw Error(s(308));rr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else rr=rr.next=r;return a}var vA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},_A=i.unstable_scheduleCallback,EA=i.unstable_NormalPriority,Mt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new vA,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&_A(EA,function(){t.controller.abort()})}var ll=null,Gf=0,Ba=0,qa=null;function TA(t,r){if(ll===null){var a=ll=[];Gf=0,Ba=Kd(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gf++,r.then(ty,ty),r}function ty(){if(--Gf===0&&ll!==null){qa!==null&&(qa.status="fulfilled");var t=ll;ll=null,Ba=0,qa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function wA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ny=X.S;X.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&TA(t,r),ny!==null&&ny(t,r)};var Zs=ne(null);function $f(){var t=Zs.current;return t!==null?t:ct.pooledCache}function oc(t,r){r===null?re(Zs,Zs.current):re(Zs,r.pool)}function iy(){var t=$f();return t===null?null:{parent:Mt._currentValue,pool:t}}var ul=Error(s(460)),ry=Error(s(474)),lc=Error(s(542)),Kf={then:function(){}};function sy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uc(){}function ay(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(uc,uc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ly(t),t;default:if(typeof r.status=="string")r.then(uc,uc);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ly(t),t}throw cl=r,ul}}var cl=null;function oy(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function ly(t){if(t===ul||t===lc)throw Error(s(483))}var kr=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=tc(t),Qg(t,null,a),r}return ec(t,l,r,a),tc(t)}function hl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,kn(t,a)}}function Xf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Wf=!1;function fl(){if(Wf){var t=qa;if(t!==null)throw t}}function dl(t,r,a,l){Wf=!1;var h=t.updateQueue;kr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,F=D.next;D.next=null,_===null?d=F:_.next=F,_=D;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=F:T.next=F,W.lastBaseUpdate=D))}if(d!==null){var J=h.baseState;_=0,W=F=D=null,T=d;do{var G=T.lane&-536870913,$=G!==T.lane;if($?(Ge&G)===G:(l&G)===G){G!==0&&G===Ba&&(Wf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ie=t,Ae=T;G=r;var ot=a;switch(Ae.tag){case 1:if(Ie=Ae.payload,typeof Ie=="function"){J=Ie.call(ot,J,G);break e}J=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ae.payload,G=typeof Ie=="function"?Ie.call(ot,J,G):Ie,G==null)break e;J=E({},J,G);break e;case 2:kr=!0}}G=T.callback,G!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[G]:$.push(G))}else $={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(F=W=$,D=J):W=W.next=$,_|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);W===null&&(D=J),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),$r|=_,t.lanes=_,t.memoizedState=J}}function uy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function cy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)uy(a[t],r)}var Ha=ne(null),cc=ne(0);function hy(t,r){t=fr,re(cc,t),re(Ha,r),fr=t|r.baseLanes}function Zf(){re(cc,fr),re(Ha,Ha.current)}function Jf(){fr=cc.current,le(Ha),le(cc)}var jr=0,Me=null,st=null,It=null,hc=!1,Fa=!1,Js=!1,fc=0,ml=0,Ga=null,bA=0;function Tt(){throw Error(s(321))}function ed(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!In(t[a],r[a]))return!1;return!0}function td(t,r,a,l,h,d){return jr=d,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?Qy:Yy,Js=!1,d=a(l,h),Js=!1,Fa&&(d=dy(r,a,l,h)),fy(t),d}function fy(t){X.H=vc;var r=st!==null&&st.next!==null;if(jr=0,It=st=Me=null,hc=!1,ml=0,Ga=null,r)throw Error(s(300));t===null||Bt||(t=t.dependencies,t!==null&&sc(t)&&(Bt=!0))}function dy(t,r,a,l){Me=t;var h=0;do{if(Fa&&(Ga=null),ml=0,Fa=!1,25<=h)throw Error(s(301));if(h+=1,It=st=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=DA,d=r(a,l)}while(Fa);return d}function AA(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?pl(r):r,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(Me.flags|=1024),r}function nd(){var t=fc!==0;return fc=0,t}function id(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function rd(t){if(hc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}hc=!1}jr=0,It=st=Me=null,Fa=!1,ml=fc=0,Ga=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Me.memoizedState=It=t:It=It.next=t,It}function Ct(){if(st===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var r=It===null?Me.memoizedState:It.next;if(r!==null)It=r,st=t;else{if(t===null)throw Me.alternate===null?Error(s(467)):Error(s(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},It===null?Me.memoizedState=It=t:It=It.next=t}return It}function sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var r=ml;return ml+=1,Ga===null&&(Ga=[]),t=ay(Ga,t,r),r=Me,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Qy:Yy),t}function dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===ie)return tn(t)}throw Error(s(438,String(t)))}function ad(t){var r=null,a=Me.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=sd(),Me.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=N;return r.index++,a}function ar(t,r){return typeof r=="function"?r(t):r}function mc(t){var r=Ct();return od(r,st,t)}function od(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=_=null,D=null,F=r,W=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Ge&J)===J:(jr&J)===J){var G=F.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Ba&&(W=!0);else if((jr&G)===G){F=F.next,G===Ba&&(W=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(T=D=J,_=d):D=D.next=J,Me.lanes|=G,$r|=G;J=F.action,Js&&a(d,J),d=F.hasEagerState?F.eagerState:a(d,J)}else G={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(T=D=G,_=d):D=D.next=G,Me.lanes|=J,$r|=J;F=F.next}while(F!==null&&F!==r);if(D===null?_=d:D.next=T,!In(d,t.memoizedState)&&(Bt=!0,W&&(a=qa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ld(t){var r=Ct(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);In(d,r.memoizedState)||(Bt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function my(t,r,a){var l=Me,h=Ct(),d=Xe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!In((st||h).memoizedState,a);_&&(h.memoizedState=a,Bt=!0),h=h.queue;var T=yy.bind(null,l,h,t);if(gl(2048,8,T,[t]),h.getSnapshot!==r||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,$a(9,pc(),gy.bind(null,l,h,a,r),null),ct===null)throw Error(s(349));d||(jr&124)!==0||py(l,r,a)}return a}function py(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Me.updateQueue,r===null?(r=sd(),Me.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function gy(t,r,a,l){r.value=a,r.getSnapshot=l,vy(r)&&_y(t)}function yy(t,r,a){return a(function(){vy(r)&&_y(t)})}function vy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!In(t,a)}catch{return!0}}function _y(t){var r=La(t,2);r!==null&&Mn(r,t,2)}function ud(t){var r=vn();if(typeof t=="function"){var a=t;if(t=a(),Js){cn(!0);try{a()}finally{cn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:t},r}function Ey(t,r,a,l){return t.baseState=a,od(t,st,typeof l=="function"?l:ar)}function SA(t,r,a,l,h){if(yc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Ty(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Ty(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=X.T,_={};X.T=_;try{var T=a(h,l),D=X.S;D!==null&&D(_,T),wy(t,r,T)}catch(F){cd(t,r,F)}finally{X.T=d}}else try{d=a(h,l),wy(t,r,d)}catch(F){cd(t,r,F)}}function wy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){by(t,r,l)},function(l){return cd(t,r,l)}):by(t,r,a)}function by(t,r,a){r.status="fulfilled",r.value=a,Ay(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Ty(t,a)))}function cd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ay(r),r=r.next;while(r!==l)}t.action=null}function Ay(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Sy(t,r){return r}function Ry(t,r){if(Xe){var a=ct.formState;if(a!==null){e:{var l=Me;if(Xe){if(vt){t:{for(var h=vt,d=Ri;h.nodeType!==8;){if(!d){h=null;break t}if(h=ri(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){vt=ri(h.nextSibling),l=h.data==="F!";break e}}Ys(l)}l=!1}l&&(r=a[0])}}return a=vn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sy,lastRenderedState:r},a.queue=l,a=Gy.bind(null,Me,l),l.dispatch=a,l=ud(!1),d=pd.bind(null,Me,!1,l.queue),l=vn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=SA.bind(null,Me,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Iy(t){var r=Ct();return Cy(r,st,t)}function Cy(t,r,a){if(r=od(t,r,Sy)[0],t=mc(ar)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(_){throw _===ul?lc:_}else l=r;r=Ct();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Me.flags|=2048,$a(9,pc(),RA.bind(null,h,a),null)),[l,d,t]}function RA(t,r){t.action=r}function Ny(t){var r=Ct(),a=st;if(a!==null)return Cy(r,a,t);Ct(),r=r.memoizedState,a=Ct();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function $a(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Me.updateQueue,r===null&&(r=sd(),Me.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function pc(){return{destroy:void 0,resource:void 0}}function Dy(){return Ct().memoizedState}function gc(t,r,a,l){var h=vn();l=l===void 0?null:l,Me.flags|=t,h.memoizedState=$a(1|r,pc(),a,l)}function gl(t,r,a,l){var h=Ct();l=l===void 0?null:l;var d=h.memoizedState.inst;st!==null&&l!==null&&ed(l,st.memoizedState.deps)?h.memoizedState=$a(r,d,a,l):(Me.flags|=t,h.memoizedState=$a(1|r,d,a,l))}function xy(t,r){gc(8390656,8,t,r)}function Oy(t,r){gl(2048,8,t,r)}function My(t,r){return gl(4,2,t,r)}function Vy(t,r){return gl(4,4,t,r)}function Py(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ky(t,r,a){a=a!=null?a.concat([t]):null,gl(4,4,Py.bind(null,r,t),a)}function hd(){}function Ly(t,r){var a=Ct();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&ed(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Uy(t,r){var a=Ct();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&ed(r,l[1]))return l[0];if(l=t(),Js){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l}function fd(t,r,a){return a===void 0||(jr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Bv(),Me.lanes|=t,$r|=t,a)}function jy(t,r,a,l){return In(a,r)?a:Ha.current!==null?(t=fd(t,a,l),In(t,r)||(Bt=!0),t):(jr&42)===0?(Bt=!0,t.memoizedState=a):(t=Bv(),Me.lanes|=t,$r|=t,r)}function zy(t,r,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=X.T,T={};X.T=T,pd(t,!1,r,a);try{var D=h(),F=X.S;if(F!==null&&F(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=wA(D,l);yl(t,r,W,On(t))}else yl(t,r,l,On(t))}catch(J){yl(t,r,{then:function(){},status:"rejected",reason:J},On())}finally{oe.p=d,X.T=_}}function IA(){}function dd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=By(t).queue;zy(t,h,r,ve,a===null?IA:function(){return qy(t),a(l)})}function By(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:ve},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function qy(t){var r=By(t).next.queue;yl(t,r,{},On())}function md(){return tn(Pl)}function Hy(){return Ct().memoizedState}function Fy(){return Ct().memoizedState}function CA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=On();t=Lr(a);var l=Ur(r,t,a);l!==null&&(Mn(l,r,a),hl(l,r,a)),r={cache:Ff()},t.payload=r;return}r=r.return}}function NA(t,r,a){var l=On();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yc(t)?$y(r,a):(a=Vf(t,r,a,l),a!==null&&(Mn(a,t,l),Ky(a,r,l)))}function Gy(t,r,a){var l=On();yl(t,r,a,l)}function yl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yc(t))$y(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,In(T,_))return ec(t,r,h,0),ct===null&&Ju(),!1}catch{}finally{}if(a=Vf(t,r,h,l),a!==null)return Mn(a,t,l),Ky(a,r,l),!0}return!1}function pd(t,r,a,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},yc(t)){if(r)throw Error(s(479))}else r=Vf(t,a,l,2),r!==null&&Mn(r,t,2)}function yc(t){var r=t.alternate;return t===Me||r!==null&&r===Me}function $y(t,r){Fa=hc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ky(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,kn(t,a)}}var vc={readContext:tn,use:dc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Qy={readContext:tn,use:dc,useCallback:function(t,r){return vn().memoizedState=[t,r===void 0?null:r],t},useContext:tn,useEffect:xy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,gc(4194308,4,Py.bind(null,r,t),a)},useLayoutEffect:function(t,r){return gc(4194308,4,t,r)},useInsertionEffect:function(t,r){gc(4,2,t,r)},useMemo:function(t,r){var a=vn();r=r===void 0?null:r;var l=t();if(Js){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=vn();if(a!==void 0){var h=a(r);if(Js){cn(!0);try{a(r)}finally{cn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=NA.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var r=vn();return t={current:t},r.memoizedState=t},useState:function(t){t=ud(t);var r=t.queue,a=Gy.bind(null,Me,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(t,r){var a=vn();return fd(a,t,r)},useTransition:function(){var t=ud(!1);return t=zy.bind(null,Me,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Me,h=vn();if(Xe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ct===null)throw Error(s(349));(Ge&124)!==0||py(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,xy(yy.bind(null,l,d,t),[t]),l.flags|=2048,$a(9,pc(),gy.bind(null,l,d,a,r),null),a},useId:function(){var t=vn(),r=ct.identifierPrefix;if(Xe){var a=ir,l=nr;a=(l&~(1<<32-Lt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=fc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=bA++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:md,useFormState:Ry,useActionState:Ry,useOptimistic:function(t){var r=vn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=pd.bind(null,Me,!0,a),a.dispatch=r,[t,r]},useMemoCache:ad,useCacheRefresh:function(){return vn().memoizedState=CA.bind(null,Me)}},Yy={readContext:tn,use:dc,useCallback:Ly,useContext:tn,useEffect:Oy,useImperativeHandle:ky,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:Uy,useReducer:mc,useRef:Dy,useState:function(){return mc(ar)},useDebugValue:hd,useDeferredValue:function(t,r){var a=Ct();return jy(a,st.memoizedState,t,r)},useTransition:function(){var t=mc(ar)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:my,useId:Hy,useHostTransitionStatus:md,useFormState:Iy,useActionState:Iy,useOptimistic:function(t,r){var a=Ct();return Ey(a,st,t,r)},useMemoCache:ad,useCacheRefresh:Fy},DA={readContext:tn,use:dc,useCallback:Ly,useContext:tn,useEffect:Oy,useImperativeHandle:ky,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:Uy,useReducer:ld,useRef:Dy,useState:function(){return ld(ar)},useDebugValue:hd,useDeferredValue:function(t,r){var a=Ct();return st===null?fd(a,t,r):jy(a,st.memoizedState,t,r)},useTransition:function(){var t=ld(ar)[0],r=Ct().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:my,useId:Hy,useHostTransitionStatus:md,useFormState:Ny,useActionState:Ny,useOptimistic:function(t,r){var a=Ct();return st!==null?Ey(a,st,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ad,useCacheRefresh:Fy},Ka=null,vl=0;function _c(t){var r=vl;return vl+=1,Ka===null&&(Ka=[]),ay(Ka,t,r)}function _l(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ec(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Xy(t){var r=t._init;return r(t._payload)}function Wy(t){function r(j,k){if(t){var q=j.deletions;q===null?(j.deletions=[k],j.flags|=16):q.push(k)}}function a(j,k){if(!t)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function h(j,k){return j=tr(j,k),j.index=0,j.sibling=null,j}function d(j,k,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<k?(j.flags|=67108866,k):q):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,k,q,Z){return k===null||k.tag!==6?(k=kf(q,j.mode,Z),k.return=j,k):(k=h(k,q),k.return=j,k)}function D(j,k,q,Z){var me=q.type;return me===P?W(j,k,q.props.children,Z,q.key):k!==null&&(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Xy(me)===k.type)?(k=h(k,q.props),_l(k,q),k.return=j,k):(k=nc(q.type,q.key,q.props,null,j.mode,Z),_l(k,q),k.return=j,k)}function F(j,k,q,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Lf(q,j.mode,Z),k.return=j,k):(k=h(k,q.children||[]),k.return=j,k)}function W(j,k,q,Z,me){return k===null||k.tag!==7?(k=Gs(q,j.mode,Z,me),k.return=j,k):(k=h(k,q),k.return=j,k)}function J(j,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=kf(""+k,j.mode,q),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return q=nc(k.type,k.key,k.props,null,j.mode,q),_l(q,k),q.return=j,q;case V:return k=Lf(k,j.mode,q),k.return=j,k;case R:var Z=k._init;return k=Z(k._payload),J(j,k,q)}if(it(k)||L(k))return k=Gs(k,j.mode,q,null),k.return=j,k;if(typeof k.then=="function")return J(j,_c(k),q);if(k.$$typeof===ie)return J(j,ac(j,k),q);Ec(j,k)}return null}function G(j,k,q,Z){var me=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return me!==null?null:T(j,k,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===me?D(j,k,q,Z):null;case V:return q.key===me?F(j,k,q,Z):null;case R:return me=q._init,q=me(q._payload),G(j,k,q,Z)}if(it(q)||L(q))return me!==null?null:W(j,k,q,Z,null);if(typeof q.then=="function")return G(j,k,_c(q),Z);if(q.$$typeof===ie)return G(j,k,ac(j,q),Z);Ec(j,q)}return null}function $(j,k,q,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,T(k,j,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return j=j.get(Z.key===null?q:Z.key)||null,D(k,j,Z,me);case V:return j=j.get(Z.key===null?q:Z.key)||null,F(k,j,Z,me);case R:var ke=Z._init;return Z=ke(Z._payload),$(j,k,q,Z,me)}if(it(Z)||L(Z))return j=j.get(q)||null,W(k,j,Z,me,null);if(typeof Z.then=="function")return $(j,k,q,_c(Z),me);if(Z.$$typeof===ie)return $(j,k,q,ac(k,Z),me);Ec(k,Z)}return null}function Ie(j,k,q,Z){for(var me=null,ke=null,Ee=k,Se=k=0,Ht=null;Ee!==null&&Se<q.length;Se++){Ee.index>Se?(Ht=Ee,Ee=null):Ht=Ee.sibling;var Ke=G(j,Ee,q[Se],Z);if(Ke===null){Ee===null&&(Ee=Ht);break}t&&Ee&&Ke.alternate===null&&r(j,Ee),k=d(Ke,k,Se),ke===null?me=Ke:ke.sibling=Ke,ke=Ke,Ee=Ht}if(Se===q.length)return a(j,Ee),Xe&&Ks(j,Se),me;if(Ee===null){for(;Se<q.length;Se++)Ee=J(j,q[Se],Z),Ee!==null&&(k=d(Ee,k,Se),ke===null?me=Ee:ke.sibling=Ee,ke=Ee);return Xe&&Ks(j,Se),me}for(Ee=l(Ee);Se<q.length;Se++)Ht=$(Ee,j,Se,q[Se],Z),Ht!==null&&(t&&Ht.alternate!==null&&Ee.delete(Ht.key===null?Se:Ht.key),k=d(Ht,k,Se),ke===null?me=Ht:ke.sibling=Ht,ke=Ht);return t&&Ee.forEach(function(ts){return r(j,ts)}),Xe&&Ks(j,Se),me}function Ae(j,k,q,Z){if(q==null)throw Error(s(151));for(var me=null,ke=null,Ee=k,Se=k=0,Ht=null,Ke=q.next();Ee!==null&&!Ke.done;Se++,Ke=q.next()){Ee.index>Se?(Ht=Ee,Ee=null):Ht=Ee.sibling;var ts=G(j,Ee,Ke.value,Z);if(ts===null){Ee===null&&(Ee=Ht);break}t&&Ee&&ts.alternate===null&&r(j,Ee),k=d(ts,k,Se),ke===null?me=ts:ke.sibling=ts,ke=ts,Ee=Ht}if(Ke.done)return a(j,Ee),Xe&&Ks(j,Se),me;if(Ee===null){for(;!Ke.done;Se++,Ke=q.next())Ke=J(j,Ke.value,Z),Ke!==null&&(k=d(Ke,k,Se),ke===null?me=Ke:ke.sibling=Ke,ke=Ke);return Xe&&Ks(j,Se),me}for(Ee=l(Ee);!Ke.done;Se++,Ke=q.next())Ke=$(Ee,j,Se,Ke.value,Z),Ke!==null&&(t&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Se:Ke.key),k=d(Ke,k,Se),ke===null?me=Ke:ke.sibling=Ke,ke=Ke);return t&&Ee.forEach(function(xS){return r(j,xS)}),Xe&&Ks(j,Se),me}function ot(j,k,q,Z){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var me=q.key;k!==null;){if(k.key===me){if(me=q.type,me===P){if(k.tag===7){a(j,k.sibling),Z=h(k,q.props.children),Z.return=j,j=Z;break e}}else if(k.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Xy(me)===k.type){a(j,k.sibling),Z=h(k,q.props),_l(Z,q),Z.return=j,j=Z;break e}a(j,k);break}else r(j,k);k=k.sibling}q.type===P?(Z=Gs(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=nc(q.type,q.key,q.props,null,j.mode,Z),_l(Z,q),Z.return=j,j=Z)}return _(j);case V:e:{for(me=q.key;k!==null;){if(k.key===me)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(j,k.sibling),Z=h(k,q.children||[]),Z.return=j,j=Z;break e}else{a(j,k);break}else r(j,k);k=k.sibling}Z=Lf(q,j.mode,Z),Z.return=j,j=Z}return _(j);case R:return me=q._init,q=me(q._payload),ot(j,k,q,Z)}if(it(q))return Ie(j,k,q,Z);if(L(q)){if(me=L(q),typeof me!="function")throw Error(s(150));return q=me.call(q),Ae(j,k,q,Z)}if(typeof q.then=="function")return ot(j,k,_c(q),Z);if(q.$$typeof===ie)return ot(j,k,ac(j,q),Z);Ec(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(j,k.sibling),Z=h(k,q),Z.return=j,j=Z):(a(j,k),Z=kf(q,j.mode,Z),Z.return=j,j=Z),_(j)):a(j,k)}return function(j,k,q,Z){try{vl=0;var me=ot(j,k,q,Z);return Ka=null,me}catch(Ee){if(Ee===ul||Ee===lc)throw Ee;var ke=Cn(29,Ee,null,j.mode);return ke.lanes=Z,ke.return=j,ke}finally{}}}var Qa=Wy(!0),Zy=Wy(!1),$n=ne(null),Ii=null;function zr(t){var r=t.alternate;re(Vt,Vt.current&1),re($n,t),Ii===null&&(r===null||Ha.current!==null||r.memoizedState!==null)&&(Ii=t)}function Jy(t){if(t.tag===22){if(re(Vt,Vt.current),re($n,t),Ii===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Ii=t)}}else Br()}function Br(){re(Vt,Vt.current),re($n,$n.current)}function or(t){le($n),Ii===t&&(Ii=null),le(Vt)}var Vt=ne(0);function Tc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||sm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function gd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=On(),h=Lr(l);h.payload=r,a!=null&&(h.callback=a),r=Ur(t,h,l),r!==null&&(Mn(r,t,l),hl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=On(),h=Lr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ur(t,h,l),r!==null&&(Mn(r,t,l),hl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=On(),l=Lr(a);l.tag=2,r!=null&&(l.callback=r),r=Ur(t,l,a),r!==null&&(Mn(r,t,a),hl(r,t,a))}};function ev(t,r,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function tv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&yd.enqueueReplaceState(r,r.state,null)}function ea(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var wc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function nv(t){wc(t)}function iv(t){console.error(t)}function rv(t){wc(t)}function bc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function sv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function vd(t,r,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,r)},a}function av(t){return t=Lr(t),t.tag=3,t}function ov(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){sv(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){sv(r,a,l),typeof h!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function xA(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&al(r,a,h,!0),a=$n.current,a!==null){switch(a.tag){case 13:return Ii===null?qd():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Fd(t,l,h)),!1;case 22:return a.flags|=65536,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Fd(t,l,h)),!1}throw Error(s(435,a.tag))}return Fd(t,l,h),qd(),!1}if(Xe)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==zf&&(t=Error(s(422),{cause:l}),sl(qn(t,a)))):(l!==zf&&(r=Error(s(423),{cause:l}),sl(qn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=qn(l,a),h=vd(t.stateNode,l,h),Xf(t,h),_t!==4&&(_t=2)),!1;var d=Error(s(520),{cause:l});if(d=qn(d,a),Rl===null?Rl=[d]:Rl.push(d),_t!==4&&(_t=2),r===null)return!0;l=qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=vd(a.stateNode,l,t),Xf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=av(h),ov(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var lv=Error(s(461)),Bt=!1;function Yt(t,r,a,l){r.child=t===null?Zy(r,null,a,l):Qa(r,t.child,a,l)}function uv(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ws(r),l=td(t,r,a,_,d,h),T=nd(),t!==null&&!Bt?(id(t,r,h),lr(t,r,h)):(Xe&&T&&Uf(r),r.flags|=1,Yt(t,r,l,h),r.child)}function cv(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,hv(t,r,d,l,h)):(t=nc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Rd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,l)&&t.ref===r.ref)return lr(t,r,h)}return r.flags|=1,t=tr(d,l),t.ref=r.ref,t.return=r,r.child=t}function hv(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===r.ref)if(Bt=!1,r.pendingProps=l=d,Rd(t,h))(t.flags&131072)!==0&&(Bt=!0);else return r.lanes=t.lanes,lr(t,r,h)}return _d(t,r,a,l,h)}function fv(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return dv(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&oc(r,d!==null?d.cachePool:null),d!==null?hy(r,d):Zf(),Jy(r);else return r.lanes=r.childLanes=536870912,dv(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(oc(r,d.cachePool),hy(r,d),Br(),r.memoizedState=null):(t!==null&&oc(r,null),Zf(),Br());return Yt(t,r,h,a),r.child}function dv(t,r,a,l){var h=$f();return h=h===null?null:{parent:Mt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&oc(r,null),Zf(),Jy(r),t!==null&&al(t,r,l,!0),null}function Ac(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function _d(t,r,a,l,h){return Ws(r),a=td(t,r,a,l,void 0,h),l=nd(),t!==null&&!Bt?(id(t,r,h),lr(t,r,h)):(Xe&&l&&Uf(r),r.flags|=1,Yt(t,r,a,h),r.child)}function mv(t,r,a,l,h,d){return Ws(r),r.updateQueue=null,a=dy(r,l,a,h),fy(t),l=nd(),t!==null&&!Bt?(id(t,r,d),lr(t,r,d)):(Xe&&l&&Uf(r),r.flags|=1,Yt(t,r,a,d),r.child)}function pv(t,r,a,l,h){if(Ws(r),r.stateNode===null){var d=Ua,_=a.contextType;typeof _=="object"&&_!==null&&(d=tn(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=yd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Qf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?tn(_):Ua,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(gd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&yd.enqueueReplaceState(d,d.state,null),dl(r,l,d,h),fl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,D=ea(a,T);d.props=D;var F=d.context,W=a.contextType;_=Ua,typeof W=="object"&&W!==null&&(_=tn(W));var J=a.getDerivedStateFromProps;W=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||F!==_)&&tv(r,d,l,_),kr=!1;var G=r.memoizedState;d.state=G,dl(r,l,d,h),fl(),F=r.memoizedState,T||G!==F||kr?(typeof J=="function"&&(gd(r,a,J,l),F=r.memoizedState),(D=kr||ev(r,a,D,l,G,F,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Yf(t,r),_=r.memoizedProps,W=ea(a,_),d.props=W,J=r.pendingProps,G=d.context,F=a.contextType,D=Ua,typeof F=="object"&&F!==null&&(D=tn(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||G!==D)&&tv(r,d,l,D),kr=!1,G=r.memoizedState,d.state=G,dl(r,l,d,h),fl();var $=r.memoizedState;_!==J||G!==$||kr||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof T=="function"&&(gd(r,a,T,l),$=r.memoizedState),(W=kr||ev(r,a,W,l,G,$,D)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ac(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Qa(r,t.child,null,h),r.child=Qa(r,null,a,h)):Yt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=lr(t,r,h),t}function gv(t,r,a,l){return rl(),r.flags|=256,Yt(t,r,a,l),r.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:iy()}}function wd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Kn),t}function yv(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Xe){if(h?zr(r):Br(),Xe){var T=vt,D;if(D=T){e:{for(D=T,T=Ri;D.nodeType!==8;){if(!T){T=null;break e}if(D=ri(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:$s!==null?{id:nr,overflow:ir}:null,retryLane:536870912,hydrationErrors:null},D=Cn(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,mn=r,vt=null,D=!0):D=!1}D||Ys(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return sm(T)?r.lanes=32:r.lanes=536870912,null;or(r)}return T=l.children,l=l.fallback,h?(Br(),h=r.mode,T=Sc({mode:"hidden",children:T},h),l=Gs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Td(a),h.childLanes=wd(t,_,a),r.memoizedState=Ed,l):(zr(r),bd(r,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)r.flags&256?(zr(r),r.flags&=-257,r=Ad(t,r,a)):r.memoizedState!==null?(Br(),r.child=t.child,r.flags|=128,r=null):(Br(),h=l.fallback,T=r.mode,l=Sc({mode:"visible",children:l.children},T),h=Gs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Qa(r,t.child,null,a),l=r.child,l.memoizedState=Td(a),l.childLanes=wd(t,_,a),r.memoizedState=Ed,r=h);else if(zr(r),sm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),r=Ad(t,r,a)}else if(Bt||al(t,r,a,!1),_=(a&t.childLanes)!==0,Bt||_){if(_=ct,_!==null&&(l=a&-a,l=(l&42)!==0?1:$t(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,La(t,l),Mn(_,t,l),lv;T.data==="$?"||qd(),r=Ad(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,vt=ri(T.nextSibling),mn=r,Xe=!0,Qs=null,Ri=!1,t!==null&&(Fn[Gn++]=nr,Fn[Gn++]=ir,Fn[Gn++]=$s,nr=t.id,ir=t.overflow,$s=r),r=bd(r,l.children),r.flags|=4096);return r}return h?(Br(),h=l.fallback,T=r.mode,D=t.child,F=D.sibling,l=tr(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?h=tr(F,h):(h=Gs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Td(a):(D=T.cachePool,D!==null?(F=Mt._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=iy(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=wd(t,_,a),r.memoizedState=Ed,l):(zr(r),a=t.child,t=a.sibling,a=tr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function bd(t,r){return r=Sc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Sc(t,r){return t=Cn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ad(t,r,a){return Qa(r,t.child,null,a),t=bd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function vv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),qf(t.return,r,a)}function Sd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function _v(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Yt(t,r,l.children,a),l=Vt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vv(t,a,r);else if(t.tag===19)vv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Vt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Sd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Tc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Sd(r,!0,a,null,d);break;case"together":Sd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function lr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),$r|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(al(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=tr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=tr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Rd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function OA(t,r,a){switch(r.tag){case 3:Qe(r,r.stateNode.containerInfo),Pr(r,Mt,t.memoizedState.cache),rl();break;case 27:case 5:fi(r);break;case 4:Qe(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?yv(t,r,a):(zr(r),t=lr(t,r,a),t!==null?t.sibling:null);zr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(al(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return _v(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Vt,Vt.current),l)break;return null;case 22:case 23:return r.lanes=0,fv(t,r,a);case 24:Pr(r,Mt,t.memoizedState.cache)}return lr(t,r,a)}function Ev(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Bt=!0;else{if(!Rd(t,a)&&(r.flags&128)===0)return Bt=!1,OA(t,r,a);Bt=(t.flags&131072)!==0}else Bt=!1,Xe&&(r.flags&1048576)!==0&&Xg(r,rc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Pf(l)?(t=ea(l,t),r.tag=1,r=pv(null,r,l,t,a)):(r.tag=0,r=_d(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===pe){r.tag=11,r=uv(null,r,l,t,a);break e}else if(h===x){r.tag=14,r=cv(null,r,l,t,a);break e}}throw r=et(l)||l,Error(s(306,r,""))}}return r;case 0:return _d(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=ea(l,r.pendingProps),pv(t,r,l,h,a);case 3:e:{if(Qe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Yf(t,r),dl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Pr(r,Mt,l),l!==d.cache&&Hf(r,[Mt],a,!0),fl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=gv(t,r,l,a);break e}else if(l!==h){h=qn(Error(s(424)),r),sl(h),r=gv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(vt=ri(t.firstChild),mn=r,Xe=!0,Qs=null,Ri=!0,a=Zy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===h){r=lr(t,r,a);break e}Yt(t,r,l,a)}r=r.child}return r;case 26:return Ac(t,r),t===null?(a=A_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Xe||(a=r.type,t=r.pendingProps,l=jc(_e.current).createElement(a),l[Pe]=r,l[Le]=t,Wt(l,a,t),Et(l),r.stateNode=l):r.memoizedState=A_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return fi(r),t===null&&Xe&&(l=r.stateNode=T_(r.type,r.pendingProps,_e.current),mn=r,Ri=!0,h=vt,Xr(r.type)?(am=h,vt=ri(l.firstChild)):vt=h),Yt(t,r,r.pendingProps.children,a),Ac(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Xe&&((h=l=vt)&&(l=aS(l,r.type,r.pendingProps,Ri),l!==null?(r.stateNode=l,mn=r,vt=ri(l.firstChild),Ri=!1,h=!0):h=!1),h||Ys(r)),fi(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,nm(h,d)?l=null:_!==null&&nm(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=td(t,r,AA,null,null,a),Pl._currentValue=h),Ac(t,r),Yt(t,r,l,a),r.child;case 6:return t===null&&Xe&&((t=a=vt)&&(a=oS(a,r.pendingProps,Ri),a!==null?(r.stateNode=a,mn=r,vt=null,t=!0):t=!1),t||Ys(r)),null;case 13:return yv(t,r,a);case 4:return Qe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Qa(r,null,l,a):Yt(t,r,l,a),r.child;case 11:return uv(t,r,r.type,r.pendingProps,a);case 7:return Yt(t,r,r.pendingProps,a),r.child;case 8:return Yt(t,r,r.pendingProps.children,a),r.child;case 12:return Yt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Pr(r,r.type,l.value),Yt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ws(r),h=tn(h),l=l(h),r.flags|=1,Yt(t,r,l,a),r.child;case 14:return cv(t,r,r.type,r.pendingProps,a);case 15:return hv(t,r,r.type,r.pendingProps,a);case 19:return _v(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Sc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=tr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return fv(t,r,a);case 24:return Ws(r),l=tn(Mt),t===null?(h=$f(),h===null&&(h=ct,d=Ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Qf(r),Pr(r,Mt,h)):((t.lanes&a)!==0&&(Yf(t,r),dl(r,null,null,a),fl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Pr(r,Mt,l)):(l=d.cache,Pr(r,Mt,l),l!==h.cache&&Hf(r,[Mt],a,!0))),Yt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ur(t){t.flags|=4}function Tv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!N_(r)){if(r=$n.current,r!==null&&((Ge&4194048)===Ge?Ii!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||r!==Ii))throw cl=Kf,ry;t.flags|=8192}}function Rc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ye():536870912,t.lanes|=r,Za|=r)}function El(t,r){if(!Xe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function MA(t,r,a){var l=r.pendingProps;switch(jf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),sr(Mt),pn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(il(r)?ur(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jg())),gt(r),null;case 26:return a=r.memoizedState,t===null?(ur(r),a!==null?(gt(r),Tv(r,a)):(gt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(ur(r),gt(r),Tv(r,a)):(gt(r),r.flags&=-16777217):(t.memoizedProps!==l&&ur(r),gt(r),r.flags&=-16777217),null;case 27:Sn(r),a=_e.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return gt(r),null}t=Te.current,il(r)?Wg(r):(t=T_(h,l,a),r.stateNode=t,ur(r))}return gt(r),null;case 5:if(Sn(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ur(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(t=Te.current,il(r))Wg(r);else{switch(h=jc(_e.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Pe]=r,t[Le]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Wt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ur(r)}}return gt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ur(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=_e.current,il(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pe]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||m_(t.nodeValue,a)),t||Ys(r)}else t=jc(t).createTextNode(l),t[Pe]=r,r.stateNode=t}return gt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=il(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pe]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),h=!1}else h=Jg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(or(r),r):(or(r),null)}if(or(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Rc(r,r.updateQueue),gt(r),null;case 4:return pn(),t===null&&Wd(r.stateNode.containerInfo),gt(r),null;case 10:return sr(r.type),gt(r),null;case 19:if(le(Vt),h=r.memoizedState,h===null)return gt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)El(h,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Tc(t),d!==null){for(r.flags|=128,El(h,!1),t=d.updateQueue,r.updateQueue=t,Rc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Yg(a,t),a=a.sibling;return re(Vt,Vt.current&1|2),r.child}t=t.sibling}h.tail!==null&&un()>Nc&&(r.flags|=128,l=!0,El(h,!1),r.lanes=4194304)}else{if(!l)if(t=Tc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Rc(r,t),El(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Xe)return gt(r),null}else 2*un()-h.renderingStartTime>Nc&&a!==536870912&&(r.flags|=128,l=!0,El(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=un(),r.sibling=null,t=Vt.current,re(Vt,l?t&1|2:t&1),r):(gt(r),null);case 22:case 23:return or(r),Jf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),a=r.updateQueue,a!==null&&Rc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),sr(Mt),gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function VA(t,r){switch(jf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return sr(Mt),pn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Sn(r),null;case 13:if(or(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));rl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Vt),null;case 4:return pn(),null;case 10:return sr(r.type),null;case 22:case 23:return or(r),Jf(),t!==null&&le(Zs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return sr(Mt),null;case 25:return null;default:return null}}function wv(t,r){switch(jf(r),r.tag){case 3:sr(Mt),pn();break;case 26:case 27:case 5:Sn(r);break;case 4:pn();break;case 13:or(r);break;case 19:le(Vt);break;case 10:sr(r.type);break;case 22:case 23:or(r),Jf(),t!==null&&le(Zs);break;case 24:sr(Mt)}}function Tl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){ut(r,r.return,T)}}function qr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var D=a,F=T;try{F()}catch(W){ut(h,D,W)}}}l=l.next}while(l!==d)}}catch(W){ut(r,r.return,W)}}function bv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{cy(r,a)}catch(l){ut(t,t.return,l)}}}function Av(t,r,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ut(t,r,l)}}function wl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ut(t,r,h)}}function Ci(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(t,r,h)}else a.current=null}function Sv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(t,t.return,h)}}function Id(t,r,a){try{var l=t.stateNode;tS(l,t.type,a,r),l[Le]=r}catch(h){ut(t,t.return,h)}}function Rv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xr(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Uc));else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Nd(t,r,a),t=t.sibling;t!==null;)Nd(t,r,a),t=t.sibling}function Ic(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ic(t,r,a),t=t.sibling;t!==null;)Ic(t,r,a),t=t.sibling}function Iv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Wt(r,l,a),r[Pe]=t,r[Le]=a}catch(d){ut(t,t.return,d)}}var cr=!1,wt=!1,Dd=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function PA(t,r){if(t=t.containerInfo,em=Gc,t=jg(t),Cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,F=0,W=0,J=t,G=null;t:for(;;){for(var $;J!==a||h!==0&&J.nodeType!==3||(T=_+h),J!==d||l!==0&&J.nodeType!==3||(D=_+l),J.nodeType===3&&(_+=J.nodeValue.length),($=J.firstChild)!==null;)G=J,J=$;for(;;){if(J===t)break t;if(G===a&&++F===h&&(T=_),G===d&&++W===l&&(D=_),($=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=$}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(tm={focusedElem:t,selectionRange:a},Gc=!1,qt=r;qt!==null;)if(r=qt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,qt=t;else for(;qt!==null;){switch(r=qt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ie=ea(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ie,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ut(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)rm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,qt=t;break}qt=r.return}}function Nv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Hr(t,a),l&4&&Tl(5,a);break;case 1:if(Hr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){ut(a,a.return,_)}else{var h=ea(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){ut(a,a.return,_)}}l&64&&bv(a),l&512&&wl(a,a.return);break;case 3:if(Hr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{cy(t,r)}catch(_){ut(a,a.return,_)}}break;case 27:r===null&&l&4&&Iv(a);case 26:case 5:Hr(t,a),r===null&&l&4&&Sv(a),l&512&&wl(a,a.return);break;case 12:Hr(t,a);break;case 13:Hr(t,a),l&4&&Ov(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=FA.bind(null,a),lS(t,a))));break;case 22:if(l=a.memoizedState!==null||cr,!l){r=r!==null&&r.memoizedState!==null||wt,h=cr;var d=wt;cr=l,(wt=r)&&!d?Fr(t,a,(a.subtreeFlags&8772)!==0):Hr(t,a),cr=h,wt=d}break;case 30:break;default:Hr(t,a)}}function Dv(t){var r=t.alternate;r!==null&&(t.alternate=null,Dv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&xr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,_n=!1;function hr(t,r,a){for(a=a.child;a!==null;)xv(t,r,a),a=a.sibling}function xv(t,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:wt||Ci(a,r),hr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||Ci(a,r);var l=dt,h=_n;Xr(a.type)&&(dt=a.stateNode,_n=!1),hr(t,r,a),xl(a.stateNode),dt=l,_n=h;break;case 5:wt||Ci(a,r);case 6:if(l=dt,h=_n,dt=null,hr(t,r,a),dt=l,_n=h,dt!==null)if(_n)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(d){ut(a,r,d)}else try{dt.removeChild(a.stateNode)}catch(d){ut(a,r,d)}break;case 18:dt!==null&&(_n?(t=dt,__(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),jl(t)):__(dt,a.stateNode));break;case 4:l=dt,h=_n,dt=a.stateNode.containerInfo,_n=!0,hr(t,r,a),dt=l,_n=h;break;case 0:case 11:case 14:case 15:wt||qr(2,a,r),wt||qr(4,a,r),hr(t,r,a);break;case 1:wt||(Ci(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Av(a,r,l)),hr(t,r,a);break;case 21:hr(t,r,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,hr(t,r,a),wt=l;break;default:hr(t,r,a)}}function Ov(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){ut(r,r.return,a)}}function kA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Cv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Cv),r;default:throw Error(s(435,t.tag))}}function xd(t,r){var a=kA(t);r.forEach(function(l){var h=GA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Nn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Xr(T.type)){dt=T.stateNode,_n=!1;break e}break;case 5:dt=T.stateNode,_n=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,_n=!0;break e}T=T.return}if(dt===null)throw Error(s(160));xv(d,_,h),dt=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Mv(r,t),r=r.sibling}var ii=null;function Mv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nn(r,t),Dn(t),l&4&&(qr(3,t,t.return),Tl(3,t),qr(5,t,t.return));break;case 1:Nn(r,t),Dn(t),l&512&&(wt||a===null||Ci(a,a.return)),l&64&&cr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ii;if(Nn(r,t),Dn(t),l&512&&(wt||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ns]||d[Pe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Wt(d,l,a),d[Pe]=t,Et(d),l=d;break e;case"link":var _=I_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Wt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=I_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Wt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Pe]=t,Et(d),l=d}t.stateNode=l}else C_(h,t.type,t.stateNode);else t.stateNode=R_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?C_(h,t.type,t.stateNode):R_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Id(t,t.memoizedProps,a.memoizedProps)}break;case 27:Nn(r,t),Dn(t),l&512&&(wt||a===null||Ci(a,a.return)),a!==null&&l&4&&Id(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Nn(r,t),Dn(t),l&512&&(wt||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{Un(h,"")}catch($){ut(t,t.return,$)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Id(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Dd=!0);break;case 6:if(Nn(r,t),Dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch($){ut(t,t.return,$)}}break;case 3:if(qc=null,h=ii,ii=zc(r.containerInfo),Nn(r,t),ii=h,Dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch($){ut(t,t.return,$)}Dd&&(Dd=!1,Vv(t));break;case 4:l=ii,ii=zc(t.stateNode.containerInfo),Nn(r,t),Dn(t),ii=l;break;case 12:Nn(r,t),Dn(t);break;case 13:Nn(r,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=un()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xd(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=cr,W=wt;if(cr=F||h,wt=W||D,Nn(r,t),wt=W,cr=F,Dn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||D||cr||wt||ta(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var J=D.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch($){ut(D,D.return,$)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch($){ut(D,D.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xd(t,a))));break;case 19:Nn(r,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xd(t,l)));break;case 30:break;case 21:break;default:Nn(r,t),Dn(t)}}function Dn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Rv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Cd(t);Ic(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Un(_,""),a.flags&=-33);var T=Cd(t);Ic(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,F=Cd(t);Nd(t,F,D);break;default:throw Error(s(161))}}catch(W){ut(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Vv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Vv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Hr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Nv(t,r.alternate,r),r=r.sibling}function ta(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:qr(4,r,r.return),ta(r);break;case 1:Ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Av(r,r.return,a),ta(r);break;case 27:xl(r.stateNode);case 26:case 5:Ci(r,r.return),ta(r);break;case 22:r.memoizedState===null&&ta(r);break;case 30:ta(r);break;default:ta(r)}t=t.sibling}}function Fr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Fr(h,d,a),Tl(4,d);break;case 1:if(Fr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){ut(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)uy(D[h],T)}catch(F){ut(l,l.return,F)}}a&&_&64&&bv(d),wl(d,d.return);break;case 27:Iv(d);case 26:case 5:Fr(h,d,a),a&&l===null&&_&4&&Sv(d),wl(d,d.return);break;case 12:Fr(h,d,a);break;case 13:Fr(h,d,a),a&&_&4&&Ov(h,d);break;case 22:d.memoizedState===null&&Fr(h,d,a),wl(d,d.return);break;case 30:break;default:Fr(h,d,a)}r=r.sibling}}function Od(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Md(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ol(t))}function Ni(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Pv(t,r,a,l),r=r.sibling}function Pv(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ni(t,r,a,l),h&2048&&Tl(9,r);break;case 1:Ni(t,r,a,l);break;case 3:Ni(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){Ni(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ut(r,r.return,D)}}else Ni(t,r,a,l);break;case 13:Ni(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?Ni(t,r,a,l):bl(t,r):d._visibility&2?Ni(t,r,a,l):(d._visibility|=2,Ya(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Od(_,r);break;case 24:Ni(t,r,a,l),h&2048&&Md(r.alternate,r);break;default:Ni(t,r,a,l)}}function Ya(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,T=a,D=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:Ya(d,_,T,D,h),Tl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Ya(d,_,T,D,h):bl(d,_):(W._visibility|=2,Ya(d,_,T,D,h)),h&&F&2048&&Od(_.alternate,_);break;case 24:Ya(d,_,T,D,h),h&&F&2048&&Md(_.alternate,_);break;default:Ya(d,_,T,D,h)}r=r.sibling}}function bl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&Od(l.alternate,l);break;case 24:bl(a,l),h&2048&&Md(l.alternate,l);break;default:bl(a,l)}r=r.sibling}}var Al=8192;function Xa(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)kv(t),t=t.sibling}function kv(t){switch(t.tag){case 26:Xa(t),t.flags&Al&&t.memoizedState!==null&&TS(ii,t.memoizedState,t.memoizedProps);break;case 5:Xa(t);break;case 3:case 4:var r=ii;ii=zc(t.stateNode.containerInfo),Xa(t),ii=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Al,Al=16777216,Xa(t),Al=r):Xa(t));break;default:Xa(t)}}function Lv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Sl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,jv(l,t)}Lv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uv(t),t=t.sibling}function Uv(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&qr(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Cc(t)):Sl(t);break;default:Sl(t)}}function Cc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qt=l,jv(l,t)}Lv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:qr(8,r,r.return),Cc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(r));break;default:Cc(r)}t=t.sibling}}function jv(t,r){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:qr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var h=l.sibling,d=l.return;if(Dv(l),l===a){qt=null;break e}if(h!==null){h.return=d,qt=h;break e}qt=d}}}var LA={getCacheForType:function(t){var r=tn(Mt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},UA=typeof WeakMap=="function"?WeakMap:Map,tt=0,ct=null,Ue=null,Ge=0,nt=0,xn=null,Gr=!1,Wa=!1,Vd=!1,fr=0,_t=0,$r=0,na=0,Pd=0,Kn=0,Za=0,Rl=null,En=null,kd=!1,Ld=0,Nc=1/0,Dc=null,Kr=null,Xt=0,Qr=null,Ja=null,eo=0,Ud=0,jd=null,zv=null,Il=0,zd=null;function On(){if((tt&2)!==0&&Ge!==0)return Ge&-Ge;if(X.T!==null){var t=Ba;return t!==0?t:Kd()}return yn()}function Bv(){Kn===0&&(Kn=(Ge&536870912)===0||Xe?ue():536870912);var t=$n.current;return t!==null&&(t.flags|=32),Kn}function Mn(t,r,a){(t===ct&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(to(t,0),Yr(t,Ge,Kn,!1)),ge(t,a),((tt&2)===0||t!==ct)&&(t===ct&&((tt&2)===0&&(na|=a),_t===4&&Yr(t,Ge,Kn,!1)),Di(t))}function qv(t,r,a){if((tt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Fi(t,r),h=l?BA(t,r):Hd(t,r,!0),d=l;do{if(h===0){Wa&&!l&&Yr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!jA(a)){h=Hd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=t;h=Rl;var D=T.current.memoizedState.isDehydrated;if(D&&(to(T,_).flags|=256),_=Hd(T,_,!1),_!==2){if(Vd&&!D){T.errorRecoveryDisabledLanes|=d,na|=d,h=4;break e}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){to(t,0),Yr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Yr(l,r,Kn,!Gr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Ld+300-un(),10<h)){if(Yr(l,r,Kn,!Gr),Hi(l,0,!0)!==0)break e;l.timeoutHandle=y_(Hv.bind(null,l,a,En,Dc,kd,r,Kn,na,Za,Gr,d,2,-0,0),h);break e}Hv(l,a,En,Dc,kd,r,Kn,na,Za,Gr,d,0,-0,0)}}break}while(!0);Di(t)}function Hv(t,r,a,l,h,d,_,T,D,F,W,J,G,$){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:ES},kv(r),J=wS(),J!==null)){t.cancelPendingCommit=J(Xv.bind(null,t,r,d,a,l,h,_,T,D,W,1,G,$)),Yr(t,d,_,!F);return}Xv(t,r,d,a,l,h,_,T,D)}function jA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!In(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yr(t,r,a,l){r&=~Pd,r&=~na,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Lt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&pt(t,a,r)}function xc(){return(tt&6)===0?(Cl(0),!1):!0}function Bd(){if(Ue!==null){if(nt===0)var t=Ue.return;else t=Ue,rr=Xs=null,rd(t),Ka=null,vl=0,t=Ue;for(;t!==null;)wv(t.alternate,t),t=t.return;Ue=null}}function to(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Bd(),ct=t,Ue=a=tr(t.current,null),Ge=r,nt=0,xn=null,Gr=!1,Wa=Fi(t,r),Vd=!1,Za=Kn=Pd=na=$r=_t=0,En=Rl=null,kd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Lt(l),d=1<<h;r|=t[h],l&=~d}return fr=r,Ju(),a}function Fv(t,r){Me=null,X.H=vc,r===ul||r===lc?(r=oy(),nt=3):r===ry?(r=oy(),nt=4):nt=r===lv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Ue===null&&(_t=1,bc(t,qn(r,t.current)))}function Gv(){var t=X.H;return X.H=vc,t===null?vc:t}function $v(){var t=X.A;return X.A=LA,t}function qd(){_t=4,Gr||(Ge&4194048)!==Ge&&$n.current!==null||(Wa=!0),($r&134217727)===0&&(na&134217727)===0||ct===null||Yr(ct,Ge,Kn,!1)}function Hd(t,r,a){var l=tt;tt|=2;var h=Gv(),d=$v();(ct!==t||Ge!==r)&&(Dc=null,to(t,r)),r=!1;var _=_t;e:do try{if(nt!==0&&Ue!==null){var T=Ue,D=xn;switch(nt){case 8:Bd(),_=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var F=nt;if(nt=0,xn=null,no(t,T,D,F),a&&Wa){_=0;break e}break;default:F=nt,nt=0,xn=null,no(t,T,D,F)}}zA(),_=_t;break}catch(W){Fv(t,W)}while(!0);return r&&t.shellSuspendCounter++,rr=Xs=null,tt=l,X.H=h,X.A=d,Ue===null&&(ct=null,Ge=0,Ju()),_}function zA(){for(;Ue!==null;)Kv(Ue)}function BA(t,r){var a=tt;tt|=2;var l=Gv(),h=$v();ct!==t||Ge!==r?(Dc=null,Nc=un()+500,to(t,r)):Wa=Fi(t,r);e:do try{if(nt!==0&&Ue!==null){r=Ue;var d=xn;t:switch(nt){case 1:nt=0,xn=null,no(t,r,d,1);break;case 2:case 9:if(sy(d)){nt=0,xn=null,Qv(r);break}r=function(){nt!==2&&nt!==9||ct!==t||(nt=7),Di(t)},d.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:sy(d)?(nt=0,xn=null,Qv(r)):(nt=0,xn=null,no(t,r,d,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var T=Ue;if(!_||N_(_)){nt=0,xn=null;var D=T.sibling;if(D!==null)Ue=D;else{var F=T.return;F!==null?(Ue=F,Oc(F)):Ue=null}break t}}nt=0,xn=null,no(t,r,d,5);break;case 6:nt=0,xn=null,no(t,r,d,6);break;case 8:Bd(),_t=6;break e;default:throw Error(s(462))}}qA();break}catch(W){Fv(t,W)}while(!0);return rr=Xs=null,X.H=l,X.A=h,tt=a,Ue!==null?0:(ct=null,Ge=0,Ju(),_t)}function qA(){for(;Ue!==null&&!Rr();)Kv(Ue)}function Kv(t){var r=Ev(t.alternate,t,fr);t.memoizedProps=t.pendingProps,r===null?Oc(t):Ue=r}function Qv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=mv(a,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=mv(a,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:rd(r);default:wv(a,r),r=Ue=Yg(r,fr),r=Ev(a,r,fr)}t.memoizedProps=t.pendingProps,r===null?Oc(t):Ue=r}function no(t,r,a,l){rr=Xs=null,rd(r),Ka=null,vl=0;var h=r.return;try{if(xA(t,h,r,a,Ge)){_t=1,bc(t,qn(a,t.current)),Ue=null;return}}catch(d){if(h!==null)throw Ue=h,d;_t=1,bc(t,qn(a,t.current)),Ue=null;return}r.flags&32768?(Xe||l===1?t=!0:Wa||(Ge&536870912)!==0?t=!1:(Gr=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yv(r,t)):Oc(r)}function Oc(t){var r=t;do{if((r.flags&32768)!==0){Yv(r,Gr);return}t=r.return;var a=MA(r.alternate,r,fr);if(a!==null){Ue=a;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=t}while(r!==null);_t===0&&(_t=5)}function Yv(t,r){do{var a=VA(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);_t=6,Ue=null}function Xv(t,r,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do Mc();while(Xt!==0);if((tt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Mf,We(t,a,d,_,T,D),t===ct&&(Ue=ct=null,Ge=0),Ja=r,Qr=t,eo=a,Ud=d,jd=h,zv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$A(zi,function(){return t_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=oe.p,oe.p=2,_=tt,tt|=4;try{PA(t,r,a)}finally{tt=_,oe.p=h,X.T=l}}Xt=1,Wv(),Zv(),Jv()}}function Wv(){if(Xt===1){Xt=0;var t=Qr,r=Ja,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=tt;tt|=4;try{Mv(r,t);var d=tm,_=jg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Ug(T.ownerDocument.documentElement,T)){if(D!==null&&Cf(T)){var F=D.start,W=D.end;if(W===void 0&&(W=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(W,T.value.length);else{var J=T.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var $=G.getSelection(),Ie=T.textContent.length,Ae=Math.min(D.start,Ie),ot=D.end===void 0?Ae:Math.min(D.end,Ie);!$.extend&&Ae>ot&&(_=ot,ot=Ae,Ae=_);var j=Lg(T,Ae),k=Lg(T,ot);if(j&&k&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var q=J.createRange();q.setStart(j.node,j.offset),$.removeAllRanges(),Ae>ot?($.addRange(q),$.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),$.addRange(q))}}}}for(J=[],$=T;$=$.parentNode;)$.nodeType===1&&J.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Gc=!!em,tm=em=null}finally{tt=h,oe.p=l,X.T=a}}t.current=r,Xt=2}}function Zv(){if(Xt===2){Xt=0;var t=Qr,r=Ja,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=tt;tt|=4;try{Nv(t,r.alternate,r)}finally{tt=h,oe.p=l,X.T=a}}Xt=3}}function Jv(){if(Xt===4||Xt===3){Xt=0,Is();var t=Qr,r=Ja,a=eo,l=zv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Xt=5:(Xt=0,Ja=Qr=null,e_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Kr=null),Ut(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{X.T=r,oe.p=h}}(eo&3)!==0&&Mc(),Di(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===zd?Il++:(Il=0,zd=t):Il=0,Cl(0)}}function e_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ol(r)))}function Mc(t){return Wv(),Zv(),Jv(),t_()}function t_(){if(Xt!==5)return!1;var t=Qr,r=Ud;Ud=0;var a=Ut(eo),l=X.T,h=oe.p;try{oe.p=32>a?32:a,X.T=null,a=jd,jd=null;var d=Qr,_=eo;if(Xt=0,Ja=Qr=null,eo=0,(tt&6)!==0)throw Error(s(331));var T=tt;if(tt|=4,Uv(d.current),Pv(d,d.current,_,a),tt=T,Cl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{oe.p=h,X.T=l,e_(t,r)}}function n_(t,r,a){r=qn(a,r),r=vd(t.stateNode,r,2),t=Ur(t,r,2),t!==null&&(ge(t,2),Di(t))}function ut(t,r,a){if(t.tag===3)n_(t,t,a);else for(;r!==null;){if(r.tag===3){n_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){t=qn(a,t),a=av(2),l=Ur(r,a,2),l!==null&&(ov(a,l,r,t),ge(l,2),Di(l));break}}r=r.return}}function Fd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new UA;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Vd=!0,h.add(a),t=HA.bind(null,t,r,a),r.then(t,t))}function HA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ct===t&&(Ge&a)===a&&(_t===4||_t===3&&(Ge&62914560)===Ge&&300>un()-Ld?(tt&2)===0&&to(t,0):Pd|=a,Za===Ge&&(Za=0)),Di(t)}function i_(t,r){r===0&&(r=ye()),t=La(t,r),t!==null&&(ge(t,r),Di(t))}function FA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),i_(t,a)}function GA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),i_(t,a)}function $A(t,r){return Zn(t,r)}var Vc=null,io=null,Gd=!1,Pc=!1,$d=!1,ia=0;function Di(t){t!==io&&t.next===null&&(io===null?Vc=io=t:io=io.next=t),Pc=!0,Gd||(Gd=!0,QA())}function Cl(t,r){if(!$d&&Pc){$d=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Lt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,o_(l,d))}else d=Ge,d=Hi(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fi(l,d)||(a=!0,o_(l,d));l=l.next}while(a);$d=!1}}function KA(){r_()}function r_(){Pc=Gd=!1;var t=0;ia!==0&&(nS()&&(t=ia),ia=0);for(var r=un(),a=null,l=Vc;l!==null;){var h=l.next,d=s_(l,r);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(io=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=h}Cl(t)}function s_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Lt(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=B(T,r)):D<=r&&(t.expiredLanes|=T),d&=~T}if(r=ct,a=Ge,a=Hi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&mi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fi(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&mi(l),Ut(a)){case 2:case 8:a=Cr;break;case 32:a=zi;break;case 268435456:a=Nr;break;default:a=zi}return l=a_.bind(null,t),a=Zn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&mi(l),t.callbackPriority=2,t.callbackNode=null,2}function a_(t,r){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mc()&&t.callbackNode!==a)return null;var l=Ge;return l=Hi(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qv(t,l,r),s_(t,un()),t.callbackNode!=null&&t.callbackNode===a?a_.bind(null,t):null)}function o_(t,r){if(Mc())return null;qv(t,r,!0)}function QA(){rS(function(){(tt&6)!==0?Zn(Ir,KA):r_()})}function Kd(){return ia===0&&(ia=ue()),ia}function l_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function u_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function YA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=l_((h[Le]||null).action),_=l.submitter;_&&(r=(r=_[Le]||null)?l_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new Ra("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ia!==0){var D=_?u_(h,_):new FormData(h);dd(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?u_(h,_):new FormData(h),dd(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Qd=0;Qd<Of.length;Qd++){var Yd=Of[Qd],XA=Yd.toLowerCase(),WA=Yd[0].toUpperCase()+Yd.slice(1);ni(XA,"on"+WA)}ni(qg,"onAnimationEnd"),ni(Hg,"onAnimationIteration"),ni(Fg,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(mA,"onTransitionRun"),ni(pA,"onTransitionStart"),ni(gA,"onTransitionCancel"),ni(Gg,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function c_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,F=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(W){wc(W)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,F=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=F;try{d(h)}catch(W){wc(W)}h.currentTarget=null,d=D}}}}function je(t,r){var a=r[zo];a===void 0&&(a=r[zo]=new Set);var l=t+"__bubble";a.has(l)||(h_(r,t,2,!1),a.add(l))}function Xd(t,r,a){var l=0;r&&(l|=4),h_(a,t,l,r)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Wd(t){if(!t[kc]){t[kc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(ZA.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[kc]||(r[kc]=!0,Xd("selectionchange",!1,r))}}function h_(t,r,a,l){switch(P_(r)){case 2:var h=SS;break;case 8:h=RS;break;default:h=hm}a=h.bind(null,r,a,t),h=void 0,!zn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Zd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=Gi(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Uu(function(){var F=d,W=jn(a),J=[];e:{var G=$g.get(t);if(G!==void 0){var $=Ra,Ie=t;switch(t){case"keypress":if(Ti(a)===0)break e;case"keydown":case"keyup":$=Oa;break;case"focusin":Ie="focus",$=Na;break;case"focusout":Ie="blur",$=Na;break;case"beforeblur":case"afterblur":$=Na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=$u;break;case qg:case Hg:case Fg:$=Da;break;case Gg:$=Qu;break;case"scroll":case"scrollend":$=ju;break;case"wheel":$=Ma;break;case"copy":case"cut":case"paste":$=xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Jo;break;case"toggle":case"beforetoggle":$=Xu}var Ae=(r&4)!==0,ot=!Ae&&(t==="scroll"||t==="scrollend"),j=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var k=F,q;k!==null;){var Z=k;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=ks(k,j),Z!=null&&Ae.push(Dl(k,Z,q))),ot)break;k=k.return}0<Ae.length&&(G=new $(G,Ie,null,a,W),J.push({event:G,listeners:Ae}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",G&&a!==Yi&&(Ie=a.relatedTarget||a.fromElement)&&(Gi(Ie)||Ie[Ln]))break e;if(($||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,$?(Ie=a.relatedTarget||a.toElement,$=F,Ie=Ie?Gi(Ie):null,Ie!==null&&(ot=u(Ie),Ae=Ie.tag,Ie!==ot||Ae!==5&&Ae!==27&&Ae!==6)&&(Ie=null)):($=null,Ie=F),$!==Ie)){if(Ae=Bn,Z="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Jo,Z="onPointerLeave",j="onPointerEnter",k="pointer"),ot=$==null?G:yi($),q=Ie==null?G:yi(Ie),G=new Ae(Z,k+"leave",$,a,W),G.target=ot,G.relatedTarget=q,Z=null,Gi(W)===F&&(Ae=new Ae(j,k+"enter",Ie,a,W),Ae.target=q,Ae.relatedTarget=ot,Z=Ae),ot=Z,$&&Ie)t:{for(Ae=$,j=Ie,k=0,q=Ae;q;q=ro(q))k++;for(q=0,Z=j;Z;Z=ro(Z))q++;for(;0<k-q;)Ae=ro(Ae),k--;for(;0<q-k;)j=ro(j),q--;for(;k--;){if(Ae===j||j!==null&&Ae===j.alternate)break t;Ae=ro(Ae),j=ro(j)}Ae=null}else Ae=null;$!==null&&f_(J,G,$,Ae,!1),Ie!==null&&ot!==null&&f_(J,ot,Ie,Ae,!0)}}e:{if(G=F?yi(F):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var me=xg;else if(Ot(G))if(Og)me=hA;else{me=uA;var ke=lA}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&$o(F.elementType)&&(me=xg):me=cA;if(me&&(me=me(t,F))){er(J,me,a,W);break e}ke&&ke(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Mr(G,"number",G.value)}switch(ke=F?yi(F):window,t){case"focusin":(Ot(ke)||ke.contentEditable==="true")&&(Va=ke,Nf=F,nl=null);break;case"focusout":nl=Nf=Va=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,zg(J,a,W);break;case"selectionchange":if(dA)break;case"keydown":case"keyup":zg(J,a,W)}var Ee;if(Ai)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else He?K(t,a)&&(Se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(v&&a.locale!=="ko"&&(He||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&He&&(Ee=Qo()):(Ei=W,Vr="value"in Ei?Ei.value:Ei.textContent,He=!0)),ke=Lc(F,Se),0<ke.length&&(Se=new Wo(Se,t,null,a,W),J.push({event:Se,listeners:ke}),Ee?Se.data=Ee:(Ee=ae(a),Ee!==null&&(Se.data=Ee)))),(Ee=y?xt(t,a):Fe(t,a))&&(Se=Lc(F,"onBeforeInput"),0<Se.length&&(ke=new Wo("onBeforeInput","beforeinput",null,a,W),J.push({event:ke,listeners:Se}),ke.data=Ee)),YA(J,t,F,a,W)}c_(J,r)})}function Dl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Lc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ks(t,a),h!=null&&l.unshift(Dl(t,h,d)),h=ks(t,r),h!=null&&l.push(Dl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function f_(t,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,F=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||F===null||(D=F,h?(F=ks(a,d),F!=null&&_.unshift(Dl(a,F,D))):h||(F=ks(a,d),F!=null&&_.push(Dl(a,F,D)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var JA=/\r\n?/g,eS=/\u0000|\uFFFD/g;function d_(t){return(typeof t=="string"?t:""+t).replace(JA,`
`).replace(eS,"")}function m_(t,r){return r=d_(r),d_(t)===r}function Uc(){}function at(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Un(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Un(t,""+l);break;case"className":vi(t,"class",l);break;case"tabIndex":vi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(r!=="object"){vi(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&at(t,r,"name",h.name,h,null),at(t,r,"formEncType",h.formEncType,h,null),at(t,r,"formMethod",h.formMethod,h,null),at(t,r,"formTarget",h.formTarget,h,null)):(at(t,r,"encType",h.encType,h,null),at(t,r,"method",h.method,h,null),at(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Uc);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Or(t,"popover",l);break;case"xlinkActuate":Kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wf.get(a)||a,Or(t,a,l))}}function Jd(t,r,a,l,h,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Un(t,l):(typeof l=="number"||typeof l=="bigint")&&Un(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Le]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Or(t,a,l)}}}function Wt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(t,r,d,_,a,null)}}h&&at(t,r,"srcSet",a.srcSet,a,null),l&&at(t,r,"src",a.src,a,null);return;case"input":je("invalid",t);var T=d=_=h=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:at(t,r,l,W,a,null)}}Ms(t,d,T,D,F,_,h,!1),Aa(t);return;case"select":je("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:at(t,r,h,T,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Qi(t,!!l,r,!1):a!=null&&Qi(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:at(t,r,_,T,a,null)}Vs(t,l,h,d),Aa(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:at(t,r,D,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)je(Nl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(t,r,F,l,a,null)}return;default:if($o(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Jd(t,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&at(t,r,T,l,a,null))}function tS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,F=null,W=null;for($ in a){var J=a[$];if(a.hasOwnProperty($)&&J!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty($)||at(t,r,$,null,l,J)}}for(var G in l){var $=l[G];if(J=a[G],l.hasOwnProperty(G)&&($!=null||J!=null))switch(G){case"type":d=$;break;case"name":h=$;break;case"checked":F=$;break;case"defaultChecked":W=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==J&&at(t,r,G,$,l,J)}}Rn(t,_,T,D,F,W,d,h);return;case"select":$=_=T=G=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":$=D;default:l.hasOwnProperty(d)||at(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&at(t,r,h,d,l,D)}r=T,a=_,l=$,G!=null?Qi(t,!!a,G,!1):!!l!=!!a&&(r!=null?Qi(t,!!a,r,!0):Qi(t,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:at(t,r,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&at(t,r,_,h,l,d)}rt(t,G,$);return;case"option":for(var Ie in a)if(G=a[Ie],a.hasOwnProperty(Ie)&&G!=null&&!l.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:at(t,r,Ie,null,l,G)}for(D in l)if(G=l[D],$=a[D],l.hasOwnProperty(D)&&G!==$&&(G!=null||$!=null))switch(D){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:at(t,r,D,G,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)G=a[Ae],a.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae)&&at(t,r,Ae,null,l,G);for(F in l)if(G=l[F],$=a[F],l.hasOwnProperty(F)&&G!==$&&(G!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:at(t,r,F,G,l,$)}return;default:if($o(r)){for(var ot in a)G=a[ot],a.hasOwnProperty(ot)&&G!==void 0&&!l.hasOwnProperty(ot)&&Jd(t,r,ot,void 0,l,G);for(W in l)G=l[W],$=a[W],!l.hasOwnProperty(W)||G===$||G===void 0&&$===void 0||Jd(t,r,W,G,l,$);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&at(t,r,j,null,l,G);for(J in l)G=l[J],$=a[J],!l.hasOwnProperty(J)||G===$||G==null&&$==null||at(t,r,J,G,l,$)}var em=null,tm=null;function jc(t){return t.nodeType===9?t:t.ownerDocument}function p_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function nm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var im=null;function nS(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(t){return v_.resolve(null).then(t).catch(sS)}:y_;function sS(t){setTimeout(function(){throw t})}function Xr(t){return t==="head"}function __(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&xl(_.documentElement),a&2&&xl(_.body),a&4)for(a=_.head,xl(a),_=a.firstChild;_;){var T=_.nextSibling,D=_.nodeName;_[Ns]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),jl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);jl(r)}function rm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aS(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ns])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ri(t.nextSibling),t===null)break}return null}function oS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ri(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ri(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var am=null;function E_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function T_(t,r,a){switch(r=jc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);xr(t)}var Qn=new Map,w_=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var dr=oe.d;oe.d={f:uS,r:cS,D:hS,C:fS,L:dS,m:mS,X:gS,S:pS,M:yS};function uS(){var t=dr.f(),r=xc();return t||r}function cS(t){var r=gi(t);r!==null&&r.tag===5&&r.type==="form"?qy(r):dr.r(t)}var so=typeof document>"u"?null:document;function b_(t,r,a){var l=so;if(l&&typeof r=="string"&&r){var h=Rt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),w_.has(h)||(w_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Wt(r,"link",t),Et(r),l.head.appendChild(r)))}}function hS(t){dr.D(t),b_("dns-prefetch",t,null)}function fS(t,r){dr.C(t,r),b_("preconnect",t,r)}function dS(t,r,a){dr.L(t,r,a);var l=so;if(l&&t&&r){var h='link[rel="preload"][as="'+Rt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Rt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Rt(a.imageSizes)+'"]')):h+='[href="'+Rt(t)+'"]';var d=h;switch(r){case"style":d=ao(t);break;case"script":d=oo(t)}Qn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Qn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Ol(d))||r==="script"&&l.querySelector(Ml(d))||(r=l.createElement("link"),Wt(r,"link",t),Et(r),l.head.appendChild(r)))}}function mS(t,r){dr.m(t,r);var a=so;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Rt(l)+'"][href="'+Rt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(t)}if(!Qn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),Wt(l,"link",t),Et(l),a.head.appendChild(l)}}}function pS(t,r,a){dr.S(t,r,a);var l=so;if(l&&t){var h=hn(l).hoistableStyles,d=ao(t);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Ol(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Qn.get(d))&&om(t,a);var D=_=l.createElement("link");Et(D),Wt(D,"link",t),D._p=new Promise(function(F,W){D.onload=F,D.onerror=W}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Bc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function gS(t,r){dr.X(t,r);var a=so;if(a&&t){var l=hn(a).hoistableScripts,h=oo(t),d=l.get(h);d||(d=a.querySelector(Ml(h)),d||(t=E({src:t,async:!0},r),(r=Qn.get(h))&&lm(t,r),d=a.createElement("script"),Et(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yS(t,r){dr.M(t,r);var a=so;if(a&&t){var l=hn(a).hoistableScripts,h=oo(t),d=l.get(h);d||(d=a.querySelector(Ml(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Qn.get(h))&&lm(t,r),d=a.createElement("script"),Et(d),Wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function A_(t,r,a,l){var h=(h=_e.current)?zc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ao(a.href),a=hn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var d=hn(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Ol(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||vS(h,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=oo(a),a=hn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+Rt(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function S_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function vS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Wt(r,"link",a),Et(r),t.head.appendChild(r))}function oo(t){return'[src="'+Rt(t)+'"]'}function Ml(t){return"script[async]"+t}function R_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Rt(a.href)+'"]');if(l)return r.instance=l,Et(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Wt(l,"style",h),Bc(l,a.precedence,t),r.instance=l;case"stylesheet":h=ao(a.href);var d=t.querySelector(Ol(h));if(d)return r.state.loading|=4,r.instance=d,Et(d),d;l=S_(a),(h=Qn.get(h))&&om(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Wt(d,"link",l),r.state.loading|=4,Bc(d,a.precedence,t),r.instance=d;case"script":return d=oo(a.src),(h=t.querySelector(Ml(d)))?(r.instance=h,Et(h),h):(l=a,(h=Qn.get(d))&&(l=E({},a),lm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Wt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Bc(l,a.precedence,t));return r.instance}function Bc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function lm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var qc=null;function I_(t,r,a){if(qc===null){var l=new Map,h=qc=new Map;h.set(a,l)}else h=qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ns]||d[Pe]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function C_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function _S(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function N_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function ES(){}function TS(t,r,a){if(Vl===null)throw Error(s(475));var l=Vl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=ao(a.href),d=t.querySelector(Ol(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Hc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,Et(d);return}d=t.ownerDocument||t,a=S_(a),(h=Qn.get(h))&&om(a,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Wt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Hc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function wS(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&um(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&um(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Hc(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function um(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,r.forEach(bS,t),Fc=null,Hc.call(t))}function bS(t,r){if(!(r.state.loading&4)){var a=Fc.get(t);if(a)var l=a.get(null);else{a=new Map,Fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Pl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function AS(t,r,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.hiddenUpdates=fe(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function D_(t,r,a,l,h,d,_,T,D,F,W,J){return t=new AS(t,r,a,_,T,D,F,J),r=1,d===!0&&(r|=24),d=Cn(3,null,null,r),t.current=d,d.stateNode=t,r=Ff(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Qf(d),t}function x_(t){return t?(t=Ua,t):Ua}function O_(t,r,a,l,h,d){h=x_(h),l.context===null?l.context=h:l.pendingContext=h,l=Lr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,r),a!==null&&(Mn(a,t,r),hl(a,t,r))}function M_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function cm(t,r){M_(t,r),(t=t.alternate)&&M_(t,r)}function V_(t){if(t.tag===13){var r=La(t,67108864);r!==null&&Mn(r,t,67108864),cm(t,67108864)}}var Gc=!0;function SS(t,r,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=2,hm(t,r,a,l)}finally{oe.p=d,X.T=h}}function RS(t,r,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=8,hm(t,r,a,l)}finally{oe.p=d,X.T=h}}function hm(t,r,a,l){if(Gc){var h=fm(l);if(h===null)Zd(t,r,l,$c,a),k_(t,l);else if(CS(h,t,r,a,l))l.stopPropagation();else if(k_(t,l),r&4&&-1<IS.indexOf(t)){for(;h!==null;){var d=gi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=gn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-Lt(_);T.entanglements[1]|=D,_&=~D}Di(d),(tt&6)===0&&(Nc=un()+500,Cl(0))}}break;case 13:T=La(d,2),T!==null&&Mn(T,d,2),xc(),cm(d,2)}if(d=fm(l),d===null&&Zd(t,r,l,$c,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,r,l,null,a)}}function fm(t){return t=jn(t),dm(t)}var $c=null;function dm(t){if($c=null,t=Gi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return $c=t,null}function P_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lo()){case Ir:return 2;case Cr:return 8;case zi:case Uo:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var mm=!1,Wr=null,Zr=null,Jr=null,kl=new Map,Ll=new Map,es=[],IS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(t,r){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":kl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(r.pointerId)}}function Ul(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=gi(r),r!==null&&V_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function CS(t,r,a,l,h){switch(r){case"focusin":return Wr=Ul(Wr,t,r,a,l,h),!0;case"dragenter":return Zr=Ul(Zr,t,r,a,l,h),!0;case"mouseover":return Jr=Ul(Jr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return kl.set(d,Ul(kl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ll.set(d,Ul(Ll.get(d)||null,t,r,a,l,h)),!0}return!1}function L_(t){var r=Gi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Jn(t.priority,function(){if(a.tag===13){var l=On();l=$t(l);var h=La(a,l);h!==null&&Mn(h,a,l),cm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yi=l,a.target.dispatchEvent(l),Yi=null}else return r=gi(a),r!==null&&V_(r),t.blockedOn=a,!1;r.shift()}return!0}function U_(t,r,a){Kc(t)&&a.delete(r)}function NS(){mm=!1,Wr!==null&&Kc(Wr)&&(Wr=null),Zr!==null&&Kc(Zr)&&(Zr=null),Jr!==null&&Kc(Jr)&&(Jr=null),kl.forEach(U_),Ll.forEach(U_)}function Qc(t,r){t.blockedOn===r&&(t.blockedOn=null,mm||(mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,NS)))}var Yc=null;function j_(t){Yc!==t&&(Yc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(dm(l||a)===null)continue;break}var d=gi(a);d!==null&&(t.splice(r,3),r-=3,dd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function jl(t){function r(D){return Qc(D,t)}Wr!==null&&Qc(Wr,t),Zr!==null&&Qc(Zr,t),Jr!==null&&Qc(Jr,t),kl.forEach(r),Ll.forEach(r);for(var a=0;a<es.length;a++){var l=es[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)L_(a),a.blockedOn===null&&es.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Le]||null;if(typeof d=="function")_||j_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Le]||null)T=_.formAction;else if(dm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),j_(a)}}}function pm(t){this._internalRoot=t}Xc.prototype.render=pm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=On();O_(a,l,t,r,null,null)},Xc.prototype.unmount=pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;O_(t.current,2,null,t,null,null),xc(),r[Ln]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var r=yn();t={blockedOn:null,target:t,priority:r};for(var a=0;a<es.length&&r!==0&&r<es[a].priority;a++);es.splice(a,0,t),a===0&&L_(t)}};var z_=e.version;if(z_!=="19.1.0")throw Error(s(527,z_,"19.1.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var DS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{ft=Wc.inject(DS),Ye=Wc}catch{}}return Bl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=nv,d=iv,_=rv,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=D_(t,1,!1,null,null,a,l,h,d,_,T,null),t[Ln]=r.current,Wd(t),new pm(r)},Bl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=nv,_=iv,T=rv,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=D_(t,1,!0,r,a??null,l,h,d,_,T,D,F),r.context=x_(null),a=r.current,l=On(),l=$t(l),h=Lr(l),h.callback=null,Ur(a,h,l),a=l,r.current.lanes=a,ge(r,a),Di(r),t[Ln]=r.current,Wd(t),new Xc(r)},Bl.version="19.1.0",Bl}var X_;function jS(){if(X_)return vm.exports;X_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vm.exports=US(),vm.exports}var zS=jS();const BS=()=>{};var W_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qS=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},YE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(S=64)),s.push(n[E],n[b],n[S],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(QE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new HS;const S=u<<2|m>>4;if(s.push(S),g!==64){const V=m<<4&240|g>>2;if(s.push(V),b!==64){const P=g<<6&192|b;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class HS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FS=function(i){const e=QE(i);return YE.encodeByteArray(e,!0)},_h=function(i){return FS(i).replace(/\./g,"")},XE=function(i){try{return YE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=()=>GS().__FIREBASE_DEFAULTS__,KS=()=>{if(typeof process>"u"||typeof W_>"u")return;const i=W_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},QS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&XE(i[1]);return e&&JSON.parse(e)},qh=()=>{try{return BS()||$S()||KS()||QS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},WE=i=>{var e,n;return(n=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},YS=i=>{const e=WE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ZE=()=>{var i;return(i=qh())===null||i===void 0?void 0:i.config},JE=i=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[_h(JSON.stringify(n)),_h(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function JS(){var i;const e=(i=qh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const i=ln();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function iR(){return!JS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tT(){try{return typeof indexedDB=="object"}catch{return!1}}function nT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function rR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="FirebaseError";class ci extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=sR,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,da.prototype.create)}}class da{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?aR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ci(o,m,s)}}function aR(i,e){return i.replace(oR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const oR=/\{\$([^}]+)}/g;function lR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ds(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Z_(u)&&Z_(f)){if(!ds(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Z_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function $l(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function uR(i,e){const n=new cR(i,e);return n.subscribe.bind(n)}class cR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");hR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=1e3,dR=2,mR=4*60*60*1e3,pR=.5;function J_(i,e=fR,n=dR){const s=e*Math.pow(n,i),o=Math.round(pR*s*(Math.random()-.5)*2);return Math.min(mR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(i){return i&&i._delegate?i._delegate:i}class ai{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new XS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(i){return i===ra?void 0:i}function vR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const ER={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},TR=ze.INFO,wR={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},bR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=wR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hh{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ER[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const AR=(i,e)=>e.some(n=>i instanceof n);let e0,t0;function SR(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RR(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iT=new WeakMap,zm=new WeakMap,rT=new WeakMap,bm=new WeakMap,_p=new WeakMap;function IR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(us(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&iT.set(n,i)}).catch(()=>{}),_p.set(e,i),e}function CR(i){if(zm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});zm.set(i,e)}let Bm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return zm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||rT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return us(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function NR(i){Bm=i(Bm)}function DR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Am(this),e,...n);return rT.set(s,e.sort?e.sort():[e]),us(s)}:RR().includes(i)?function(...e){return i.apply(Am(this),e),us(iT.get(this))}:function(...e){return us(i.apply(Am(this),e))}}function xR(i){return typeof i=="function"?DR(i):(i instanceof IDBTransaction&&CR(i),AR(i,SR())?new Proxy(i,Bm):i)}function us(i){if(i instanceof IDBRequest)return IR(i);if(bm.has(i))return bm.get(i);const e=xR(i);return e!==i&&(bm.set(i,e),_p.set(e,i)),e}const Am=i=>_p.get(i);function sT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=us(f);return s&&f.addEventListener("upgradeneeded",p=>{s(us(f.result),p.oldVersion,p.newVersion,us(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const OR=["get","getKey","getAll","getAllKeys","count"],MR=["put","add","delete","clear"],Sm=new Map;function n0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=MR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}NR(i=>({...i,get:(e,n,s)=>n0(e,n)||i.get(e,n,s),has:(e,n)=>!!n0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function PR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qm="@firebase/app",i0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Hh("@firebase/app"),kR="@firebase/app-compat",LR="@firebase/analytics-compat",UR="@firebase/analytics",jR="@firebase/app-check-compat",zR="@firebase/app-check",BR="@firebase/auth",qR="@firebase/auth-compat",HR="@firebase/database",FR="@firebase/data-connect",GR="@firebase/database-compat",$R="@firebase/functions",KR="@firebase/functions-compat",QR="@firebase/installations",YR="@firebase/installations-compat",XR="@firebase/messaging",WR="@firebase/messaging-compat",ZR="@firebase/performance",JR="@firebase/performance-compat",eI="@firebase/remote-config",tI="@firebase/remote-config-compat",nI="@firebase/storage",iI="@firebase/storage-compat",rI="@firebase/firestore",sI="@firebase/vertexai",aI="@firebase/firestore-compat",oI="firebase",lI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",uI={[qm]:"fire-core",[kR]:"fire-core-compat",[UR]:"fire-analytics",[LR]:"fire-analytics-compat",[zR]:"fire-app-check",[jR]:"fire-app-check-compat",[BR]:"fire-auth",[qR]:"fire-auth-compat",[HR]:"fire-rtdb",[FR]:"fire-data-connect",[GR]:"fire-rtdb-compat",[$R]:"fire-fn",[KR]:"fire-fn-compat",[QR]:"fire-iid",[YR]:"fire-iid-compat",[XR]:"fire-fcm",[WR]:"fire-fcm-compat",[ZR]:"fire-perf",[JR]:"fire-perf-compat",[eI]:"fire-rc",[tI]:"fire-rc-compat",[nI]:"fire-gcs",[iI]:"fire-gcs-compat",[rI]:"fire-fst",[aI]:"fire-fst-compat",[sI]:"fire-vertex","fire-js":"fire-js",[oI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,cI=new Map,Fm=new Map;function r0(i,e){try{i.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Li(i){const e=i.name;if(Fm.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,i);for(const n of Eh.values())r0(n,i);for(const n of cI.values())r0(n,i);return!0}function ma(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Yn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new da("app","Firebase",hI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=lI;function aT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Hm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(n||(n=ZE()),!n)throw cs.create("no-options");const u=Eh.get(o);if(u){if(ds(n,u.options)&&ds(s,u.config))return u;throw cs.create("duplicate-app",{appName:o})}const f=new _R(o);for(const p of Fm.values())f.addComponent(p);const m=new fI(n,s,f);return Eh.set(o,m),m}function Ep(i=Hm){const e=Eh.get(i);if(!e&&i===Hm&&ZE())return aT();if(!e)throw cs.create("no-app",{appName:i});return e}function Xn(i,e,n){var s;let o=(s=uI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(m.join(" "));return}Li(new ai(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebase-heartbeat-database",mI=1,ru="firebase-heartbeat-store";let Rm=null;function oT(){return Rm||(Rm=sT(dI,mI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(i=>{throw cs.create("idb-open",{originalErrorMessage:i.message})})),Rm}async function pI(i){try{const n=(await oT()).transaction(ru),s=await n.objectStore(ru).get(lT(i));return await n.done,s}catch(e){if(e instanceof ci)Er.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function s0(i,e){try{const s=(await oT()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,lT(i)),await s.done}catch(n){if(n instanceof ci)Er.warn(n.message);else{const s=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(s.message)}}}function lT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,yI=30;class vI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=a0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>yI){const f=TI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Er.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a0(),{heartbeatsToSend:s,unsentEntries:o}=_I(this._heartbeatsCache.heartbeats),u=_h(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Er.warn(n),""}}}function a0(){return new Date().toISOString().substring(0,10)}function _I(i,e=gI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),o0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),o0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class EI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tT()?nT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return s0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function o0(i){return _h(JSON.stringify({version:2,heartbeats:i})).length}function TI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(i){Li(new ai("platform-logger",e=>new VR(e),"PRIVATE")),Li(new ai("heartbeat",e=>new vI(e),"PRIVATE")),Xn(qm,i0,i),Xn(qm,i0,"esm2017"),Xn("fire-js","")}wI("");var bI="firebase",AI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(bI,AI,"app");var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,uT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function I(){}I.prototype=R.prototype,x.D=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(N,M,L){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return R.prototype[M].apply(N,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,I){I||(I=0);var N=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)N[M]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(M=0;16>M;++M)N[M]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],M=x.g[2];var L=x.g[3],C=R+(L^I&(M^L))+N[0]+3614090360&4294967295;R=I+(C<<7&4294967295|C>>>25),C=L+(M^R&(I^M))+N[1]+3905402710&4294967295,L=R+(C<<12&4294967295|C>>>20),C=M+(I^L&(R^I))+N[2]+606105819&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(R^M&(L^R))+N[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=R+(L^I&(M^L))+N[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=L+(M^R&(I^M))+N[5]+1200080426&4294967295,L=R+(C<<12&4294967295|C>>>20),C=M+(I^L&(R^I))+N[6]+2821735955&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(R^M&(L^R))+N[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=R+(L^I&(M^L))+N[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=L+(M^R&(I^M))+N[9]+2336552879&4294967295,L=R+(C<<12&4294967295|C>>>20),C=M+(I^L&(R^I))+N[10]+4294925233&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(R^M&(L^R))+N[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=R+(L^I&(M^L))+N[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=L+(M^R&(I^M))+N[13]+4254626195&4294967295,L=R+(C<<12&4294967295|C>>>20),C=M+(I^L&(R^I))+N[14]+2792965006&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(R^M&(L^R))+N[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=R+(M^L&(I^M))+N[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(R^I))+N[6]+3225465664&4294967295,L=R+(C<<9&4294967295|C>>>23),C=M+(R^I&(L^R))+N[11]+643717713&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^R&(M^L))+N[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=R+(M^L&(I^M))+N[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(R^I))+N[10]+38016083&4294967295,L=R+(C<<9&4294967295|C>>>23),C=M+(R^I&(L^R))+N[15]+3634488961&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^R&(M^L))+N[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=R+(M^L&(I^M))+N[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(R^I))+N[14]+3275163606&4294967295,L=R+(C<<9&4294967295|C>>>23),C=M+(R^I&(L^R))+N[3]+4107603335&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^R&(M^L))+N[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=R+(M^L&(I^M))+N[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(R^I))+N[2]+4243563512&4294967295,L=R+(C<<9&4294967295|C>>>23),C=M+(R^I&(L^R))+N[7]+1735328473&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^R&(M^L))+N[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=R+(I^M^L)+N[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=L+(R^I^M)+N[8]+2272392833&4294967295,L=R+(C<<11&4294967295|C>>>21),C=M+(L^R^I)+N[11]+1839030562&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^R)+N[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=R+(I^M^L)+N[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=L+(R^I^M)+N[4]+1272893353&4294967295,L=R+(C<<11&4294967295|C>>>21),C=M+(L^R^I)+N[7]+4139469664&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^R)+N[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=R+(I^M^L)+N[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=L+(R^I^M)+N[0]+3936430074&4294967295,L=R+(C<<11&4294967295|C>>>21),C=M+(L^R^I)+N[3]+3572445317&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^R)+N[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=R+(I^M^L)+N[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=L+(R^I^M)+N[12]+3873151461&4294967295,L=R+(C<<11&4294967295|C>>>21),C=M+(L^R^I)+N[15]+530742520&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^R)+N[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=R+(M^(I|~L))+N[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=L+(I^(R|~M))+N[7]+1126891415&4294967295,L=R+(C<<10&4294967295|C>>>22),C=M+(R^(L|~I))+N[14]+2878612391&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~R))+N[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=R+(M^(I|~L))+N[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=L+(I^(R|~M))+N[3]+2399980690&4294967295,L=R+(C<<10&4294967295|C>>>22),C=M+(R^(L|~I))+N[10]+4293915773&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~R))+N[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=R+(M^(I|~L))+N[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=L+(I^(R|~M))+N[15]+4264355552&4294967295,L=R+(C<<10&4294967295|C>>>22),C=M+(R^(L|~I))+N[6]+2734768916&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~R))+N[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=R+(M^(I|~L))+N[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=L+(I^(R|~M))+N[11]+3174756917&4294967295,L=R+(C<<10&4294967295|C>>>22),C=M+(R^(L|~I))+N[2]+718787259&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~R))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var I=R-this.blockSize,N=this.B,M=this.h,L=0;L<R;){if(M==0)for(;L<=I;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<R;)if(N[M++]=x.charCodeAt(L++),M==this.blockSize){o(this,N),M=0;break}}else for(;L<R;)if(N[M++]=x[L++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var I=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=I&255,I/=256;for(this.u(x),x=Array(16),R=I=0;4>R;++R)for(var N=0;32>N;N+=8)x[I++]=this.g[R]>>>N&255;return x};function u(x,R){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function f(x,R){this.h=R;for(var I=[],N=!0,M=x.length-1;0<=M;M--){var L=x[M]|0;N&&L==R||(I[M]=L,N=!1)}this.g=I}var m={};function p(x){return-128<=x&&128>x?u(x,function(R){return new f([R|0],0>R?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return H(g(-x));for(var R=[],I=1,N=0;x>=I;N++)R[N]=x/I|0,I*=4294967296;return new f(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return H(E(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),N=b,M=0;M<x.length;M+=8){var L=Math.min(8,x.length-M),C=parseInt(x.substring(M,M+L),R);8>L?(L=g(Math.pow(R,L)),N=N.j(L).add(g(C))):(N=N.j(I),N=N.add(g(C)))}return N}var b=p(0),S=p(1),V=p(16777216);i=f.prototype,i.m=function(){if(Q(this))return-H(this).m();for(var x=0,R=1,I=0;I<this.g.length;I++){var N=this.i(I);x+=(0<=N?N:4294967296+N)*R,R*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(Q(this))return"-"+H(this).toString(x);for(var R=g(Math.pow(x,6)),I=this,N="";;){var M=pe(I,R).g;I=Y(I,M.j(R));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=M,P(I))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function Q(x){return x.h==-1}i.l=function(x){return x=Y(this,x),Q(x)?-1:P(x)?0:1};function H(x){for(var R=x.g.length,I=[],N=0;N<R;N++)I[N]=~x.g[N];return new f(I,~x.h).add(S)}i.abs=function(){return Q(this)?H(this):this},i.add=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],N=0,M=0;M<=R;M++){var L=N+(this.i(M)&65535)+(x.i(M)&65535),C=(L>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);N=C>>>16,L&=65535,C&=65535,I[M]=C<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Y(x,R){return x.add(H(R))}i.j=function(x){if(P(this)||P(x))return b;if(Q(this))return Q(x)?H(this).j(H(x)):H(H(this).j(x));if(Q(x))return H(this.j(H(x)));if(0>this.l(V)&&0>x.l(V))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,I=[],N=0;N<2*R;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<x.g.length;M++){var L=this.i(N)>>>16,C=this.i(N)&65535,et=x.i(M)>>>16,it=x.i(M)&65535;I[2*N+2*M]+=C*it,se(I,2*N+2*M),I[2*N+2*M+1]+=L*it,se(I,2*N+2*M+1),I[2*N+2*M+1]+=C*et,se(I,2*N+2*M+1),I[2*N+2*M+2]+=L*et,se(I,2*N+2*M+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new f(I,0)};function se(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ie(x,R){this.g=x,this.h=R}function pe(x,R){if(P(R))throw Error("division by zero");if(P(x))return new ie(b,b);if(Q(x))return R=pe(H(x),R),new ie(H(R.g),H(R.h));if(Q(R))return R=pe(x,H(R)),new ie(H(R.g),R.h);if(30<x.g.length){if(Q(x)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,N=R;0>=N.l(x);)I=de(I),N=de(N);var M=be(I,1),L=be(N,1);for(N=be(N,2),I=be(I,2);!P(N);){var C=L.add(N);0>=C.l(x)&&(M=M.add(I),L=C),N=be(N,1),I=be(I,1)}return R=Y(x,M.j(R)),new ie(M,R)}for(M=b;0<=x.l(R);){for(I=Math.max(1,Math.floor(x.m()/R.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=g(I),C=L.j(R);Q(C)||0<C.l(x);)I-=N,L=g(I),C=L.j(R);P(L)&&(L=S),M=M.add(L),x=Y(x,C)}return new ie(M,x)}i.A=function(x){return pe(this,x).h},i.and=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)&x.i(N);return new f(I,this.h&x.h)},i.or=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)|x.i(N);return new f(I,this.h|x.h)},i.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)^x.i(N);return new f(I,this.h^x.h)};function de(x){for(var R=x.g.length+1,I=[],N=0;N<R;N++)I[N]=x.i(N)<<1|x.i(N-1)>>>31;return new f(I,x.h)}function be(x,R){var I=R>>5;R%=32;for(var N=x.g.length-I,M=[],L=0;L<N;L++)M[L]=0<R?x.i(L+I)>>>R|x.i(L+I+1)<<32-R:x.i(L+I);return new f(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,uT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,hs=f}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cT,Kl,hT,ah,Gm,fT,dT,mT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in v))break e;v=v[z]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,z={next:function(){if(!w&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function V(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function P(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,z,K){for(var ae=Array(arguments.length-2),He=2;He<arguments.length;He++)ae[He-2]=arguments[He];return y.prototype[z].apply(w,ae)}}function Q(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function H(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const z=c.length||0,K=w.length||0;c.length=z+K;for(let ae=0;ae<K;ae++)c[z+ae]=w[ae]}else c.push(w)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var de=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function be(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)c[v]=w[v];for(let K=0;K<I.length;K++)v=I[K],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function M(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=qe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class et{constructor(){this.h=this.g=null}add(y,v){const w=it.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var it=new Y(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ve=!1,qe=new et,O=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){L(v)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ve=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(de){e:{try{pe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}P(De,re);var _e={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function pn(c,y,v,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=z,this.key=++Qe,this.da=this.fa=!1}function fi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sn(c){this.src=c,this.g={},this.h=0}Sn.prototype.add=function(c,y,v,w,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=Zn(c,y,w,z);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new pn(y,this.src,K,!!w,z),y.fa=v,c.push(y)),y};function di(c,y){var v=y.type;if(v in c.g){var w=c.g[v],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(w,z,1),K&&(fi(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Zn(c,y,v,w){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==w)return z}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),Rr={};function Is(c,y,v,w,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Is(c,y[K],v,w,z);return null}return v=va(v),c&&c[St]?c.K(y,v,g(w)?!!w.capture:!1,z):un(c,y,v,!1,w,z)}function un(c,y,v,w,z,K){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,He=Nr(c);if(He||(c[mi]=He=new Sn(c)),v=He.add(y,v,w,ae,K),v.proxy)return v;if(w=Lo(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)Te||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(zi(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Lo(){function c(v){return y.call(c.src,c.listener,v)}const y=Uo;return c}function Ir(c,y,v,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ir(c,y[K],v,w,z);else w=g(w)?!!w.capture:!!w,v=va(v),c&&c[St]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=Zn(K,v,w,z),-1<v&&(fi(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Nr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Zn(y,v,w,z)),(v=-1<c?y[c]:null)&&Cr(v))}function Cr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[St])di(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(zi(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Nr(y))?(di(v,c),v.h==0&&(v.src=null,y[mi]=null)):fi(c)}}}function zi(c){return c in Rr?Rr[c]:Rr[c]="on"+c}function Uo(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&Cr(c),c=v.call(w,y)}return c}function Nr(c){return c=c[mi],c instanceof Sn?c:null}var Cs="__closure_events_fn_"+(1e9*Math.random()>>>0);function va(c){return typeof c=="function"?c:(c[Cs]||(c[Cs]=function(y){return c.handleEvent(y)}),c[Cs])}function ft(){le.call(this),this.i=new Sn(this),this.M=this,this.F=null}P(ft,le),ft.prototype[St]=!0,ft.prototype.removeEventListener=function(c,y,v,w){Ir(this,c,y,v,w)};function Ye(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var z=y;y=new re(w,c),N(y,z)}if(z=!0,v)for(var K=v.length-1;0<=K;K--){var ae=y.g=v[K];z=cn(ae,w,!0,y)&&z}if(ae=y.g=c,z=cn(ae,w,!0,y)&&z,z=cn(ae,w,!1,y)&&z,v)for(K=0;K<v.length;K++)ae=y.g=v[K],z=cn(ae,w,!1,y)&&z}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)fi(v[w]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},ft.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function cn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==v){var He=ae.listener,xt=ae.ha||ae.src;ae.fa&&di(c.i,ae),z=He.call(xt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Lt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function _a(c){c.g=Lt(()=>{c.g=null,c.i&&(c.i=!1,_a(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class jo extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_a(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(c){le.call(this),this.h=c,this.g={}}P(Bi,le);var pi=[];function qi(c){be(c.g,function(y,v){this.g.hasOwnProperty(v)&&Cr(y)},c),c.g={}}Bi.prototype.N=function(){Bi.aa.N.call(this),qi(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=m.JSON.stringify,Hi=m.JSON.parse,Fi=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function B(){}B.prototype.h=null;function ue(c){return c.h||(c.h=c.i())}function ye(){}var fe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){re.call(this,"d")}P(ge,re);function We(){re.call(this,"c")}P(We,re);var pt={},kn=null;function $t(){return kn=kn||new ft}pt.La="serverreachability";function Ut(c){re.call(this,pt.La,c)}P(Ut,re);function yn(c){const y=$t();Ye(y,new Ut(y))}pt.STAT_EVENT="statevent";function Jn(c,y){re.call(this,pt.STAT_EVENT,c),this.stat=y}P(Jn,re);function lt(c){const y=$t();Ye(y,new Jn(y,c))}pt.Ma="timingevent";function Pe(c,y){re.call(this,pt.Ma,c),this.size=y}P(Pe,re);function Le(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function zo(c,y,v,w,z,K){c.info(function(){if(c.g)if(K)for(var ae="",He=K.split("&"),xt=0;xt<He.length;xt++){var Fe=He[xt].split("=");if(1<Fe.length){var zt=Fe[0];Fe=Fe[1];var Ot=zt.split("_");ae=2<=Ot.length&&Ot[1]=="type"?ae+(zt+"="+Fe+"&"):ae+(zt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function _f(c,y,v,w,z,K,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+v+`
`+K+" "+ae})}function Dr(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ns(c,v)+(w?" "+w:"")})}function Ou(c,y){c.info(function(){return"TIMEOUT: "+y})}Ln.prototype.info=function(){};function Ns(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return gn(v)}catch{return y}}var xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gi;function yi(){}P(yi,B),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},gi=new yi;function hn(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new Bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var Bo={},Ea={};function ei(c,y,v){c.L=1,c.v=Vs(Rn(y)),c.m=v,c.P=!0,$i(c,null)}function $i(c,y){c.F=Date.now(),Ds(c),c.A=Rn(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Ko(v.i,"t",w),c.C=0,v=c.j.J,c.h=new Et,c.g=Qu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new jo(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(pi[0]=z.toString()),z=pi);for(var K=0;K<z.length;K++){var ae=Is(v,z[K],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),yn(),zo(c.i,c.u,c.A,c.l,c.R,c.m)}hn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Bn(c)==3?y.j():this.Y(c)},hn.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Bn(this.g);var y=this.g.Ba();const er=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||zu(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=er?yn(3):yn(2)),Or(this);var v=this.g.Z();this.X=v;t:if(Mu(this)){var w=zu(this.g);c="";var z=w.length,K=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),vi(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==z-1)});w.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,_f(this.i,this.u,this.A,this.l,this.R,Ot,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,xt=this.g;if((He=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(He)){var Fe=He;break t}}Fe=null}if(v=Fe)Dr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xs(this,v);else{this.o=!1,this.s=3,lt(12),Kt(this),vi(this);break e}}if(this.P){v=!0;let Qt;for(;!this.J&&this.C<ae.length;)if(Qt=Vu(this,ae),Qt==Ea){Ot==4&&(this.s=4,lt(14),v=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Bo){this.s=4,lt(15),Dr(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Dr(this.i,this.l,Qt,null),xs(this,Qt);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ae.length!=0||this.h.h||(this.s=1,lt(16),v=!1),this.o=this.o&&v,!v)Dr(this.i,this.l,ae,"[Invalid Chunked Response]"),Kt(this),vi(this);else if(0<ae.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),qs(zt),zt.M=!0,lt(11))}}else Dr(this.i,this.l,ae,null),xs(this,ae);Ot==4&&Kt(this),this.o&&!this.J&&(Ot==4?Gu(this.j,this):(this.o=!1,Ds(this)))}else Af(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Kt(this),vi(this)}}}catch{}finally{}};function Mu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Ea:(v=Number(y.substring(v,w)),isNaN(v)?Bo:(w+=1,w+v>y.length?Ea:(y=y.slice(w,w+v),c.C=w+v,y)))}hn.prototype.cancel=function(){this.J=!0,Kt(this)};function Ds(c){c.S=Date.now()+c.I,Pu(c,c.I)}function Pu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Le(S(c.ba,c),y)}function Or(c){c.B&&(m.clearTimeout(c.B),c.B=null)}hn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ou(this.i,this.A),this.L!=2&&(yn(),lt(17)),Kt(this),this.s=2,vi(this)):Pu(this,this.S-c)};function vi(c){c.j.G==0||c.J||Gu(c.j,c)}function Kt(c){Or(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,qi(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function xs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||qo(v.h,c))){if(!c.K&&qo(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Oa(v),Da(v);else break e;Zo(v),lt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Le(S(v.Za,v),6e3));if(1>=wa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ji(v,11)}else if((c.K||v.g==c)&&Oa(v),!se(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];if(v.T=Fe[0],Fe=Fe[1],v.G==2)if(Fe[0]=="c"){v.K=Fe[1],v.ia=Fe[2];const zt=Fe[3];zt!=null&&(v.la=zt,v.j.info("VER="+v.la));const Ot=Fe[4];Ot!=null&&(v.Aa=Ot,v.j.info("SVER="+v.Aa));const er=Fe[5];er!=null&&typeof er=="number"&&0<er&&(w=1.5*er,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Qt=c.g;if(Qt){const Si=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var K=w.h;K.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ba(K,K.h),K.h=null))}if(w.D){const el=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(w.ya=el,rt(w.I,w.D,el))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ae=c;if(w.qa=Ku(w,w.J?w.ia:null,w.W),ae.K){fn(w.h,ae);var He=ae,xt=w.L;xt&&(He.I=xt),He.B&&(Or(He),Ds(He)),w.g=ae}else Hu(w);0<v.i.length&&xa(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ji(v,7);else v.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ji(v,7):Xo(v):Fe[0]!="noop"&&v.l&&v.l.ta(Fe),v.v=0)}}yn(4)}catch{}}var ku=class{constructor(c,y){this.g=c,this.map=y}};function Ki(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wa(c){return c.h?1:c.g?c.g.size:0}function qo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ba(c,y){c.g?c.g.add(y):c.h=y}function fn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ki.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Q(c.i)}function Ef(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function Aa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function Fo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Aa(c),w=Ef(c),z=w.length,K=0;K<z;K++)y.call(void 0,w[K],v&&v[K],c)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),z=null;if(0<=w){var K=c[v].substring(0,w);z=c[v].substring(w+1)}else K=c[v];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Rt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rt){this.h=c.h,Ms(this,c.j),this.o=c.o,this.g=c.g,Mr(this,c.s),this.l=c.l;var y=c.i,v=new Yi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Qi(this,v),this.m=c.m}else c&&(y=String(c).match(Os))?(this.h=!1,Ms(this,y[1]||"",!0),this.o=Un(y[2]||""),this.g=Un(y[3]||"",!0),Mr(this,y[4]),this.l=Un(y[5]||"",!0),Qi(this,y[6]||"",!0),this.m=Un(y[7]||"")):(this.h=!1,this.i=new Yi(null,this.h))}Rt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ps(y,Go,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ps(y,Go,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ps(v,v.charAt(0)=="/"?wf:$o,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ps(v,Sa)),c.join("")};function Rn(c){return new Rt(c)}function Ms(c,y,v){c.j=v?Un(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Mr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Qi(c,y,v){y instanceof Yi?(c.i=y,Uu(c.i,c.h)):(v||(y=Ps(y,bf)),c.i=new Yi(y,c.h))}function rt(c,y,v){c.i.set(y,v)}function Vs(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Un(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ps(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Lu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,$o=/[#\?:]/g,wf=/[#\?]/g,bf=/[#\?@]/g,Sa=/#/g;function Yi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function jn(c){c.g||(c.g=new Map,c.h=0,c.i&&Tf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Yi.prototype,i.add=function(c,y){jn(this),this.i=null,c=_i(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Xi(c,y){jn(c),y=_i(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Wi(c,y){return jn(c),y=_i(c,y),c.g.has(y)}i.forEach=function(c,y){jn(this),this.g.forEach(function(v,w){v.forEach(function(z){c.call(y,z,w,this)},this)},this)},i.na=function(){jn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const z=c[w];for(let K=0;K<z.length;K++)v.push(y[w])}return v},i.V=function(c){jn(this);let y=[];if(typeof c=="string")Wi(this,c)&&(y=y.concat(this.g.get(_i(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return jn(this),this.i=null,c=_i(this,c),Wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ko(c,y,v){Xi(c,y),0<v.length&&(c.i=null,c.g.set(_i(c,y),Q(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const K=encodeURIComponent(String(w)),ae=this.V(w);for(w=0;w<ae.length;w++){var z=K;ae[w]!==""&&(z+="="+encodeURIComponent(String(ae[w]))),c.push(z)}}return this.i=c.join("&")};function _i(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Uu(c,y){y&&!c.j&&(jn(c),c.i=null,c.g.forEach(function(v,w){var z=w.toLowerCase();w!=z&&(Xi(this,w),Ko(this,z,v))},c)),c.j=y}function ks(c,y){const v=new Ln;if(m.Image){const w=new Image;w.onload=V(zn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=V(zn,v,"TestLoadImage: error",!1,y,w),w.onabort=V(zn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=V(zn,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function ti(c,y){const v=new Ln,w=new AbortController,z=setTimeout(()=>{w.abort(),zn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?zn(v,"TestPingServer: ok",!0,y):zn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),zn(v,"TestPingServer: error",!1,y)})}function zn(c,y,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function Ls(){this.g=new Fi}function Ei(c,y,v){const w=v||"";try{Fo(c,function(z,K){let ae=z;g(z)&&(ae=gn(z)),y.push(w+K+"="+encodeURIComponent(ae))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function Vr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Vr,B),Vr.prototype.g=function(){return new Zi(this.l,this.j)},Vr.prototype.i=function(c){return function(){return c}}({});function Zi(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Zi,ft),i=Zi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,wi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ti(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ti(this):wi(this),this.readyState==3&&Qo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Ti(this))},i.Qa=function(c){this.g&&(this.response=c,Ti(this))},i.ga=function(){this.g&&Ti(this)};function Ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function wi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let y="";return be(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function jt(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Yo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):rt(c,y,v))}function Ze(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ze,ft);var Ra=/^https?$/i,Us=["POST","PUT"];i=Ze.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gi.g(),this.v=this.o?ue(this.o):ue(gi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){ju(this,K);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Us,y,void 0))||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of v)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){ju(this,K)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ia(c),bi(c)}function Ia(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),bi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Ze.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},i.bb=function(){Ca(this)};function Ca(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Bn(c)!=4||c.Z()!=2)){if(c.u&&Bn(c)==4)Lt(c.Ea,0,c);else if(Ye(c,"readystatechange"),Bn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=ae===0){var z=String(c.D).match(Os)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!Ra.test(z?z.toLowerCase():"")}v=w}if(v)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var K=2<Bn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Ia(c)}}finally{bi(c)}}}}function bi(c,y){if(c.g){js(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{v.onreadystatechange=w}catch{}}}function js(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Bn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Hi(y)}};function zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Af(c){const y={};c=(c.g&&2<=Bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(se(c[w]))continue;var v=M(c[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[z]||[];y[z]=K,K.push(v)}x(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Na(c){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,c),this.cb=zs("retryDelaySeedMs",1e4,c),this.Wa=zs("forwardChannelMaxRetries",2,c),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(c&&c.concurrentRequestLimit),this.Da=new Ls,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Na.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,w){lt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Ku(this,null,this.W),xa(this)};function Xo(c){if(Bu(c),c.G==3){var y=c.U++,v=Rn(c.I);if(rt(v,"SID",c.K),rt(v,"RID",y),rt(v,"TYPE","terminate"),Bs(c,v),y=new hn(c,c.j,y),y.L=2,y.v=Vs(Rn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ds(y)}$u(c)}function Da(c){c.g&&(qs(c),c.g.cancel(),c.g=null)}function Bu(c){Da(c),c.u&&(m.clearTimeout(c.u),c.u=null),Oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function xa(c){if(!Ta(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||O(),ve||(oe(),ve=!0),qe.add(y,c),c.B=0}}function Sf(c,y){return wa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Le(S(c.Ga,c,y),Jo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new hn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),N(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=qu(this,z,y),v=Rn(this.I),rt(v,"RID",c),rt(v,"CVER",22),this.D&&rt(v,"X-HTTP-Session-Id",this.D),Bs(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(Yo(K)))+"&"+y:this.m&&jt(v,this.m,K)),ba(this.h,z),this.Ua&&rt(v,"TYPE","init"),this.P?(rt(v,"$req",y),rt(v,"SID","null"),z.T=!0,ei(z,v,null)):ei(z,v,y),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||Ta(this.h)||Wo(this))};function Wo(c,y){var v;y?v=y.l:v=c.U++;const w=Rn(c.I);rt(w,"SID",c.K),rt(w,"RID",v),rt(w,"AID",c.T),Bs(c,w),c.m&&c.o&&jt(w,c.m,c.o),v=new hn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=qu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ba(c.h,v),ei(v,w,y)}function Bs(c,y){c.H&&be(c.H,function(v,w){rt(y,w,v)}),c.l&&Fo({},function(v,w){rt(y,w,v)})}function qu(c,y,v){v=Math.min(c.i.length,v);var w=c.l?S(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const ae=["count="+v];K==-1?0<v?(K=z[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let He=!0;for(let xt=0;xt<v;xt++){let Fe=z[xt].g;const zt=z[xt].map;if(Fe-=K,0>Fe)K=Math.max(0,z[xt].g-100),He=!1;else try{Ei(zt,ae,"req"+Fe+"_")}catch{w&&w(zt)}}if(He){w=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Hu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||O(),ve||(oe(),ve=!0),qe.add(y,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Le(S(c.Fa,c),Jo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Le(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Da(this),Fu(this))};function qs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new hn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Rn(c.qa);rt(y,"RID","rpc"),rt(y,"SID",c.K),rt(y,"AID",c.T),rt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(y,"TO",c.ja),rt(y,"TYPE","xmlhttp"),Bs(c,y),c.m&&c.o&&jt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Vs(Rn(y)),v.m=null,v.P=!0,$i(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Da(this),Zo(this),lt(19))};function Oa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Gu(c,y){var v=null;if(c.g==y){Oa(c),qs(c),c.g=null;var w=2}else if(qo(c.h,y))v=y.D,fn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;w=$t(),Ye(w,new Pe(w,v)),xa(c)}else Hu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&Sf(c,y)||w==2&&Zo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ji(c,5);break;case 4:Ji(c,10);break;case 3:Ji(c,6);break;default:Ji(c,2)}}}function Jo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ji(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),w=c.Xa;const z=!w;w=new Rt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ms(w,"https"),Vs(w),z?ks(w.toString(),v):ti(w.toString(),v)}else lt(2);c.G=0,c.l&&c.l.sa(y),$u(c),Bu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function $u(c){if(c.G=0,c.ka=[],c.l){const y=Ho(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Ku(c,y,v){var w=v instanceof Rt?Rn(v):new Rt(v);if(w.g!="")y&&(w.g=y+"."+w.g),Mr(w,w.s);else{var z=m.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new Rt(null);w&&Ms(K,w),y&&(K.g=y),z&&Mr(K,z),v&&(K.l=v),w=K}return v=c.D,y=c.ya,v&&y&&rt(w,v,y),rt(w,"VER",c.la),Bs(c,w),w}function Qu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ze(new Vr({eb:v})):new Ze(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}i=Yu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ma(){}Ma.prototype.g=function(c,y){return new dn(c,y)};function dn(c,y){ft.call(this),this.g=new Na(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ai(this)}P(dn,ft),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Xo(this.g)},dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=gn(c),c=v);y.i.push(new ku(y.Ya++,c)),y.G==3&&xa(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,dn.aa.N.call(this)};function Xu(c){ge.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(Xu,ge);function Wu(){We.call(this),this.status=1}P(Wu,We);function Ai(c){this.g=c}P(Ai,Yu),Ai.prototype.ua=function(){Ye(this.g,"a")},Ai.prototype.ta=function(c){Ye(this.g,new Xu(c))},Ai.prototype.sa=function(c){Ye(this.g,new Wu)},Ai.prototype.ra=function(){Ye(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,mT=function(){return new Ma},dT=function(){return $t()},fT=pt,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,ah=xr,Gi.COMPLETE="complete",hT=Gi,ye.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Kl=ye,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,cT=Ze}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const u0="@firebase/firestore",c0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Hh("@firebase/firestore");function uo(){return oa.logLevel}function ce(i,...e){if(oa.logLevel<=ze.DEBUG){const n=e.map(Tp);oa.debug(`Firestore (${Co}): ${i}`,...n)}}function Tr(i,...e){if(oa.logLevel<=ze.ERROR){const n=e.map(Tp);oa.error(`Firestore (${Co}): ${i}`,...n)}}function Eo(i,...e){if(oa.logLevel<=ze.WARN){const n=e.map(Tp);oa.warn(`Firestore (${Co}): ${i}`,...n)}}function Tp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+i;throw Tr(e),new Error(e)}function Je(i,e){i||Ce()}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class RI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class II{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string"),new pT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new sn(e)}}class CI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class NI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new CI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class h0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Yn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new h0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new h0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=xI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function $m(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ve(s,o);{const u=gT(),f=OI(u.encode(f0(i,n)),u.encode(f0(e,n)));return f!==0?f:Ve(s,o)}}n+=s>65535?2:1}return Ve(i.length,e.length)}function f0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function OI(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ve(i[n],e[n]);return Ve(i.length,e.length)}function To(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-62135596800,m0=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*m0);return new Pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d0)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-d0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new Pt(0,0))}static max(){return new Ne(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="__name__";class xi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(),s===void 0?s=e.length-n:s>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=xi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=xi.isNumericId(e),o=xi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?xi.extractNumericId(e).compare(xi.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class ht extends xi{construct(e,n,s){return new ht(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const MI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends xi{construct(e,n,s){return new Jt(e,n,s)}static isValidIdentifier(e){return MI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p0}static keyField(){return new Jt([p0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ht.fromString(e))}static fromName(e){return new we(ht.fromString(e).popFirst(5))}static empty(){return new we(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function VI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new Pt(n+1,0):new Pt(n,s));return new ms(o,we.empty(),e)}function PI(i){return new ms(i.readTime,i.key,su)}class ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ms(Ne.min(),we.empty(),su)}static max(){return new ms(Ne.max(),we.empty(),su)}}function kI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==LI)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function jI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Fh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function Gh(i){return i==null}function Th(i){return i===0&&1/i==-1/0}function zI(i){return typeof i=="number"&&Number.isInteger(i)&&!Th(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="";function BI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=g0(e)),e=qI(i.get(n),e);return g0(e)}function qI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case vT:n+="";break;default:n+=u}}return n}function g0(i){return i+vT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Es(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function _T(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(e){return new v0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class v0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new kt(Jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ET("Invalid base64 string: "+u):u}}(e);return new en(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const HI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(i){if(Je(!!i),typeof i=="string"){let e=0;const n=HI.exec(i);if(Je(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function gs(i){return typeof i=="string"?en.fromBase64String(i):en.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="server_timestamp",wT="__type__",bT="__previous_value__",AT="__local_write_time__";function bp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[wT])===null||n===void 0?void 0:n.stringValue)===TT}function $h(i){const e=i.mapValue.fields[bT];return bp(e)?$h(e):e}function au(i){const e=ps(i.mapValue.fields[AT].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const wh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__type__",GI="__max__",eh={mapValue:{}},RT="__vector__",bh="value";function ys(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?bp(i)?4:KI(i)?9007199254740991:$I(i)?10:11:Ce()}function Ui(i,e){if(i===e)return!0;const n=ys(i);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return au(i).isEqual(au(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ps(o.timestampValue),m=ps(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return gs(o.bytesValue).isEqual(gs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),m=bt(u.doubleValue);return f===m?Th(f)===Th(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return To(i.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(y0(f)!==y0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ui(f[p],m[p])))return!1;return!0}(i,e);default:return Ce()}}function lu(i,e){return(i.values||[]).find(n=>Ui(n,e))!==void 0}function wo(i,e){if(i===e)return 0;const n=ys(i),s=ys(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=bt(u.integerValue||u.doubleValue),p=bt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return _0(i.timestampValue,e.timestampValue);case 4:return _0(au(i),au(e));case 5:return $m(i.stringValue,e.stringValue);case 6:return function(u,f){const m=gs(u),p=gs(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(bt(u.latitude),bt(f.latitude));return m!==0?m:Ve(bt(u.longitude),bt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return E0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const b=u.fields||{},S=f.fields||{},V=(m=b[bh])===null||m===void 0?void 0:m.arrayValue,P=(p=S[bh])===null||p===void 0?void 0:p.arrayValue,Q=Ve(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:E0(V,P)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===eh.mapValue&&f===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(f===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=$m(p[b],E[b]);if(S!==0)return S;const V=wo(m[p[b]],g[E[b]]);if(V!==0)return V}return Ve(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ce()}}function _0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=ps(i),s=ps(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function E0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=wo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function bo(i){return Km(i)}function Km(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ps(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return gs(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return we.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Km(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Km(n.fields[f])}`;return o+"}"}(i.mapValue):Ce()}function oh(i){switch(ys(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(i);return e?16+oh(e):16;case 5:return 2*i.stringValue.length;case 6:return gs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+oh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Es(s.fields,(u,f)=>{o+=u.length+oh(f)}),o}(i.mapValue);default:throw Ce()}}function T0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Qm(i){return!!i&&"integerValue"in i}function Ap(i){return!!i&&"arrayValue"in i}function w0(i){return!!i&&"nullValue"in i}function b0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function lh(i){return!!i&&"mapValue"in i}function $I(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ST])===null||n===void 0?void 0:n.stringValue)===RT}function Wl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Es(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Wl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function KI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===GI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=Jt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Wl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new wn(Wl(this.value))}}function IT(i){const e=[];return Es(i.fields,(n,s)=>{const o=new Jt([n]);if(lh(s)){const u=IT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Ne.min(),Ne.min(),Ne.min(),wn.empty(),0)}static newFoundDocument(e,n,s,o){return new an(e,1,n,Ne.min(),s,o,0)}static newNoDocument(e,n){return new an(e,2,n,Ne.min(),Ne.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Ne.min(),Ne.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function A0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=we.comparator(we.fromName(f.referenceValue),n.key):s=wo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function S0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ui(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n="asc"){this.field=e,this.dir=n}}function QI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{}class Dt extends CT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new XI(e,n,s):n==="array-contains"?new JI(e,s):n==="in"?new e1(e,s):n==="not-in"?new t1(e,s):n==="array-contains-any"?new n1(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new WI(e,s):new ZI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wo(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends CT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new oi(e,n)}matches(e){return NT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function NT(i){return i.op==="and"}function DT(i){return YI(i)&&NT(i)}function YI(i){for(const e of i.filters)if(e instanceof oi)return!1;return!0}function Ym(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+bo(i.value);if(DT(i))return i.filters.map(e=>Ym(e)).join(",");{const e=i.filters.map(n=>Ym(n)).join(",");return`${i.op}(${e})`}}function xT(i,e){return i instanceof Dt?function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)}(i,e):i instanceof oi?function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&xT(f,o.filters[m]),!0):!1}(i,e):void Ce()}function OT(i){return i instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(i):i instanceof oi?function(n){return n.op.toString()+" {"+n.getFilters().map(OT).join(" ,")+"}"}(i):"Filter"}class XI extends Dt{constructor(e,n,s){super(e,n,s),this.key=we.fromName(s.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class WI extends Dt{constructor(e,n){super(e,"in",n),this.keys=MT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=MT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>we.fromName(s.referenceValue))}class JI extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ap(n)&&lu(n.arrayValue,this.value)}}class e1 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class t1 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lu(this.value.arrayValue,n)}}class n1 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>lu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function R0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new i1(i,e,n,s,o,u,f)}function Sp(i){const e=xe(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ym(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>bo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>bo(s)).join(",")),e.le=n}return e.le}function Rp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!QI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!xT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!S0(i.startAt,e.startAt)&&S0(i.endAt,e.endAt)}function Xm(i){return we.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function r1(i,e,n,s,o,u,f,m){return new xo(i,e,n,s,o,u,f,m)}function Kh(i){return new xo(i)}function I0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function VT(i){return i.collectionGroup!==null}function Zl(i){const e=xe(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new kt(Jt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new uu(u,s))}),n.has(Jt.keyField().canonicalString())||e.he.push(new uu(Jt.keyField(),s))}return e.he}function Mi(i){const e=xe(i);return e.Pe||(e.Pe=s1(e,Zl(i))),e.Pe}function s1(i,e){if(i.limitType==="F")return R0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new uu(o.field,u)});const n=i.endAt?new Ah(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ah(i.startAt.position,i.startAt.inclusive):null;return R0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Wm(i,e){const n=i.filters.concat([e]);return new xo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Zm(i,e,n){return new xo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Qh(i,e){return Rp(Mi(i),Mi(e))&&i.limitType===e.limitType}function PT(i){return`${Sp(Mi(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>OT(o)).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>bo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>bo(o)).join(",")),`Target(${s})`}(Mi(i))}; limitType=${i.limitType})`}function Yh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):we.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=A0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Zl(s),o)||s.endAt&&!function(f,m,p){const g=A0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Zl(s),o))}(i,e)}function a1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kT(i){return(e,n)=>{let s=!1;for(const o of Zl(i)){const u=o1(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function o1(i,e,n){const s=i.field.isKeyField()?we.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?wo(p,g):Ce()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new yt(we.comparator);function wr(){return l1}const LT=new yt(we.comparator);function Ql(...i){let e=LT;for(const n of i)e=e.insert(n.key,n);return e}function UT(i){let e=LT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function sa(){return Jl()}function jT(){return Jl()}function Jl(){return new pa(i=>i.toString(),(i,e)=>i.isEqual(e))}const u1=new yt(we.comparator),c1=new kt(we.comparator);function Be(...i){let e=c1;for(const n of i)e=e.add(n);return e}const h1=new kt(Ve);function f1(){return h1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function zT(i){return{integerValue:""+i}}function BT(i,e){return zI(e)?zT(e):Ip(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function d1(i,e,n){return i instanceof cu?function(o,u){const f={fields:{[wT]:{stringValue:TT},[AT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bp(u)&&(u=$h(u)),u&&(f.fields[bT]=u),{mapValue:f}}(n,e):i instanceof hu?HT(i,e):i instanceof fu?FT(i,e):function(o,u){const f=qT(o,u),m=C0(f)+C0(o.Ie);return Qm(f)&&Qm(o.Ie)?zT(m):Ip(o.serializer,m)}(i,e)}function m1(i,e,n){return i instanceof hu?HT(i,e):i instanceof fu?FT(i,e):n}function qT(i,e){return i instanceof du?function(s){return Qm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class cu extends Xh{}class hu extends Xh{constructor(e){super(),this.elements=e}}function HT(i,e){const n=GT(e);for(const s of i.elements)n.some(o=>Ui(o,s))||n.push(s);return{arrayValue:{values:n}}}class fu extends Xh{constructor(e){super(),this.elements=e}}function FT(i,e){let n=GT(e);for(const s of i.elements)n=n.filter(o=>!Ui(o,s));return{arrayValue:{values:n}}}class du extends Xh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function C0(i){return bt(i.integerValue||i.doubleValue)}function GT(i){return Ap(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.field=e,this.transform=n}}function p1(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof hu&&o instanceof hu||s instanceof fu&&o instanceof fu?To(s.elements,o.elements,Ui):s instanceof du&&o instanceof du?Ui(s.Ie,o.Ie):s instanceof cu&&o instanceof cu}(i.transform,e.transform)}class g1{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Wh{}function KT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Cp(i.key,Wn.none()):new vu(i.key,i.data,Wn.none());{const n=i.data,s=wn.empty();let o=new kt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ts(i.key,s,new Vn(o.toArray()),Wn.none())}}function y1(i,e,n){i instanceof vu?function(o,u,f){const m=o.value.clone(),p=D0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Ts?function(o,u,f){if(!uh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=D0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(QT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function eu(i,e,n,s){return i instanceof vu?function(u,f,m,p){if(!uh(u.precondition,f))return m;const g=u.value.clone(),E=x0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ts?function(u,f,m,p){if(!uh(u.precondition,f))return m;const g=x0(u.fieldTransforms,p,f),E=f.data;return E.setAll(QT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,n,s):function(u,f,m){return uh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function v1(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=qT(s.transform,o||null);u!=null&&(n===null&&(n=wn.empty()),n.set(s.field,u))}return n||null}function N0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,(u,f)=>p1(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class vu extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function QT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function D0(i,e,n){const s=new Map;Je(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,m1(f,m,n[o]))}return s}function x0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,d1(u,f,e))}return s}class Cp extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _1 extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&y1(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=eu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=eu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=KT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ne.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,s)=>N0(n,s))&&To(this.baseMutations,e.baseMutations,(n,s)=>N0(n,s))}}class Np{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length);let o=function(){return u1}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Np(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,$e;function b1(i){switch(i){case ee.OK:return Ce();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ce()}}function YT(i){if(i===void 0)return Tr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Nt.OK:return ee.OK;case Nt.CANCELLED:return ee.CANCELLED;case Nt.UNKNOWN:return ee.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ee.INTERNAL;case Nt.UNAVAILABLE:return ee.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ee.NOT_FOUND;case Nt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Nt.ABORTED:return ee.ABORTED;case Nt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Nt.DATA_LOSS:return ee.DATA_LOSS;default:return Ce()}}($e=Nt||(Nt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new hs([4294967295,4294967295],0);function O0(i){const e=gT().encode(i),n=new uT;return n.update(e),new Uint8Array(n.digest())}function M0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hs([n,s],0),new hs([o,u],0)]}class Dp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=hs.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(hs.fromNumber(s)));return o.compare(A1)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=O0(e),[s,o]=M0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Dp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=O0(e),[s,o]=M0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(Ne.min(),o,new yt(Ve),wr(),Be())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class XT{constructor(e,n){this.targetId=e,this.ge=n}}class WT{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class V0{constructor(){this.pe=0,this.ye=P0(),this.we=en.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Be(),n=Be(),s=Be();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ce()}}),new _u(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=P0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Je(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class S1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=wr(),this.$e=th(),this.Ue=th(),this.Ke=new yt(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Xm(u))if(s===0){const f=new we(u.path);this.ze(n,f,an.newNoDocument(f,Ne.min()))}else Je(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=gs(s).toUint8Array()}catch(p){if(p instanceof ET)return Eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Dp(f,o,u)}catch(p){return Eo(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Xm(m.target)){const p=new we(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,an.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Be();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Zh(e,n,this.Ke,this.Qe,s);return this.Qe=wr(),this.$e=th(),this.Ue=th(),this.Ke=new yt(Ve),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new V0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new kt(Ve),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new kt(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new V0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function th(){return new yt(we.comparator)}function P0(){return new yt(we.comparator)}const R1={asc:"ASCENDING",desc:"DESCENDING"},I1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C1={and:"AND",or:"OR"};class N1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(i,e){return i.useProto3Json||Gh(e)?e:{value:e}}function Sh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function D1(i,e){return Sh(i,e.toTimestamp())}function Vi(i){return Je(!!i),Ne.fromTimestamp(function(n){const s=ps(n);return new Pt(s.seconds,s.nanos)}(i))}function xp(i,e){return ep(i,e).canonicalString()}function ep(i,e){const n=function(o){return new ht(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function JT(i){const e=ht.fromString(i);return Je(rw(e)),e}function tp(i,e){return xp(i.databaseId,e.path)}function Im(i,e){const n=JT(e);if(n.get(1)!==i.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new we(tw(n))}function ew(i,e){return xp(i.databaseId,e)}function x1(i){const e=JT(i);return e.length===4?ht.emptyPath():tw(e)}function np(i){return new ht(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tw(i){return Je(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function k0(i,e,n){return{name:tp(i,e),fields:n.value.mapValue.fields}}function O1(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Je(E===void 0||typeof E=="string"),en.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array),en.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ee.UNKNOWN:YT(g.code);return new he(E,g.message||"")}(f);n=new WT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(i,s.document.name),u=Vi(s.document.updateTime),f=s.document.createTime?Vi(s.document.createTime):Ne.min(),m=new wn({mapValue:{fields:s.document.fields}}),p=an.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ch(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(i,s.document),u=s.readTime?Vi(s.readTime):Ne.min(),f=an.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ch([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(i,s.document),u=s.removedTargetIds||[];n=new ch([],u,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new w1(o,u),m=s.targetId;n=new XT(m,f)}}return n}function M1(i,e){let n;if(e instanceof vu)n={update:k0(i,e.key,e.value)};else if(e instanceof Cp)n={delete:tp(i,e.key)};else if(e instanceof Ts)n={update:k0(i,e.key,e.data),updateMask:q1(e.fieldMask)};else{if(!(e instanceof _1))return Ce();n={verify:tp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof cu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof du)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ce()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:D1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce()}(i,e.precondition)),n}function V1(i,e){return i&&i.length>0?(Je(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Vi(o.updateTime):Vi(u);return f.isEqual(Ne.min())&&(f=Vi(u)),new g1(f,o.transformResults||[])}(n,e))):[]}function P1(i,e){return{documents:[ew(i,e.path)]}}function k1(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ew(i,o);const u=function(g){if(g.length!==0)return iw(oi.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:ho(S.field),direction:j1(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function L1(i){let e=x1(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const S=nw(b);return S instanceof oi&&DT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(S=>function(P){return new uu(fo(P.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Gh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,V=b.values||[];return new Ah(V,S)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const S=!b.before,V=b.values||[];return new Ah(V,S)}(n.endAt)),r1(e,o,f,u,m,"F",p,g)}function U1(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nw(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fo(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=fo(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(i):i.fieldFilter!==void 0?function(n){return Dt.create(fo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return oi.create(n.compositeFilter.filters.map(s=>nw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(i):Ce()}function j1(i){return R1[i]}function z1(i){return I1[i]}function B1(i){return C1[i]}function ho(i){return{fieldPath:i.canonicalString()}}function fo(i){return Jt.fromServerFormat(i.fieldPath)}function iw(i){return i instanceof Dt?function(n){if(n.op==="=="){if(b0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(w0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(w0(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:z1(n.op),value:n.value}}}(i):i instanceof oi?function(n){const s=n.getFilters().map(o=>iw(o));return s.length===1?s[0]:{compositeFilter:{op:B1(n.op),filters:s}}}(i):Ce()}function q1(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,s,o,u=Ne.min(),f=Ne.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.Tt=e}}function F1(i){const e=L1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.Tn=new $1}addToCollectionParentIndex(e,n){return this.Tn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ms.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class $1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(ht.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sw=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(sw,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ao(0)}static Kn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="LruGarbageCollector",K1=1048576;function j0([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class Q1{constructor(e){this.Hn=e,this.buffer=new kt(j0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();j0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(U0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?ce(U0,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.er(3e5)})}}class X1{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Fh.ae);const s=new Q1(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(L0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),uo()<=ze.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function W1(i,e){return new X1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.changes=new pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&eu(s.mutation,o,Vn.empty(),Pt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Be()){const o=sa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=sa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Be()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=wr();const f=Jl(),m=function(){return Jl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ts)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),eu(E.mutation,g,E.mutation.getFieldMask(),Pt.now())):f.set(g.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var b;return m.set(g,new J1(E,(b=f.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Jl();let o=new yt((f,m)=>f-m),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Vn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Be()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=jT();E.forEach(S=>{if(!u.has(S)){const V=KT(n.get(S),s.get(S));V!==null&&b.set(S,V),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return we.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(sa());let m=su,p=u;return f.next(g=>te.forEach(g,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Be())).next(E=>({batchId:m,changes:UT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(b,S){return new xo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,an.newInvalidDocument(E)))});let m=Ql();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&eu(E.mutation,g,Vn.empty(),Pt.now()),Yh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return te.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:F1(o.bundledQuery),readTime:Vi(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.overlays=new yt(we.comparator),this.Rr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=sa();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=sa(),u=n.length+1,f=new we(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new yt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=sa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new T1(n,s));let u=this.Rr.get(n);u===void 0&&(u=Be(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Vr=new kt(Gt.mr),this.gr=new kt(Gt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Gt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Gt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new we(new ht([])),s=new Gt(n,e),o=new Gt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new we(new ht([])),s=new Gt(n,e),o=new Gt(n,e+1);let u=Be();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Gt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return we.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new kt(Gt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new E1(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?wp:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ve);return n.forEach(o=>{const u=new Gt(o,0),f=new Gt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;we.isDocumentKey(u)||(u=u.child(""));const f=new Gt(new we(u),0);let m=new kt(Ve);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),te.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Je(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(n.mutations,o=>{const u=new Gt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Gt(n,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.kr=e,this.docs=function(){return new yt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let s=wr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=wr();const f=n.path,m=new we(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||kI(PI(E),s)<=0||(o.has(E.key)||Yh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ce()}qr(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new aC(this)}getSize(e){return te.resolve(this.size)}}class aC extends Z1{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.persistence=e,this.Qr=new pa(n=>Sp(n),Rp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Op,this.targetCount=0,this.Kr=Ao.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),te.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.zn(n),te.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Fh(0),this.zr=!1,this.zr=!0,this.jr=new iC,this.referenceDelegate=e(this),this.Hr=new oC(this),this.indexManager=new G1,this.remoteDocumentCache=function(o){return new sC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new H1(n),this.Yr=new tC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new rC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new lC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class lC extends UI{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.ti=new Op,this.ni=null}static ri(e){return new Mp(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),te.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=we.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ne.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return te.or([()=>te.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.oi=new pa(s=>BI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=W1(this,n)}static ri(e,n){return new Rh(e,n)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ne.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}ar(e,n,s){return te.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return iR()?8:jI(ln())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new uC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(uo()<=ze.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(uo()<=ze.DEBUG&&ce("QueryEngine","Query:",co(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(uo()<=ze.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):te.resolve())}rs(e,n){if(I0(n))return te.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Be(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Zm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return I0(n)||o.isEqual(Ne.min())?te.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?te.resolve(null):(uo()<=ze.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.hs(e,f,n,VI(o,su)).next(m=>m))})}cs(e,n){let s=new kt(kT(e));return n.forEach((o,u)=>{Yh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return uo()<=ze.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",co(n)),this.ns.getDocumentsMatchingQuery(e,n,ms.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LocalStore",hC=3e8;class fC{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new yt(Ve),this.Is=new pa(u=>Sp(u),Rp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function dC(i,e,n,s){return new fC(i,e,n,s)}async function ow(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Be();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function mC(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const b=g.batch,S=b.keys();let V=te.resolve();return S.forEach(P=>{V=V.next(()=>E.getEntry(p,P)).next(Q=>{const H=g.docVersions.get(P);Je(H!==null),Q.version.compareTo(H)<0&&(b.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Be();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function lw(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function pC(i,e){const n=xe(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,b)));let V=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?V=V.withResumeToken(en.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(b,V),function(Q,H,Y){return Q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=hC?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(S,V,E)&&m.push(n.Hr.updateTargetData(u,V))});let p=wr(),g=Be();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(gC(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ne.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function gC(i,e,n){let s=Be(),o=Be();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=wr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Pp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function yC(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function vC(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new os(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function ip(i,e,n){const s=xe(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Do(f))throw f;ce(Pp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function z0(i,e,n){const s=xe(i);let o=Ne.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const b=xe(p),S=b.Is.get(E);return S!==void 0?te.resolve(b.Ts.get(S)):b.Hr.getTargetData(g,E)}(s,f,Mi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Ne.min(),n?u:Be())).next(m=>(_C(s,a1(e),m),{documents:m,gs:u})))}function _C(i,e,n){let s=i.Es.get(e)||Ne.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class B0{constructor(){this.activeTargetIds=f1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EC{constructor(){this.ho=new B0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new B0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="ConnectivityMonitor";class H0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(q0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function rp(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",wC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=rp(),m=this.bo(e,n.toUriEncodedString());ce(Cm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ce(Cm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw Eo(Cm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=wC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class SC extends bC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=rp();return new Promise((f,m)=>{const p=new cT;p.setWithCredentials(!0),p.listenOnce(hT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ah.NO_ERROR:const E=p.getResponseJson();ce(rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case ah.TIMEOUT:ce(rn,`RPC '${e}' ${u} timed out`),m(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const b=p.getStatus();if(ce(rn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const V=S==null?void 0:S.error;if(V&&V.status&&V.message){const P=function(H){const Y=H.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Y)>=0?Y:ee.UNKNOWN}(V.status);m(new he(P,V.message))}else m(new he(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ce(rn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(rn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=rp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=mT(),m=dT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(rn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);let S=!1,V=!1;const P=new AC({Fo:H=>{V?ce(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(S||(ce(rn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ce(rn,`RPC '${e}' stream ${o} sending:`,H),b.send(H))},Mo:()=>b.close()}),Q=(H,Y,se)=>{H.listen(Y,ie=>{try{se(ie)}catch(pe){setTimeout(()=>{throw pe},0)}})};return Q(b,Kl.EventType.OPEN,()=>{V||(ce(rn,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),Q(b,Kl.EventType.CLOSE,()=>{V||(V=!0,ce(rn,`RPC '${e}' stream ${o} transport closed`),P.Uo())}),Q(b,Kl.EventType.ERROR,H=>{V||(V=!0,Eo(rn,`RPC '${e}' stream ${o} transport errored:`,H),P.Uo(new he(ee.UNAVAILABLE,"The operation could not be completed")))}),Q(b,Kl.EventType.MESSAGE,H=>{var Y;if(!V){const se=H.data[0];Je(!!se);const ie=se,pe=(ie==null?void 0:ie.error)||((Y=ie[0])===null||Y===void 0?void 0:Y.error);if(pe){ce(rn,`RPC '${e}' stream ${o} received error:`,pe);const de=pe.status;let be=function(I){const N=Nt[I];if(N!==void 0)return YT(N)}(de),x=pe.message;be===void 0&&(be=ee.INTERNAL,x="Unknown error status: "+de+" with message "+pe.message),V=!0,P.Uo(new he(be,x)),b.close()}else ce(rn,`RPC '${e}' stream ${o} received:`,se),P.Ko(se)}}),Q(m,fT.STAT_EVENT,H=>{H.stat===Gm.PROXY?ce(rn,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Gm.NOPROXY&&ce(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(i){return new N1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="PersistentStream";class cw{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new uw(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(F0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ce(F0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RC extends cw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=O1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ne.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ne.min():f.readTime?Vi(f.readTime):Ne.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=np(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Xm(p)?{documents:P1(u,p)}:{query:k1(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ZT(u,f.resumeToken);const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Sh(u,f.snapshotVersion.toTimestamp());const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=U1(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=np(this.serializer),n.removeTarget=e,this.I_(n)}}class IC extends cw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=V1(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=np(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>M1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{}class NC extends CC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,ep(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,ep(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class DC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Tr(n),this.N_=!1):ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class xC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ga(this)&&(ce(la,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.W_.add(4),await Eu(g),g.j_.set("Unknown"),g.W_.delete(4),await ef(g)}(this))})}),this.j_=new DC(s,o)}}async function ef(i){if(ga(i))for(const e of i.G_)await e(!0)}async function Eu(i){for(const e of i.G_)await e(!1)}function hw(i,e){const n=xe(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),jp(n)?Up(n):Oo(n).c_()&&Lp(n,e))}function kp(i,e){const n=xe(i),s=Oo(n);n.K_.delete(e),s.c_()&&fw(n,e),n.K_.size===0&&(s.c_()?s.P_():ga(n)&&n.j_.set("Unknown"))}function Lp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(i).y_(e)}function fw(i,e){i.H_.Ne(e),Oo(i).w_(e)}function Up(i){i.H_=new S1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Oo(i).start(),i.j_.B_()}function jp(i){return ga(i)&&!Oo(i).u_()&&i.K_.size>0}function ga(i){return xe(i).W_.size===0}function dw(i){i.H_=void 0}async function OC(i){i.j_.set("Online")}async function MC(i){i.K_.forEach((e,n)=>{Lp(i,e)})}async function VC(i,e){dw(i),jp(i)?(i.j_.q_(e),Up(i)):i.j_.set("Unknown")}async function PC(i,e,n){if(i.j_.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ce(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ih(i,s)}else if(e instanceof ch?i.H_.We(e):e instanceof XT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ne.min()))try{const s=await lw(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),fw(u,p);const b=new os(E.target,p,g,E.sequenceNumber);Lp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(la,"Failed to raise snapshot:",s),await Ih(i,s)}}async function Ih(i,e,n){if(!Do(e))throw e;i.W_.add(1),await Eu(i),i.j_.set("Offline"),n||(n=()=>lw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(la,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await ef(i)})}function mw(i,e){return e().catch(n=>Ih(i,n,e))}async function tf(i){const e=xe(i),n=vs(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:wp;for(;kC(e);)try{const o=await yC(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,LC(e,o)}catch(o){await Ih(e,o)}pw(e)&&gw(e)}function kC(i){return ga(i)&&i.U_.length<10}function LC(i,e){i.U_.push(e);const n=vs(i);n.c_()&&n.S_&&n.b_(e.mutations)}function pw(i){return ga(i)&&!vs(i).u_()&&i.U_.length>0}function gw(i){vs(i).start()}async function UC(i){vs(i).C_()}async function jC(i){const e=vs(i);for(const n of i.U_)e.b_(n.mutations)}async function zC(i,e,n){const s=i.U_.shift(),o=Np.from(s,e,n);await mw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await tf(i)}async function BC(i,e){e&&vs(i).S_&&await async function(s,o){if(function(f){return b1(f)&&f!==ee.ABORTED}(o.code)){const u=s.U_.shift();vs(s).h_(),await mw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await tf(s)}}(i,e),pw(i)&&gw(i)}async function G0(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),ce(la,"RemoteStore received new credentials");const s=ga(n);n.W_.add(3),await Eu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await ef(n)}async function qC(i,e){const n=xe(i);e?(n.W_.delete(2),await ef(n)):e||(n.W_.add(2),await Eu(n),n.j_.set("Unknown"))}function Oo(i){return i.J_||(i.J_=function(n,s,o){const u=xe(n);return u.M_(),new RC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:OC.bind(null,i),No:MC.bind(null,i),Lo:VC.bind(null,i),p_:PC.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),jp(i)?Up(i):i.j_.set("Unknown")):(await i.J_.stop(),dw(i))})),i.J_}function vs(i){return i.Y_||(i.Y_=function(n,s,o){const u=xe(n);return u.M_(),new IC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:UC.bind(null,i),Lo:BC.bind(null,i),D_:jC.bind(null,i),v_:zC.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await tf(i)):(await i.Y_.stop(),i.U_.length>0&&(ce(la,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new zp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),Do(i))return new he(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||we.comparator(n.key,s.key):(n,s)=>we.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.Z_=new yt(we.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class So{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new So(e,n,go.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class FC{constructor(){this.queries=K0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=K0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function K0(){return new pa(i=>PT(i),Qh)}async function qp(i,e){const n=xe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new HC,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Bp(f,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Fp(n)}async function Hp(i,e){const n=xe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GC(i,e){const n=xe(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Fp(n)}function $C(i,e,n){const s=xe(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Fp(i){i.ia.forEach(e=>{e.next()})}var sp,Q0;(Q0=sp||(sp={}))._a="default",Q0.Cache="cache";class Gp{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.key=e}}class vw{constructor(e){this.key=e}}class KC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Be(),this.mutatedKeys=Be(),this.ya=kT(e),this.wa=new go(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new $0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const S=o.get(E),V=Yh(this.query,b)?b:null,P=!!S&&this.mutatedKeys.has(S.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let H=!1;S&&V?S.data.isEqual(V.data)?P!==Q&&(s.track({type:3,doc:V}),H=!0):this.va(S,V)||(s.track({type:2,doc:V}),H=!0,(p&&this.ya(V,p)>0||g&&this.ya(V,g)<0)&&(m=!0)):!S&&V?(s.track({type:0,doc:V}),H=!0):S&&!V&&(s.track({type:1,doc:S}),H=!0,(p||g)&&(m=!0)),H&&(V?(f=f.add(V),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,b)=>function(V,P){const Q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return Q(V)-Q(P)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new So(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new $0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Be(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new vw(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new yw(s))}),n}Oa(e){this.fa=e.gs,this.pa=Be();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return So.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const $p="SyncEngine";class QC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class YC{constructor(e){this.key=e,this.Ba=!1}}class XC{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new pa(m=>PT(m),Qh),this.qa=new Map,this.Qa=new Set,this.$a=new yt(we.comparator),this.Ua=new Map,this.Ka=new Op,this.Wa={},this.Ga=new Map,this.za=Ao.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function WC(i,e,n=!0){const s=Aw(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await _w(s,e,n,!0),o}async function ZC(i,e){const n=Aw(i);await _w(n,e,!0,!1)}async function _w(i,e,n,s){const o=await vC(i.localStore,Mi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await JC(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&hw(i.remoteStore,o),m}async function JC(i,e,n,s,o){i.Ha=(b,S,V)=>async function(Q,H,Y,se){let ie=H.view.ba(Y);ie.ls&&(ie=await z0(Q.localStore,H.query,!1).then(({documents:x})=>H.view.ba(x,ie)));const pe=se&&se.targetChanges.get(H.targetId),de=se&&se.targetMismatches.get(H.targetId)!=null,be=H.view.applyChanges(ie,Q.isPrimaryClient,pe,de);return X0(Q,H.targetId,be.Ma),be.snapshot}(i,b,S,V);const u=await z0(i.localStore,e,!0),f=new KC(e,u.gs),m=f.ba(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);X0(i,n,g.Ma);const E=new QC(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function e2(i,e,n){const s=xe(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Qh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&kp(s.remoteStore,o.targetId),ap(s,o.targetId)}).catch(No)):(ap(s,o.targetId),await ip(s.localStore,o.targetId,!0))}async function t2(i,e){const n=xe(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),kp(n.remoteStore,s.targetId))}async function n2(i,e,n){const s=u2(i);try{const o=await function(f,m){const p=xe(f),g=Pt.now(),E=m.reduce((V,P)=>V.add(P.key),Be());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let P=wr(),Q=Be();return p.ds.getEntries(V,E).next(H=>{P=H,P.forEach((Y,se)=>{se.isValidDocument()||(Q=Q.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,P)).next(H=>{b=H;const Y=[];for(const se of m){const ie=v1(se,b.get(se.key).overlayedDocument);ie!=null&&Y.push(new Ts(se.key,ie,IT(ie.value.mapValue),Wn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,Y,m)}).next(H=>{S=H;const Y=H.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(V,H.batchId,Y)})}).then(()=>({batchId:S.batchId,changes:UT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new yt(Ve)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Tu(s,o.changes),await tf(s.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function Ew(i,e){const n=xe(i);try{const s=await pC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Je(f.Ba):o.removedDocuments.size>0&&(Je(f.Ba),f.Ba=!1))}),await Tu(n,s,e)}catch(s){await No(s)}}function Y0(i,e,n){const s=xe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=xe(f);p.onlineState=m;let g=!1;p.queries.forEach((E,b)=>{for(const S of b.ta)S.sa(m)&&(g=!0)}),g&&Fp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function i2(i,e,n){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new yt(we.comparator);f=f.insert(u,an.newNoDocument(u,Ne.min()));const m=Be().add(u),p=new Zh(Ne.min(),new Map,new yt(Ve),f,m);await Ew(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Kp(s)}else await ip(s.localStore,e,!1).then(()=>ap(s,e,n)).catch(No)}async function r2(i,e){const n=xe(i),s=e.batch.batchId;try{const o=await mC(n.localStore,e);ww(n,s,null),Tw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,o)}catch(o){await No(o)}}async function s2(i,e,n){const s=xe(i);try{const o=await function(f,m){const p=xe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Je(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);ww(s,e,n),Tw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,o)}catch(o){await No(o)}}function Tw(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function ww(i,e,n){const s=xe(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function ap(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||bw(i,s)})}function bw(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(kp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Kp(i))}function X0(i,e,n){for(const s of n)s instanceof yw?(i.Ka.addReference(s.key,e),a2(i,s)):s instanceof vw?(ce($p,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||bw(i,s.key)):Ce()}function a2(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ce($p,"New document in limbo: "+n),i.Qa.add(s),Kp(i))}function Kp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new we(ht.fromString(e)),s=i.za.next();i.Ua.set(s,new YC(n)),i.$a=i.$a.insert(n,s),hw(i.remoteStore,new os(Mi(Kh(n.path)),s,"TargetPurposeLimboResolution",Fh.ae))}}async function Tu(i,e,n){const s=xe(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Vp.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>te.forEach(g,S=>te.forEach(S.Hi,V=>E.persistence.referenceDelegate.addReference(b,S.targetId,V)).next(()=>te.forEach(S.Ji,V=>E.persistence.referenceDelegate.removeReference(b,S.targetId,V)))))}catch(b){if(!Do(b))throw b;ce(Pp,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const V=E.Ts.get(S),P=V.snapshotVersion,Q=V.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(S,Q)}}}(s.localStore,u))}async function o2(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){ce($p,"User change. New user:",e.toKey());const s=await ow(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new he(ee.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Rs)}}function l2(i,e){const n=xe(i),s=n.Ua.get(e);if(s&&s.Ba)return Be().add(s.key);{let o=Be();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function Aw(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ew.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i2.bind(null,e),e.La.p_=GC.bind(null,e.eventManager),e.La.Ja=$C.bind(null,e.eventManager),e}function u2(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s2.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return dC(this.persistence,new cC,e.initialUser,this.serializer)}Xa(e){return new aw(Mp.ri,this.serializer)}Za(e){return new EC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class c2 extends Ch{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Je(this.persistence.referenceDelegate instanceof Rh);const s=this.persistence.referenceDelegate.garbageCollector;return new Y1(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new aw(s=>Rh.ri(s,n),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Y0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=o2.bind(null,this.syncEngine),await qC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FC}()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=function(u){return new SC(u)}(e.databaseInfo);return function(u,f,m,p){return new NC(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new xC(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Y0(this.syncEngine,n,0),function(){return H0.D()?new H0:new TC}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const b=new XC(o,u,f,m,p,g);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=xe(o);ce(la,"RemoteStore shutting down."),u.W_.add(5),await Eu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class h2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=yT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(_s,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(_s,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Dm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(_s,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ow(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function W0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await f2(i);ce(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>G0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>G0(e.remoteStore,o)),i._onlineComponents=e}async function f2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(_s,"Using user provided OfflineComponentProvider");try{await Dm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Dm(i,new Ch)}}else ce(_s,"Using default OfflineComponentProvider"),await Dm(i,new c2(void 0));return i._offlineComponents}async function Sw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(_s,"Using user provided OnlineComponentProvider"),await W0(i,i._uninitializedComponentsProvider._online)):(ce(_s,"Using default OnlineComponentProvider"),await W0(i,new op))),i._onlineComponents}function d2(i){return Sw(i).then(e=>e.syncEngine)}async function Nh(i){const e=await Sw(i),n=e.eventManager;return n.onListen=WC.bind(null,e.syncEngine),n.onUnlisten=e2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t2.bind(null,e.syncEngine),n}function m2(i,e,n={}){const s=new yr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Qp({next:S=>{E.su(),f.enqueueAndForget(()=>Hp(u,b));const V=S.docs.has(m);!V&&S.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&p&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Gp(Kh(m.path),E,{includeMetadataChanges:!0,Ta:!0});return qp(u,b)}(await Nh(i),i.asyncQueue,e,n,s)),s.promise}function p2(i,e,n={}){const s=new yr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Qp({next:S=>{E.su(),f.enqueueAndForget(()=>Hp(u,b)),S.fromCache&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Gp(m,E,{includeMetadataChanges:!0,Ta:!0});return qp(u,b)}(await Nh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function g2(i,e,n,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function J0(i){if(!we.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function eE(i){if(we.isDocumentKey(i))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ce()}function bn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(i);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firestore.googleapis.com",tE=!0;class nE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cw,this.ssl=tE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:tE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<K1)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new SI;switch(s.type){case"firstParty":return new NI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Z0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),Z0.delete(n),s.terminate())}(this),Promise.resolve()}}function y2(i,e,n,s={}){var o;const u=(i=bn(i,rf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Cw&&u.host!==m&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!ds(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=sn.MOCK_USER;else{g=WS(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new sn(b)}i._authCredentials=new RI(new pT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class on{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class fs extends ws{constructor(e,n,s){super(e,n,Kh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new we(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function mr(i,e,...n){if(i=At(i),Iw("collection","path",e),i instanceof rf){const s=ht.fromString(e,...n);return eE(s),new fs(i,null,s)}{if(!(i instanceof on||i instanceof fs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ht.fromString(e,...n));return eE(s),new fs(i.firestore,null,s)}}function Oi(i,e,...n){if(i=At(i),arguments.length===1&&(e=yT.newId()),Iw("doc","path",e),i instanceof rf){const s=ht.fromString(e,...n);return J0(s),new on(i,null,new we(s))}{if(!(i instanceof on||i instanceof fs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ht.fromString(e,...n));return J0(s),new on(i.firestore,i instanceof fs?i.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="AsyncQueue";class rE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new uw(this,"async_queue_retry"),this.Su=()=>{const s=Nm();s&&ce(iE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new yr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Do(e))throw e;ce(iE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Tr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=zp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function sE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class br extends rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new rE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rE(e),this._firestoreClient=void 0,await e}}}function v2(i,e){const n=typeof i=="object"?i:Ep(),s=typeof i=="string"?i:wh,o=ma(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=YS("firestore");u&&y2(o,...u)}return o}function sf(i){if(i._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||_2(i),i._firestoreClient}function _2(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new FI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Rw(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new h2(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(en.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^__.*__$/;class T2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class Nw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class Wp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Dw(this.Lu)&&E2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class w2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}ju(e,n,s,o=!1){return new Wp({Lu:e,methodName:n,zu:s,path:Jt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function of(i){const e=i._freezeSettings(),n=Jh(i._databaseId);return new w2(i._databaseId,!!e.ignoreUndefinedProperties,n)}function xw(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);eg("Data must be an object, but it was:",f,s);const m=Ow(s,f);let p,g;if(u.merge)p=new Vn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=lp(e,b,n);if(!f.contains(S))throw new he(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Vw(E,S)||E.push(S)}p=new Vn(E),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new T2(new wn(m),p,g)}class lf extends wu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}class Zp extends wu{_toFieldTransform(e){return new $T(e.path,new cu)}isEqual(e){return e instanceof Zp}}class Jp extends wu{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new du(e.serializer,BT(e.serializer,this.Ju));return new $T(e.path,n)}isEqual(e){return e instanceof Jp&&this.Ju===e.Ju}}function b2(i,e,n,s){const o=i.ju(1,e,n);eg("Data must be an object, but it was:",o,s);const u=[],f=wn.empty();Es(s,(p,g)=>{const E=tg(e,p,n);g=At(g);const b=o.Uu(E);if(g instanceof lf)u.push(E);else{const S=bu(g,b);S!=null&&(u.push(E),f.set(E,S))}});const m=new Vn(u);return new Nw(f,m,o.fieldTransforms)}function A2(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[lp(e,s,n)],p=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(lp(e,u[S])),p.push(u[S+1]);const g=[],E=wn.empty();for(let S=m.length-1;S>=0;--S)if(!Vw(g,m[S])){const V=m[S];let P=p[S];P=At(P);const Q=f.Uu(V);if(P instanceof lf)g.push(V);else{const H=bu(P,Q);H!=null&&(g.push(V),E.set(V,H))}}const b=new Vn(g);return new Nw(E,b,f.fieldTransforms)}function S2(i,e,n,s=!1){return bu(n,i.ju(s?4:3,e))}function bu(i,e){if(Mw(i=At(i)))return eg("Unsupported field value:",e,i),Ow(i,e);if(i instanceof wu)return function(s,o){if(!Dw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=bu(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=At(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return BT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Pt.fromDate(s);return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Pt){const u=new Pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Yp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ro)return{bytesValue:ZT(o.serializer,s._byteString)};if(s instanceof on){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Xp)return function(f,m){return{mapValue:{fields:{[ST]:{stringValue:RT},[bh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Ip(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${nf(s)}`)}(i,e)}function Ow(i,e){const n={};return _T(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(i,(s,o)=>{const u=bu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Mw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Pt||i instanceof Yp||i instanceof Ro||i instanceof on||i instanceof wu||i instanceof Xp)}function eg(i,e,n){if(!Mw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=nf(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function lp(i,e,n){if((e=At(e))instanceof af)return e._internalPath;if(typeof e=="string")return tg(i,e);throw Dh("Field path arguments must be of type string or ",i,!1,void 0,n)}const R2=new RegExp("[~\\*/\\[\\]]");function tg(i,e,n){if(e.search(R2)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new af(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Dh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(ee.INVALID_ARGUMENT,m+i+p)}function Vw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I2 extends Pw{data(){return super.data()}}function uf(i,e){return typeof e=="string"?tg(i,e):e instanceof af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class Lw extends ng{}function hh(i,e,...n){let s=[];e instanceof ng&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ig).length,m=u.filter(p=>p instanceof cf).length;if(f>1||f>0&&m>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class cf extends Lw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new cf(e,n,s)}_apply(e){const n=this._parse(e);return Uw(e._query,n),new ws(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=of(e.firestore);return function(u,f,m,p,g,E,b){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){oE(b,E);const P=[];for(const Q of b)P.push(aE(p,u,Q));S={arrayValue:{values:P}}}else S=aE(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||oE(b,E),S=S2(m,f,b,E==="in"||E==="not-in");return Dt.create(g,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xm(i,e,n){const s=e,o=uf("where",i);return cf._create(o,s,n)}class ig extends ng{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ig(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Uw(f,p),f=Wm(f,p)}(e._query,n),new ws(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rg extends Lw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new uu(u,f)}(e._query,this._field,this._direction);return new ws(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new xo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function C2(i,e="asc"){const n=e,s=uf("orderBy",i);return rg._create(s,n)}function aE(i,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VT(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ht.fromString(n));if(!we.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return T0(i,new we(s))}if(n instanceof on)return T0(i,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function oE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Uw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N2{convertValue(e,n="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[bh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>bt(f.doubleValue));return new Xp(u)}convertGeoPoint(e){return new Yp(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=$h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=ps(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ht.fromString(e);Je(rw(s));const o=new ou(s.get(1),s.get(3)),u=new we(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zw extends Pw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(uf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class fh extends zw{data(e={}){return super.data(e)}}class Bw{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:D2(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function D2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(i){i=bn(i,on);const e=bn(i.firestore,br);return m2(sf(e),i._key).then(n=>qw(e,i,n))}class sg extends N2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function tu(i){i=bn(i,ws);const e=bn(i.firestore,br),n=sf(e),s=new sg(e);return kw(i._query),p2(n,i._query).then(o=>new Bw(e,s,i,o))}function x2(i,e,n){i=bn(i,on);const s=bn(i.firestore,br),o=jw(i.converter,e,n);return hf(s,[xw(of(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Wn.none())])}function up(i,e,n,...s){i=bn(i,on);const o=bn(i.firestore,br),u=of(o);let f;return f=typeof(e=At(e))=="string"||e instanceof af?A2(u,"updateDoc",i._key,e,n,s):b2(u,"updateDoc",i._key,e),hf(o,[f.toMutation(i._key,Wn.exists(!0))])}function ag(i){return hf(bn(i.firestore,br),[new Cp(i._key,Wn.none())])}function cp(i,e){const n=bn(i.firestore,br),s=Oi(i),o=jw(i.converter,e);return hf(n,[xw(of(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then(()=>s)}function O2(i,...e){var n,s,o;i=At(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||sE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(sE(e[f])){const b=e[f];e[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[f+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,E;if(i instanceof on)g=bn(i.firestore,br),E=Kh(i._key.path),p={next:b=>{e[f]&&e[f](qw(g,i,b))},error:e[f+1],complete:e[f+2]};else{const b=bn(i,ws);g=bn(b.firestore,br),E=b._query;const S=new sg(g);p={next:V=>{e[f]&&e[f](new Bw(g,S,b,V))},error:e[f+1],complete:e[f+2]},kw(i._query)}return function(S,V,P,Q){const H=new Qp(Q),Y=new Gp(V,H,P);return S.asyncQueue.enqueueAndForget(async()=>qp(await Nh(S),Y)),()=>{H.su(),S.asyncQueue.enqueueAndForget(async()=>Hp(await Nh(S),Y))}}(sf(g),E,m,p)}function hf(i,e){return function(s,o){const u=new yr;return s.asyncQueue.enqueueAndForget(async()=>n2(await d2(s),o,u)),u.promise}(sf(i),e)}function qw(i,e,n){const s=n.docs.get(e._key),o=new sg(i);return new zw(i,o,e._key,s,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}function uE(){return new Zp("serverTimestamp")}function ih(i){return new Jp("increment",i)}(function(e,n=!0){(function(o){Co=o})(Io),Li(new ai("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new br(new II(s.getProvider("auth-internal")),new DI(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Xn(u0,c0,e),Xn(u0,c0,"esm2017")})();const Hw="@firebase/installations",og="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=1e4,Gw=`w:${og}`,$w="FIS_v2",M2="https://firebaseinstallations.googleapis.com/v1",V2=60*60*1e3,P2="installations",k2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ua=new da(P2,k2,L2);function Kw(i){return i instanceof ci&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw({projectId:i}){return`${M2}/projects/${i}/installations`}function Yw(i){return{token:i.token,requestStatus:2,expiresIn:j2(i.expiresIn),creationTime:Date.now()}}async function Xw(i,e){const s=(await e.json()).error;return ua.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Ww({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function U2(i,{refreshToken:e}){const n=Ww(i);return n.append("Authorization",z2(e)),n}async function Zw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function j2(i){return Number(i.replace("s","000"))}function z2(i){return`${$w} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=Qw(i),o=Ww(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:$w,appId:i.appId,sdkVersion:Gw},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await Zw(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:Yw(g.authToken)}}else throw await Xw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^[cdef][\w-]{21}$/,hp="";function F2(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=G2(i);return H2.test(n)?n:hp}catch{return hp}}function G2(i){return q2(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;function tb(i,e){const n=ff(i);nb(n,e),$2(n,e)}function nb(i,e){const n=eb.get(i);if(n)for(const s of n)s(e)}function $2(i,e){const n=K2();n&&n.postMessage({key:i,fid:e}),Q2()}let aa=null;function K2(){return!aa&&"BroadcastChannel"in self&&(aa=new BroadcastChannel("[Firebase] FID Change"),aa.onmessage=i=>{nb(i.data.key,i.data.fid)}),aa}function Q2(){eb.size===0&&aa&&(aa.close(),aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="firebase-installations-database",X2=1,ca="firebase-installations-store";let Om=null;function lg(){return Om||(Om=sT(Y2,X2,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ca)}}})),Om}async function xh(i,e){const n=ff(i),o=(await lg()).transaction(ca,"readwrite"),u=o.objectStore(ca),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&tb(i,e.fid),e}async function ib(i){const e=ff(i),s=(await lg()).transaction(ca,"readwrite");await s.objectStore(ca).delete(e),await s.done}async function df(i,e){const n=ff(i),o=(await lg()).transaction(ca,"readwrite"),u=o.objectStore(ca),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&tb(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(i){let e;const n=await df(i.appConfig,s=>{const o=W2(s),u=Z2(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===hp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function W2(i){const e=i||{fid:F2(),registrationStatus:0};return rb(e)}function Z2(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ua.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=J2(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:eN(i)}:{installationEntry:e}}async function J2(i,e){try{const n=await B2(i,e);return xh(i.appConfig,n)}catch(n){throw Kw(n)&&n.customData.serverCode===409?await ib(i.appConfig):await xh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function eN(i){let e=await cE(i.appConfig);for(;e.registrationStatus===1;)await Jw(100),e=await cE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ug(i);return s||n}return e}function cE(i){return df(i,e=>{if(!e)throw ua.create("installation-not-found");return rb(e)})}function rb(i){return tN(i)?{fid:i.fid,registrationStatus:0}:i}function tN(i){return i.registrationStatus===1&&i.registrationTime+Fw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN({appConfig:i,heartbeatServiceProvider:e},n){const s=iN(i,n),o=U2(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:Gw,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await Zw(()=>fetch(s,m));if(p.ok){const g=await p.json();return Yw(g)}else throw await Xw("Generate Auth Token",p)}function iN(i,{fid:e}){return`${Qw(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cg(i,e=!1){let n;const s=await df(i.appConfig,u=>{if(!sb(u))throw ua.create("not-registered");const f=u.authToken;if(!e&&aN(f))return u;if(f.requestStatus===1)return n=rN(i,e),u;{if(!navigator.onLine)throw ua.create("app-offline");const m=lN(u);return n=sN(i,m),m}});return n?await n:s.authToken}async function rN(i,e){let n=await hE(i.appConfig);for(;n.authToken.requestStatus===1;)await Jw(100),n=await hE(i.appConfig);const s=n.authToken;return s.requestStatus===0?cg(i,e):s}function hE(i){return df(i,e=>{if(!sb(e))throw ua.create("not-registered");const n=e.authToken;return uN(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function sN(i,e){try{const n=await nN(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await xh(i.appConfig,s),n}catch(n){if(Kw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ib(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xh(i.appConfig,s)}throw n}}function sb(i){return i!==void 0&&i.registrationStatus===2}function aN(i){return i.requestStatus===2&&!oN(i)}function oN(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+V2}function lN(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function uN(i){return i.requestStatus===1&&i.requestTime+Fw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(i){const e=i,{installationEntry:n,registrationPromise:s}=await ug(e);return s?s.catch(console.error):cg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(i,e=!1){const n=i;return await fN(n),(await cg(n,e)).token}async function fN(i){const{registrationPromise:e}=await ug(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(i){if(!i||!i.options)throw Mm("App Configuration");if(!i.name)throw Mm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Mm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Mm(i){return ua.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="installations",mN="installations-internal",pN=i=>{const e=i.getProvider("app").getImmediate(),n=dN(e),s=ma(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},gN=i=>{const e=i.getProvider("app").getImmediate(),n=ma(e,ab).getImmediate();return{getId:()=>cN(n),getToken:o=>hN(n,o)}};function yN(){Li(new ai(ab,pN,"PUBLIC")),Li(new ai(mN,gN,"PRIVATE"))}yN();Xn(Hw,og);Xn(Hw,og,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="analytics",vN="firebase_id",_N="origin",EN=60*1e3,TN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Hh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pn=new da("analytics","Analytics",wN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(i){if(!i.startsWith(hg)){const e=Pn.create("invalid-gtag-resource",{gtagURL:i});return An.warn(e.message),""}return i}function ob(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function AN(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function SN(i,e){const n=AN("firebase-js-sdk-policy",{createScriptURL:bN}),s=document.createElement("script"),o=`${hg}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function RN(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function IN(i,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await ob(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){An.error(m)}i("config",o,u)}async function CN(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await ob(n);for(const p of f){const g=m.find(b=>b.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){An.error(u)}}function NN(i,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await CN(i,e,n,m,p)}else if(u==="config"){const[m,p]=f;await IN(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){An.error(m)}}return o}function DN(i,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=NN(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function xN(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(hg)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=30,MN=1e3;class VN{constructor(e={},n=MN){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lb=new VN;function PN(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function kN(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:PN(s)},u=TN.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function LN(i,e=lb,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Pn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Pn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new zN;return setTimeout(async()=>{m.abort()},EN),ub({appId:s,apiKey:o,measurementId:u},f,m,e)}async function ub(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=lb){var u;const{appId:f,measurementId:m}=i;try{await UN(s,e)}catch(p){if(m)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await kN(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!jN(g)){if(o.deleteThrottleMetadata(f),m)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?J_(n,o.intervalMillis,ON):J_(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,b),An.debug(`Calling attemptFetch again in ${E} millis`),ub(i,b,s,o)}}function UN(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function jN(i){if(!(i instanceof ci)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class zN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function BN(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(){if(tT())try{await nT()}catch(i){return An.warn(Pn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return An.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HN(i,e,n,s,o,u,f){var m;const p=LN(i);p.then(V=>{n[V.measurementId]=V.appId,i.options.measurementId&&V.measurementId!==i.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>An.error(V)),e.push(p);const g=qN().then(V=>{if(V)return s.getId()}),[E,b]=await Promise.all([p,g]);xN(u)||SN(u,E.measurementId),o("js",new Date);const S=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return S[_N]="firebase",S.update=!0,b!=null&&(S[vN]=b),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.app=e}_delete(){return delete nu[this.app.options.appId],Promise.resolve()}}let nu={},fE=[];const dE={};let Vm="dataLayer",GN="gtag",mE,cb,pE=!1;function $N(){const i=[];if(eT()&&i.push("This is a browser extension environment."),rR()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Pn.create("invalid-analytics-context",{errorInfo:e});An.warn(n.message)}}function KN(i,e,n){$N();const s=i.options.appId;if(!s)throw Pn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pn.create("no-api-key");if(nu[s]!=null)throw Pn.create("already-exists",{id:s});if(!pE){RN(Vm);const{wrappedGtag:u,gtagCore:f}=DN(nu,fE,dE,Vm,GN);cb=u,mE=f,pE=!0}return nu[s]=HN(i,fE,dE,e,mE,Vm,n),new FN(i)}function QN(i=Ep()){i=At(i);const e=ma(i,Oh);return e.isInitialized()?e.getImmediate():YN(i)}function YN(i,e={}){const n=ma(i,Oh);if(n.isInitialized()){const o=n.getImmediate();if(ds(e,n.getOptions()))return o;throw Pn.create("already-initialized")}return n.initialize({options:e})}function XN(i,e,n,s){i=At(i),BN(cb,nu[i.app.options.appId],e,n,s).catch(o=>An.error(o))}const gE="@firebase/analytics",yE="0.10.12";function WN(){Li(new ai(Oh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return KN(s,o,n)},"PUBLIC")),Li(new ai("analytics-internal",i,"PRIVATE")),Xn(gE,yE),Xn(gE,yE,"esm2017");function i(e){try{const n=e.getProvider(Oh).getImmediate();return{logEvent:(s,o,u)=>XN(n,s,o,u)}}catch(n){throw Pn.create("interop-component-reg-failed",{reason:n})}}}WN();const ZN={apiKey:"AIzaSyCcU19CezeaWVKy_av4QHTBFNiPngIcRRA",authDomain:"showswatched2.firebaseapp.com",projectId:"showswatched2",storageBucket:"showswatched2.appspot.com",messagingSenderId:"936739771540",appId:"1:936739771540:web:2fcfeee905ff3f6fdd9081",measurementId:"G-DLKLNE1VQL"},fg=aT(ZN),Ft=v2(fg);QN(fg);var ql={},vE;function JN(){if(vE)return ql;vE=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.parse=f,ql.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,V){const P=new u,Q=S.length;if(Q<2)return P;const H=(V==null?void 0:V.decode)||E;let Y=0;do{const se=S.indexOf("=",Y);if(se===-1)break;const ie=S.indexOf(";",Y),pe=ie===-1?Q:ie;if(se>pe){Y=S.lastIndexOf(";",se-1)+1;continue}const de=m(S,Y,se),be=p(S,se,de),x=S.slice(de,be);if(P[x]===void 0){let R=m(S,se+1,pe),I=p(S,pe,R);const N=H(S.slice(R,I));P[x]=N}Y=pe+1}while(Y<Q);return P}function m(S,V,P){do{const Q=S.charCodeAt(V);if(Q!==32&&Q!==9)return V}while(++V<P);return P}function p(S,V,P){for(;V>P;){const Q=S.charCodeAt(--V);if(Q!==32&&Q!==9)return V+1}return P}function g(S,V,P){const Q=(P==null?void 0:P.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const H=Q(V);if(!e.test(H))throw new TypeError(`argument val is invalid: ${V}`);let Y=S+"="+H;if(!P)return Y;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);Y+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);Y+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);Y+="; Path="+P.path}if(P.expires){if(!b(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);Y+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(Y+="; HttpOnly"),P.secure&&(Y+="; Secure"),P.partitioned&&(Y+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return Y}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return ql}JN();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _E="popstate";function eD(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return fp("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:mu(o)}return nD(e,n,null,i)}function mt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function li(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tD(){return Math.random().toString(36).substring(2,10)}function EE(i,e){return{usr:i.state,key:i.key,idx:e}}function fp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Mo(e):e,state:n,key:e&&e.key||s||tD()}}function mu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Mo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function nD(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let H=E(),Y=H==null?null:H-g;g=H,p&&p({action:m,location:Q.location,delta:Y})}function S(H,Y){m="PUSH";let se=fp(Q.location,H,Y);g=E()+1;let ie=EE(se,g),pe=Q.createHref(se);try{f.pushState(ie,"",pe)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(pe)}u&&p&&p({action:m,location:Q.location,delta:1})}function V(H,Y){m="REPLACE";let se=fp(Q.location,H,Y);g=E();let ie=EE(se,g),pe=Q.createHref(se);f.replaceState(ie,"",pe),u&&p&&p({action:m,location:Q.location,delta:0})}function P(H){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,se=typeof H=="string"?H:mu(H);return se=se.replace(/ $/,"%20"),mt(Y,`No window.location.(origin|href) available to create URL for href: ${se}`),new URL(se,Y)}let Q={get action(){return m},get location(){return i(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_E,b),p=H,()=>{o.removeEventListener(_E,b),p=null}},createHref(H){return e(o,H)},createURL:P,encodeLocation(H){let Y=P(H);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:V,go(H){return f.go(H)}};return Q}function hb(i,e,n="/"){return iD(i,e,n,!1)}function iD(i,e,n,s){let o=typeof e=="string"?Mo(e):e,u=Ar(o.pathname||"/",n);if(u==null)return null;let f=fb(i);rD(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=pD(u);m=dD(f[p],g,s)}return m}function fb(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(mt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=vr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),fb(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:hD(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of db(u.path))o(u,f,p)}),e}function db(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=db(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function rD(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:fD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sD=/^:[\w-]+$/,aD=3,oD=2,lD=1,uD=10,cD=-2,TE=i=>i==="*";function hD(i,e){let n=i.split("/"),s=n.length;return n.some(TE)&&(s+=cD),e&&(s+=oD),n.filter(o=>!TE(o)).reduce((o,u)=>o+(sD.test(u)?aD:u===""?lD:uD),s)}function fD(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function dD(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:vr([u,b.pathname]),pathnameBase:_D(vr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=vr([u,b.pathnameBase]))}return f}function Mh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=mD(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},S)=>{if(E==="*"){let P=m[S]||"";f=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const V=m[S];return b&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function mD(i,e=!1,n=!0){li(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pD(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ar(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function gD(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Mo(i):i;return{pathname:n?n.startsWith("/")?n:yD(n,e):e,search:ED(s),hash:TD(o)}}function yD(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vD(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dg(i){let e=vD(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function mg(i,e,n,s=!1){let o;typeof i=="string"?o=Mo(i):(o={...i},mt(!o.pathname||!o.pathname.includes("?"),Pm("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Pm("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Pm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=gD(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var vr=i=>i.join("/").replace(/\/\/+/g,"/"),_D=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ED=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,TD=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function wD(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var mb=["POST","PUT","PATCH","DELETE"];new Set(mb);var bD=["GET",...mb];new Set(bD);var Vo=U.createContext(null);Vo.displayName="DataRouter";var mf=U.createContext(null);mf.displayName="DataRouterState";var pb=U.createContext({isTransitioning:!1});pb.displayName="ViewTransition";var AD=U.createContext(new Map);AD.displayName="Fetchers";var SD=U.createContext(null);SD.displayName="Await";var hi=U.createContext(null);hi.displayName="Navigation";var Au=U.createContext(null);Au.displayName="Location";var ji=U.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var pg=U.createContext(null);pg.displayName="RouteError";function RD(i,{relative:e}={}){mt(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(hi),{hash:o,pathname:u,search:f}=Ru(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:vr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Po(){return U.useContext(Au)!=null}function bs(){return mt(Po(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Au).location}var gb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yb(i){U.useContext(hi).static||U.useLayoutEffect(i)}function Su(){let{isDataRoute:i}=U.useContext(ji);return i?jD():ID()}function ID(){mt(Po(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(Vo),{basename:e,navigator:n}=U.useContext(hi),{matches:s}=U.useContext(ji),{pathname:o}=bs(),u=JSON.stringify(dg(s)),f=U.useRef(!1);return yb(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(li(f.current,gb),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=mg(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:vr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}U.createContext(null);function Ru(i,{relative:e}={}){let{matches:n}=U.useContext(ji),{pathname:s}=bs(),o=JSON.stringify(dg(n));return U.useMemo(()=>mg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function CD(i,e){return vb(i,e)}function vb(i,e,n,s){var se;mt(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=U.useContext(hi),{matches:f}=U.useContext(ji),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ie=b&&b.path||"";_b(g,!b||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let S=bs(),V;if(e){let ie=typeof e=="string"?Mo(e):e;mt(E==="/"||((se=ie.pathname)==null?void 0:se.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),V=ie}else V=S;let P=V.pathname||"/",Q=P;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");Q="/"+P.replace(/^\//,"").split("/").slice(ie.length).join("/")}let H=!u&&n&&n.matches&&n.matches.length>0?n.matches:hb(i,{pathname:Q});li(b||H!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),li(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=MD(H&&H.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:vr([E,o.encodeLocation?o.encodeLocation(ie.pathname).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:vr([E,o.encodeLocation?o.encodeLocation(ie.pathnameBase).pathname:ie.pathnameBase])})),f,n,s);return e&&Y?U.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Y):Y}function ND(){let i=UD(),e=wD(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var DD=U.createElement(ND,null),xD=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?U.createElement(ji.Provider,{value:this.props.routeContext},U.createElement(pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OD({routeContext:i,match:e,children:n}){let s=U.useContext(Vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ji.Provider,{value:i},n)}function MD(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:b}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,S=!1,V=null,P=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,V=g.route.errorElement||DD,f&&(m<0&&E===0?(_b("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,P=null):m===E&&(S=!0,P=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),H=()=>{let Y;return b?Y=V:S?Y=P:g.route.Component?Y=U.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,U.createElement(OD,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?U.createElement(xD,{location:n.location,revalidation:n.revalidation,component:V,error:b,children:H(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):H()},null)}function gg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VD(i){let e=U.useContext(Vo);return mt(e,gg(i)),e}function PD(i){let e=U.useContext(mf);return mt(e,gg(i)),e}function kD(i){let e=U.useContext(ji);return mt(e,gg(i)),e}function yg(i){let e=kD(i),n=e.matches[e.matches.length-1];return mt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function LD(){return yg("useRouteId")}function UD(){var s;let i=U.useContext(pg),e=PD("useRouteError"),n=yg("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function jD(){let{router:i}=VD("useNavigate"),e=yg("useNavigate"),n=U.useRef(!1);return yb(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{li(n.current,gb),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var wE={};function _b(i,e,n){!e&&!wE[i]&&(wE[i]=!0,li(!1,n))}U.memo(zD);function zD({routes:i,future:e,state:n}){return vb(i,void 0,n,e)}function vg({to:i,replace:e,state:n,relative:s}){mt(Po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(hi);li(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(ji),{pathname:f}=bs(),m=Su(),p=mg(i,dg(u),f,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function mo(i){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function BD({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){mt(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Mo(n));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:S="default"}=n,V=U.useMemo(()=>{let P=Ar(p,f);return P==null?null:{location:{pathname:P,search:g,hash:E,state:b,key:S},navigationType:s}},[f,p,g,E,b,S,s]);return li(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:U.createElement(hi.Provider,{value:m},U.createElement(Au.Provider,{children:e,value:V}))}function qD({children:i,location:e}){return CD(dp(i),e)}function dp(i,e=[]){let n=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,dp(s.props.children,u));return}mt(s.type===mo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=dp(s.props.children,u)),n.push(f)}),n}var dh="get",mh="application/x-www-form-urlencoded";function pf(i){return i!=null&&typeof i.tagName=="string"}function HD(i){return pf(i)&&i.tagName.toLowerCase()==="button"}function FD(i){return pf(i)&&i.tagName.toLowerCase()==="form"}function GD(i){return pf(i)&&i.tagName.toLowerCase()==="input"}function $D(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function KD(i,e){return i.button===0&&(!e||e==="_self")&&!$D(i)}var rh=null;function QD(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var YD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(i){return i!=null&&!YD.has(i)?(li(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):i}function XD(i,e){let n,s,o,u,f;if(FD(i)){let m=i.getAttribute("action");s=m?Ar(m,e):null,n=i.getAttribute("method")||dh,o=km(i.getAttribute("enctype"))||mh,u=new FormData(i)}else if(HD(i)||GD(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ar(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||dh,o=km(i.getAttribute("formenctype"))||km(m.getAttribute("enctype"))||mh,u=new FormData(m,i),!QD()){let{name:g,type:E,value:b}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(pf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=mh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function _g(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function WD(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZD(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function JD(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await WD(u,n);return f.links?f.links():[]}return[]}));return ix(s.flat(1).filter(ZD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bE(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function ex(i,e,{includeHydrateFallback:n}={}){return tx(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function tx(i){return[...new Set(i)]}function nx(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function ix(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(nx(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var rx=new Set([100,101,204,205]);function sx(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Ar(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Eb(){let i=U.useContext(Vo);return _g(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function ax(){let i=U.useContext(mf);return _g(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Eg=U.createContext(void 0);Eg.displayName="FrameworkContext";function Tb(){let i=U.useContext(Eg);return _g(i,"You must render this element inside a <HydratedRouter> element"),i}function ox(i,e){let n=U.useContext(Eg),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,S=U.useRef(null);U.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=Y=>{Y.forEach(se=>{f(se.isIntersecting)})},H=new IntersectionObserver(Q,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[i]),U.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let V=()=>{o(!0)},P=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Hl(m,V),onBlur:Hl(p,P),onMouseEnter:Hl(g,V),onMouseLeave:Hl(E,P),onTouchStart:Hl(b,V)}]:[!1,S,{}]}function Hl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function lx({page:i,...e}){let{router:n}=Eb(),s=U.useMemo(()=>hb(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?U.createElement(cx,{page:i,matches:s,...e}):null}function ux(i){let{manifest:e,routeModules:n}=Tb(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return JD(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function cx({page:i,matches:e,...n}){let s=bs(),{manifest:o,routeModules:u}=Tb(),{basename:f}=Eb(),{loaderData:m,matches:p}=ax(),g=U.useMemo(()=>bE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=U.useMemo(()=>bE(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,Q=!1;if(e.forEach(Y=>{var ie;let se=o.routes[Y.route.id];!se||!se.hasLoader||(!g.some(pe=>pe.route.id===Y.route.id)&&Y.route.id in m&&((ie=u[Y.route.id])!=null&&ie.shouldRevalidate)||se.hasClientLoader?Q=!0:P.add(Y.route.id))}),P.size===0)return[];let H=sx(i,f);return Q&&P.size>0&&H.searchParams.set("_routes",e.filter(Y=>P.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,g,e,i,u]),S=U.useMemo(()=>ex(E,o),[E,o]),V=ux(E);return U.createElement(U.Fragment,null,b.map(P=>U.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),S.map(P=>U.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),V.map(({key:P,link:Q})=>U.createElement("link",{key:P,...Q})))}function hx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wb&&(window.__reactRouterVersion="7.5.1")}catch{}function fx({basename:i,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=eD({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(BD,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tg=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...S},V){let{basename:P}=U.useContext(hi),Q=typeof g=="string"&&bb.test(g),H,Y=!1;if(typeof g=="string"&&Q&&(H=g,wb))try{let I=new URL(window.location.href),N=g.startsWith("//")?new URL(I.protocol+g):new URL(g),M=Ar(N.pathname,P);N.origin===I.origin&&M!=null?g=M+N.search+N.hash:Y=!0}catch{li(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=RD(g,{relative:o}),[ie,pe,de]=ox(s,S),be=gx(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function x(I){e&&e(I),I.defaultPrevented||be(I)}let R=U.createElement("a",{...S,...de,href:H||se,onClick:Y||u?e:x,ref:hx(V,pe),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ie&&!Q?U.createElement(U.Fragment,null,R,U.createElement(lx,{page:se})):R});Tg.displayName="Link";var dx=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let b=Ru(f,{relative:g.relative}),S=bs(),V=U.useContext(mf),{navigator:P,basename:Q}=U.useContext(hi),H=V!=null&&Tx(b)&&m===!0,Y=P.encodeLocation?P.encodeLocation(b).pathname:b.pathname,se=S.pathname,ie=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(se=se.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&Q&&(ie=Ar(ie,Q)||ie);const pe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let de=se===Y||!o&&se.startsWith(Y)&&se.charAt(pe)==="/",be=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),x={isActive:de,isPending:be,isTransitioning:H},R=de?e:void 0,I;typeof s=="function"?I=s(x):I=[s,de?"active":null,be?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(x):u;return U.createElement(Tg,{...g,"aria-current":R,className:I,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(x):p)});dx.displayName="NavLink";var mx=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=dh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...S},V)=>{let P=_x(),Q=Ex(m,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&bb.test(m),se=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let pe=ie.nativeEvent.submitter,de=(pe==null?void 0:pe.getAttribute("formmethod"))||f;P(pe||ie.currentTarget,{fetcherKey:e,method:de,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return U.createElement("form",{ref:V,method:H,action:Q,onSubmit:s?p:se,...S,"data-discover":!Y&&i==="render"?"true":void 0})});mx.displayName="Form";function px(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ab(i){let e=U.useContext(Vo);return mt(e,px(i)),e}function gx(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Su(),p=bs(),g=Ru(i,{relative:u});return U.useCallback(E=>{if(KD(E,e)){E.preventDefault();let b=n!==void 0?n:mu(p)===mu(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var yx=0,vx=()=>`__${String(++yx)}__`;function _x(){let{router:i}=Ab("useSubmit"),{basename:e}=U.useContext(hi),n=LD();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=XD(s,e);if(o.navigate===!1){let E=o.fetcherKey||vx();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Ex(i,{relative:e}={}){let{basename:n}=U.useContext(hi),s=U.useContext(ji);mt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ru(i||".",{relative:e})},f=bs();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:vr([n,u.pathname])),mu(u)}function Tx(i,e={}){let n=U.useContext(pb);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ab("useViewTransitionState"),o=Ru(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Mh(o.pathname,f)!=null||Mh(o.pathname,u)!=null}new TextEncoder;[...rx];var wx=KE();const AE=$E(wx);function wg(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function Sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bx=Sb,Rb=new da("auth","Firebase",Sb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Hh("@firebase/auth");function Ax(i,...e){Vh.logLevel<=ze.WARN&&Vh.warn(`Auth (${Io}): ${i}`,...e)}function ph(i,...e){Vh.logLevel<=ze.ERROR&&Vh.error(`Auth (${Io}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(i,...e){throw bg(i,...e)}function Pi(i,...e){return bg(i,...e)}function Ib(i,e,n){const s=Object.assign(Object.assign({},bx()),{[e]:n});return new da("auth","Firebase",s).create(e,{appName:i.name})}function _r(i){return Ib(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Rb.create(i,...e)}function Re(i,e,...n){if(!i)throw bg(e,...n)}function pr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ph(e),new Error(e)}function Sr(i,e){i||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Sx(){return SE()==="http:"||SE()==="https:"}function SE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sx()||eT()||"connection"in navigator)?navigator.onLine:!0}function Ix(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=ZS()||tR()}get(){return Rx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(i,e){Sr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dx=new Iu(3e4,6e4);function As(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ss(i,e,n,s,o={}){return Nb(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=yu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return eR()||(g.referrerPolicy="no-referrer"),Cb.fetch()(await Db(i,i.config.apiHost,n,m),g)})}async function Nb(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Cx),e);try{const o=new Ox(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw sh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw sh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw sh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ib(i,E,g);ui(i,E)}}catch(o){if(o instanceof ci)throw o;ui(i,"network-request-failed",{message:String(o)})}}async function Cu(i,e,n,s,o={}){const u=await Ss(i,e,n,s,o);return"mfaPendingCredential"in u&&ui(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Db(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Ag(i.config,o):`${i.config.apiScheme}://${o}`;return Nx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function xx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ox{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),Dx.get())})}}function sh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pi(i,e,s);return o.customData._tokenResponse=n,o}function RE(i){return i!==void 0&&i.enterprise!==void 0}class Mx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Vx(i,e){return Ss(i,"GET","/v2/recaptchaConfig",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(i,e){return Ss(i,"POST","/v1/accounts:delete",e)}async function Ph(i,e){return Ss(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kx(i,e=!1){const n=At(i),s=await n.getIdToken(e),o=Sg(s);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:iu(Lm(o.auth_time)),issuedAtTime:iu(Lm(o.iat)),expirationTime:iu(Lm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Lm(i){return Number(i)*1e3}function Sg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=XE(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function IE(i){const e=Sg(i);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ci&&Lx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Lx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await pu(i,Ph(n,{idToken:s}));Re(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?xb(u.providerUserInfo):[],m=zx(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new pp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function jx(i){const e=At(i);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function xb(i){return i.map(e=>{var{providerId:n}=e,s=wg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(i,e){const n=await Nb(i,{},async()=>{const s=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Db(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Cb.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qx(i,e){return Ss(i,"POST","/v2/accounts:revokeToken",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=IE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Bx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new yo;return s&&(Re(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(i,e){Re(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ux(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new pp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await pu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kx(this,e)}reload(){return jx(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await pu(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,se=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ie,emailVerified:pe,isAnonymous:de,providerData:be,stsTokenManager:x}=n;Re(ie&&x,e,"internal-error");const R=yo.fromJSON(this.name,x);Re(typeof ie=="string",e,"internal-error"),ns(b,e.name),ns(S,e.name),Re(typeof pe=="boolean",e,"internal-error"),Re(typeof de=="boolean",e,"internal-error"),ns(V,e.name),ns(P,e.name),ns(Q,e.name),ns(H,e.name),ns(Y,e.name),ns(se,e.name);const I=new si({uid:ie,auth:e,email:S,emailVerified:pe,displayName:b,isAnonymous:de,photoURL:P,phoneNumber:V,tenantId:Q,stsTokenManager:R,createdAt:Y,lastLoginAt:se});return be&&Array.isArray(be)&&(I.providerData=be.map(N=>Object.assign({},N))),H&&(I._redirectEventId=H),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new yo;o.updateFromServerResponse(n);const u=new si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await kh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new yo;m.updateFromIdToken(s);const p=new si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;function gr(i){Sr(i instanceof Function,"Expected a class definition");let e=CE.get(i);return e?(Sr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,CE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ob.type="NONE";const NE=Ob;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(i,e,n){return`firebase:${i}:${e}:${n}`}class vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vo(gr(NE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||gr(NE);const f=gh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const S=await Ph(e,{idToken:E}).catch(()=>{});if(!S)break;b=await si._fromGetAccountInfoResponse(e,S,E)}else b=si._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new vo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ub(e))return"Blackberry";if(jb(e))return"Webos";if(Vb(e))return"Safari";if((e.includes("chrome/")||Pb(e))&&!e.includes("edge/"))return"Chrome";if(Lb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Mb(i=ln()){return/firefox\//i.test(i)}function Vb(i=ln()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pb(i=ln()){return/crios\//i.test(i)}function kb(i=ln()){return/iemobile/i.test(i)}function Lb(i=ln()){return/android/i.test(i)}function Ub(i=ln()){return/blackberry/i.test(i)}function jb(i=ln()){return/webos/i.test(i)}function Rg(i=ln()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Hx(i=ln()){var e;return Rg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Fx(){return nR()&&document.documentMode===10}function zb(i=ln()){return Rg(i)||Lb(i)||jb(i)||Ub(i)||/windows phone/i.test(i)||kb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(i,e=[]){let n;switch(i){case"Browser":n=DE(ln());break;case"Worker":n=`${DE(ln())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(i,e={}){return Ss(i,"GET","/v2/passwordPolicy",As(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=6;class Qx{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:Kx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new Gx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ix()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(_r(this));const n=e?At(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $x(this),n=new Qx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new da("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Ax(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ya(i){return At(i)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=uR(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xx(i){gf=i}function qb(i){return gf.loadJS(i)}function Wx(){return gf.recaptchaEnterpriseScript}function Zx(){return gf.gapiScript}function Jx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class eO{constructor(){this.enterprise=new tO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nO="recaptcha-enterprise",Hb="NO_RECAPTCHA";class iO{constructor(e){this.type=nO,this.auth=ya(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Vx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Mx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;RE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(Hb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eO().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&RE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Wx();p.length!==0&&(p+=m),qb(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function OE(i,e,n,s=!1,o=!1){const u=new iO(i);let f;if(o)f=Hb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function gp(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await OE(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await OE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(i,e){const n=ma(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ds(u,e??{}))return o;ui(o,"already-initialized")}return n.initialize({options:e})}function sO(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function aO(i,e,n){const s=ya(i);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Fb(e),{host:f,port:m}=oO(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(ds(g,s.config.emulator)&&ds(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,lO()}function Fb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function oO(i){const e=Fb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:ME(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:ME(f)}}}function ME(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function lO(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function uO(i,e){return Ss(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(i,e){return Cu(i,"POST","/v1/accounts:signInWithPassword",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(i,e){return Cu(i,"POST","/v1/accounts:signInWithEmailLink",As(i,e))}async function fO(i,e){return Cu(i,"POST","/v1/accounts:signInWithEmailLink",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Ig{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new gu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new gu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,n,"signInWithPassword",cO);case"emailLink":return hO(e,{email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gp(e,s,"signUpPassword",uO);case"emailLink":return fO(e,{idToken:n,email:this._email,oobCode:this._password});default:ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i,e){return Cu(i,"POST","/v1/accounts:signInWithIdp",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="http://localhost";class ha extends Ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=wg(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ha(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:dO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pO(i){const e=Gl($l(i)).link,n=e?Gl($l(e)).deep_link_id:null,s=Gl($l(i)).deep_link_id;return(s?Gl($l(s)).link:null)||s||n||e||i}class Cg{constructor(e){var n,s,o,u,f,m;const p=Gl($l(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=mO((o=p.mode)!==null&&o!==void 0?o:null);Re(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=pO(e);try{return new Cg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Cg.parseLink(n);return Re(s,"argument-error"),gu._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Gb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Nu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Nu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Nu{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return as.credential(n,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(i,e){return Cu(i,"POST","/v1/accounts:signUp",As(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await si._fromIdTokenResponse(e,s,o),f=VE(s);return new fa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=VE(s);return new fa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function VE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends ci{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Lh(e,n,s,o)}}function $b(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(i,u,e,s):u})}async function yO(i,e,n=!1){const s=await pu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return fa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(i,e,n=!1){const{auth:s}=i;if(Yn(s.app))return Promise.reject(_r(s));const o="reauthenticate";try{const u=await pu(i,$b(s,o,e,i),n);Re(u.idToken,s,"internal-error");const f=Sg(u.idToken);Re(f,s,"internal-error");const{sub:m}=f;return Re(i.uid===m,s,"user-mismatch"),fa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(i,e,n=!1){if(Yn(i.app))return Promise.reject(_r(i));const s="signIn",o=await $b(i,s,e),u=await fa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function _O(i,e){return Kb(ya(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(i){const e=ya(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EO(i,e,n){if(Yn(i.app))return Promise.reject(_r(i));const s=ya(i),f=await gp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Qb(i),p}),m=await fa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function TO(i,e,n){return Yn(i.app)?Promise.reject(_r(i)):_O(At(i),ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Qb(i),s})}function wO(i,e,n,s){return At(i).onIdTokenChanged(e,n,s)}function bO(i,e,n){return At(i).beforeAuthStateChanged(e,n)}function AO(i,e,n,s){return At(i).onAuthStateChanged(e,n,s)}function SO(i){return At(i).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=1e3,IO=10;class Xb extends Yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Fx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},RO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xb.type="LOCAL";const CO=Xb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb extends Yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Wb.type="SESSION";const Zb=Wb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new yf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await NO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ng("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function xO(i){ki().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function OO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function VO(){return Jb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firebaseLocalStorageDb",PO=1,jh="firebaseLocalStorage",tA="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(i,e){return i.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function kO(){const i=indexedDB.deleteDatabase(eA);return new Du(i).toPromise()}function yp(){const i=indexedDB.open(eA,PO);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(jh,{keyPath:tA})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(jh)?e(s):(s.close(),await kO(),e(await yp()))})})}async function PE(i,e,n){const s=vf(i,!0).put({[tA]:e,value:n});return new Du(s).toPromise()}async function LO(i,e){const n=vf(i,!1).get(e),s=await new Du(n).toPromise();return s===void 0?null:s.value}function kE(i,e){const n=vf(i,!0).delete(e);return new Du(n).toPromise()}const UO=800,jO=3;class nA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(VO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OO(),!this.activeServiceWorker)return;this.sender=new DO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await PE(e,Uh,"1"),await kE(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>PE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>LO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vf(o,!1).getAll();return new Du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nA.type="LOCAL";const zO=nA;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(i,e){return e?gr(e):(Re(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends Ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qO(i){return Kb(i.auth,new Dg(i),i.bypassAuthState)}function HO(i){const{auth:e,user:n}=i;return Re(n,e,"internal-error"),vO(n,new Dg(i),i.bypassAuthState)}async function FO(i){const{auth:e,user:n}=i;return Re(n,e,"internal-error"),yO(n,new Dg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qO;case"linkViaPopup":case"linkViaRedirect":return FO;case"reauthViaPopup":case"reauthViaRedirect":return HO;default:ui(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new Iu(2e3,1e4);class po extends iA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=Ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GO.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="pendingRedirect",yh=new Map;class KO extends iA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const s=await QO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QO(i,e){const n=WO(e),s=XO(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function YO(i,e){yh.set(i._key(),e)}function XO(i){return gr(i._redirectPersistence)}function WO(i){return gh($O,i.config.apiKey,i.name)}async function ZO(i,e,n=!1){if(Yn(i.app))return Promise.reject(_r(i));const s=ya(i),o=BO(s,e),f=await new KO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=10*60*1e3;class eM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!rA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JO&&this.cachedEventUids.clear(),this.cachedEventUids.has(LE(e))}saveEventToCache(e){this.cachedEventUids.add(LE(e)),this.lastProcessedEventTime=Date.now()}}function LE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function rA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(i,e={}){return Ss(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rM=/^https?/;async function sM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await nM(i);for(const n of e)try{if(aM(n))return}catch{}ui(i,"unauthorized-domain")}function aM(i){const e=mp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!rM.test(n))return!1;if(iM.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new Iu(3e4,6e4);function UE(){const i=ki().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function lM(i){return new Promise((e,n)=>{var s,o,u;function f(){UE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UE(),n(Pi(i,"network-request-failed"))},timeout:oM.get()})}if(!((o=(s=ki().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ki().gapi)===null||u===void 0)&&u.load)f();else{const m=Jx("iframefcb");return ki()[m]=()=>{gapi.load?f():n(Pi(i,"network-request-failed"))},qb(`${Zx()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw vh=null,e})}let vh=null;function uM(i){return vh=vh||lM(i),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new Iu(5e3,15e3),hM="__/auth/iframe",fM="emulator/auth/iframe",dM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pM(i){const e=i.config;Re(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ag(e,fM):`https://${i.config.authDomain}/${hM}`,s={apiKey:e.apiKey,appName:i.name,v:Io},o=mM.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${yu(s).slice(1)}`}async function gM(i){const e=await uM(i),n=ki().gapi;return Re(n,i,"internal-error"),e.open({where:document.body,url:pM(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Pi(i,"network-request-failed"),m=ki().setTimeout(()=>{u(f)},cM.get());function p(){ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vM=500,_M=600,EM="_blank",TM="http://localhost";class jE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wM(i,e,n,s=vM,o=_M){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},yM),{width:s.toString(),height:o.toString(),top:u,left:f}),g=ln().toLowerCase();n&&(m=Pb(g)?EM:n),Mb(g)&&(e=e||TM,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[V,P])=>`${S}${V}=${P},`,"");if(Hx(g)&&m!=="_self")return bM(e||"",m),new jE(null);const b=window.open(e||"",m,E);Re(b,i,"popup-blocked");try{b.focus()}catch{}return new jE(b)}function bM(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="__/auth/handler",SM="emulator/auth/handler",RM=encodeURIComponent("fac");async function zE(i,e,n,s,o,u){Re(i.config.authDomain,i,"auth-domain-config-required"),Re(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Io,eventId:o};if(e instanceof Gb){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",lR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Nu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${RM}=${encodeURIComponent(p)}`:"";return`${IM(i)}?${yu(m).slice(1)}${g}`}function IM({config:i}){return i.emulator?Ag(i,SM):`https://${i.authDomain}/${AM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class CM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zb,this._completeRedirectFn=ZO,this._overrideRedirectResult=YO}async _openPopup(e,n,s,o){var u;Sr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await zE(e,n,s,mp(),o);return wM(e,f,Ng())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await zE(e,n,s,mp(),o);return xO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await gM(e),s=new eM(e);return n.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Um,{type:Um},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Um];f!==void 0&&n(!!f),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zb()||Vb()||Rg()}}const NM=CM;var BE="@firebase/auth",qE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OM(i){Li(new ai("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Re(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bb(i)},g=new Yx(s,o,u,p);return sO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Li(new ai("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(s=>new DM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(BE,qE,xM(i)),Xn(BE,qE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=5*60,VM=JE("authIdTokenMaxAge")||MM;let HE=null;const PM=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>VM)return;const o=n==null?void 0:n.token;HE!==o&&(HE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kM(i=Ep()){const e=ma(i,"auth");if(e.isInitialized())return e.getImmediate();const n=rO(i,{popupRedirectResolver:NM,persistence:[zO,CO,Zb]}),s=JE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=PM(u.toString());bO(n,f,()=>f(n.currentUser)),wO(n,m=>f(m))}}const o=WE("auth");return o&&aO(n,`http://${o}`),n}function LM(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}Xx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",LM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OM("Browser");const sA=U.createContext();function Rs(){return U.useContext(sA)}function UM({children:i}){const[e,n]=U.useState(null),[s,o]=U.useState(!0),u=kM(fg);U.useEffect(()=>AO(u,b=>{n(b),o(!1)}),[u]);const g={currentUser:e,signup:(E,b)=>EO(u,E,b),login:(E,b)=>TO(u,E,b),logout:()=>SO(u)};return A.jsx(sA.Provider,{value:g,children:!s&&i})}function jM(){const i=U.useRef(),e=U.useRef(),{login:n}=Rs(),[s,o]=U.useState(""),[u,f]=U.useState(!1),m=Su();async function p(g){g.preventDefault(),o(""),f(!0);try{await n(i.current.value,e.current.value),m("/dashboard")}catch(E){o(E.message||"Failed to log in")}f(!1)}return A.jsx("div",{className:"auth-bg",children:A.jsxs("div",{className:"auth-container",children:[A.jsx("div",{className:"auth-logo-row",children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/100/ffffff/movie-projector.png",alt:"App Logo",className:"auth-logo"})}),A.jsx("div",{className:"auth-subtitle",children:"Track your favorite shows and movies"}),A.jsx("h2",{className:"auth-title",children:"Sign In"}),s&&A.jsx("div",{className:"auth-error",children:s}),A.jsxs("form",{className:"auth-form",onSubmit:p,children:[A.jsx("label",{htmlFor:"email",className:"auth-label",children:"Email *"}),A.jsx("input",{id:"email",type:"email",ref:i,placeholder:"Email",required:!0,className:"auth-input"}),A.jsx("label",{htmlFor:"password",className:"auth-label",children:"Password *"}),A.jsx("input",{id:"password",type:"password",ref:e,placeholder:"Password",required:!0,className:"auth-input"}),A.jsx("button",{disabled:u,type:"submit",className:"auth-btn",children:"SIGN IN"})]}),A.jsx("div",{className:"auth-link-row",children:A.jsxs("span",{children:["Don't have an account? ",A.jsx("a",{href:"/showswatched2/signup",className:"auth-link",children:"Sign up"})]})})]})})}function zM(){const i=U.useRef(),e=U.useRef(),n=U.useRef(),{signup:s}=Rs(),[o,u]=U.useState(""),[f,m]=U.useState(!1),p=Su();async function g(E){if(E.preventDefault(),e.current.value!==n.current.value){u("Passwords do not match");return}u(""),m(!0);try{await s(i.current.value,e.current.value),p("/dashboard",{replace:!0})}catch(b){u(b.message||"Failed to create an account")}m(!1)}return A.jsx("div",{className:"auth-bg",children:A.jsxs("div",{className:"auth-container",children:[A.jsx("div",{className:"auth-logo-row",children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/100/ffffff/movie-projector.png",alt:"App Logo",className:"auth-logo"})}),A.jsx("div",{className:"auth-subtitle",children:"Track your favorite shows and movies"}),A.jsx("h2",{className:"auth-title",children:"Sign Up"}),o&&A.jsx("div",{className:"auth-error",children:o}),A.jsxs("form",{className:"auth-form",onSubmit:g,children:[A.jsx("label",{htmlFor:"email",className:"auth-label",children:"Email *"}),A.jsx("input",{id:"email",type:"email",ref:i,placeholder:"Email",required:!0,className:"auth-input"}),A.jsx("label",{htmlFor:"password",className:"auth-label",children:"Password *"}),A.jsx("input",{id:"password",type:"password",ref:e,placeholder:"Password",required:!0,className:"auth-input"}),A.jsx("label",{htmlFor:"passwordConfirm",className:"auth-label",children:"Confirm Password *"}),A.jsx("input",{id:"passwordConfirm",type:"password",ref:n,placeholder:"Confirm Password",required:!0,className:"auth-input"}),A.jsx("button",{disabled:f,type:"submit",className:"auth-btn",children:"Sign Up"})]}),A.jsx("div",{className:"auth-link-row",children:A.jsxs("span",{children:["Already have an account? ",A.jsx("a",{href:"/showswatched2/login",className:"auth-link",children:"Sign In"})]})})]})})}function BM({children:i}){const{currentUser:e}=Rs();return e?i:A.jsx(vg,{to:"/login"})}function qM({show:i}){const[e,n]=U.useState(!1),[s,o]=U.useState([]),[u,f]=U.useState(null),[m,p]=U.useState([]),[g,E]=U.useState(!1),[b,S]=U.useState(""),V=async()=>{if(!e&&i.tmdbId){E(!0),S("");try{const Q=`https://api.themoviedb.org/3/tv/${i.tmdbId}?api_key=ca9a91468bb700f84faf986252bc3fe6`,Y=await(await fetch(Q)).json();o(Y.seasons||[]),Y.seasons&&Y.seasons.length>0&&f(Y.seasons[0].season_number)}catch{S("Failed to load seasons.")}E(!1)}n(P=>!P)};return U.useEffect(()=>{(async()=>{if(i.tmdbId&&u!=null){E(!0),S("");try{const H=`https://api.themoviedb.org/3/tv/${i.tmdbId}/season/${u}?api_key=ca9a91468bb700f84faf986252bc3fe6`,se=await(await fetch(H)).json();p(se.episodes||[])}catch{S("Failed to load episodes.")}E(!1)}})()},[i.tmdbId,u]),A.jsxs("div",{style:{marginTop:"0.7em",marginBottom:"0.3em",textAlign:"left"},children:[A.jsx("button",{onClick:V,className:"dashboard-diary-collapse-btn",style:{minWidth:140,fontWeight:"bold",background:"#ffe066",color:"#205a7a",border:"2px solid #205a7a",fontSize:"1.08rem",boxShadow:"0 2px 8px #0005",marginBottom:6},children:e?"Hide Episodes":" Show Episodes"}),e&&A.jsx("div",{className:"episodes-list",style:{marginTop:10,marginBottom:8,background:"#f8f9fa",borderRadius:8,padding:"10px 16px",boxShadow:"0 1px 6px #0002"},children:g?A.jsx("div",{children:"Loading..."}):b?A.jsx("div",{style:{color:"red"},children:b}):A.jsxs(A.Fragment,{children:[s.length>0&&A.jsxs("div",{style:{marginBottom:10},children:[A.jsx("label",{htmlFor:"season-select",style:{fontWeight:600,color:"#205a7a",marginRight:8},children:"Season:"}),A.jsx("select",{id:"season-select",value:u||"",onChange:P=>f(Number(P.target.value)),style:{fontWeight:600,fontSize:"1rem",padding:"0.3em 0.7em",borderRadius:5,border:"1px solid #205a7a",color:"#205a7a",background:"#fff"},children:s.map(P=>A.jsx("option",{value:P.season_number,children:P.name||`Season ${P.season_number}`},P.id||P.season_number))})]}),m.length>0?A.jsx("ul",{style:{paddingLeft:18,marginBottom:0},children:m.map(P=>A.jsxs("li",{style:{marginBottom:3,color:"#205a7a",fontWeight:500},children:[A.jsxs("strong",{children:["Ep ",P.episode_number,":"]})," ",P.name," ",P.air_date?A.jsxs("span",{style:{color:"#888",fontWeight:400},children:["(",P.air_date,")"]}):""]},P.id||P.episode_number))}):A.jsx("div",{children:"No episodes found."})]})})]})}function HM(){const{currentUser:i}=Rs(),[e,n]=U.useState([]),[s,o]=U.useState([]),[u,f]=U.useState(!0),[m,p]=U.useState("");U.useEffect(()=>{async function E(){f(!0),p("");try{const b=await tu(mr(Ft,"users")),S=await tu(mr(Ft,"shows"));n(b.docs.map(V=>({id:V.id,...V.data()}))),o(S.docs.map(V=>({id:V.id,...V.data()})))}catch{p("Failed to load admin data.")}f(!1)}E()},[]);async function g(E){p("");try{await ag(Oi(Ft,"shows",E)),o(s.filter(b=>b.id!==E))}catch{p("Failed to delete show.")}}return A.jsxs("div",{className:"admin-dashboard",children:[A.jsx("h2",{children:"Admin Dashboard"}),m&&A.jsx("div",{className:"error",children:m}),u?A.jsx("p",{children:"Loading..."}):A.jsxs(A.Fragment,{children:[A.jsx("h3",{children:"All Users"}),A.jsx("ul",{children:e.length===0?A.jsx("li",{children:"No users found."}):e.map(E=>A.jsx("li",{children:E.email||E.id},E.id))}),A.jsx("h3",{children:"All Shows"}),A.jsx("ul",{children:s.length===0?A.jsx("li",{children:"No shows found."}):s.map(E=>A.jsxs("li",{children:[A.jsx("strong",{children:E.title})," (User: ",E.uid,")",A.jsx("button",{onClick:()=>g(E.id),style:{marginLeft:"1em"},children:"Delete"})]},E.id))})]})]})}const FM=[{icon:A.jsx("span",{style:{fontSize:"2.4rem",color:"#fff",display:"flex",justifyContent:"center"},children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ffffff/tv.png",alt:"Track Shows",style:{height:"44px",marginBottom:"8px"}})}),title:"Track Your Shows & Movies",desc:"Log every movie and TV show you've watched or want to see."},{icon:A.jsx("span",{style:{fontSize:"2.4rem",color:"#5fe05f",display:"flex",justifyContent:"center"},children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/5fe05f/bookmark-ribbon.png",alt:"Diary",style:{height:"44px",marginBottom:"8px"}})}),title:"Personal Diary",desc:"Keep a private journal of your viewing journey."},{icon:A.jsx("span",{style:{fontSize:"2.4rem",color:"#ff7ab2",display:"flex",justifyContent:"center"},children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ff7ab2/search--v1.png",alt:"Search",style:{height:"44px",marginBottom:"8px"}})}),title:"Discover & Search",desc:"Find new favorites using real-time TMDb search."},{icon:A.jsx("span",{style:{fontSize:"2.4rem",color:"#ffc43d",display:"flex",justifyContent:"center"},children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ffc43d/clapperboard.png",alt:"Streaming Info",style:{height:"44px",marginBottom:"8px"}})}),title:"Streaming Info",desc:"See where to watch, with up-to-date streaming info."}],GM=[{icon:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ffffff/search--v1.png",alt:"Search",style:{height:"38px",marginBottom:"8px"}}),title:"1. Search",desc:"Find any movie or TV show instantly."},{icon:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/7ed6ff/plus-math.png",alt:"Add to Diary",style:{height:"38px",marginBottom:"8px"}}),title:"2. Add to Diary",desc:"Save to your personal diary with one click."},{icon:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/7ed6ff/checked-checkbox.png",alt:"Mark as Watched",style:{height:"38px",marginBottom:"8px"}}),title:"3. Mark as Watched",desc:"Toggle watched/unwatched as you go."}],$M="https://image.tmdb.org/t/p/w500";function KM(){const{currentUser:i}=Rs(),[e,n]=U.useState([]),[s,o]=U.useState(!0),[u,f]=U.useState("");return U.useEffect(()=>{async function m(){o(!0),f("");try{const p=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=ca9a91468bb700f84faf986252bc3fe6");if(!p.ok)throw new Error("Failed to fetch trending movies");const g=await p.json();n(g.results.slice(0,10))}catch{f("Could not load trending movies.")}o(!1)}m()},[]),i?A.jsx(vg,{to:"/dashboard"}):A.jsx("div",{className:"sw-bg",children:A.jsxs("div",{className:"sw-container",children:[A.jsxs("div",{className:"sw-header-box sw-header-custom",children:[A.jsx("div",{className:"sw-logo-row",children:A.jsx("div",{className:"sw-header-logo-bg",children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/100/000000/movie-projector.png",alt:"logo",className:"sw-header-logo"})})}),A.jsx("h1",{className:"sw-main-title sw-header-title-custom",children:"ShowsWatched.com"}),A.jsx("p",{className:"sw-main-sub sw-header-sub-custom",children:"Track What You Watch. Discover Whats Next."}),A.jsx(Tg,{to:"/login",children:A.jsx("button",{className:"sw-main-btn sw-header-btn-custom",children:"Get Started"})})]}),A.jsxs("div",{className:"sw-section",children:[A.jsx("h2",{className:"sw-section-title",style:{textAlign:"center"},children:"Features"}),A.jsx("div",{className:"sw-feature-grid sw-feature-custom-grid",children:FM.map((m,p)=>A.jsxs("div",{className:"sw-feature-card sw-feature-custom-card",children:[A.jsx("div",{className:"sw-feature-icon sw-feature-custom-icon",children:m.icon}),A.jsx("div",{className:"sw-feature-title sw-feature-custom-title",children:m.title}),A.jsx("div",{className:"sw-feature-desc sw-feature-custom-desc",children:m.desc})]},p))})]}),A.jsxs("div",{className:"sw-section",children:[A.jsx("h2",{className:"sw-section-title",style:{textAlign:"center"},children:"How It Works"}),A.jsx("div",{className:"sw-hiw-grid sw-hiw-custom-grid",children:GM.map((m,p)=>A.jsxs("div",{className:"sw-hiw-card sw-hiw-custom-card",children:[A.jsx("div",{className:"sw-hiw-icon sw-hiw-custom-icon",children:m.icon}),A.jsx("div",{className:"sw-hiw-title sw-hiw-custom-title",children:m.title}),A.jsx("div",{className:"sw-hiw-desc sw-hiw-custom-desc",children:m.desc})]},p))})]}),A.jsxs("div",{className:"sw-section",children:[A.jsx("h2",{className:"sw-section-title",style:{textAlign:"center"},children:"Trending Now"}),A.jsx("div",{className:"sw-trending-grid sw-trending-custom-grid",children:s?A.jsx("div",{className:"sw-trending-placeholder",children:"Loading trending movies..."}):u?A.jsx("div",{className:"sw-trending-placeholder",children:u}):e.length===0?A.jsx("div",{className:"sw-trending-placeholder",children:"No trending movies found."}):e.slice(0,6).map(m=>A.jsxs("div",{className:"sw-trending-card sw-trending-custom-card",children:[A.jsx("img",{src:m.poster_path?`${$M}${m.poster_path}`:"https://placehold.co/120x160?text=No+Image",alt:m.title,className:"sw-trending-img sw-trending-custom-img"}),A.jsx("div",{className:"sw-trending-title sw-trending-custom-title",children:m.title}),A.jsx("div",{className:"sw-trending-year sw-trending-custom-year",children:m.release_date?m.release_date.slice(0,4):""})]},m.id))})]})]})})}function QM({entryId:i}){console.log("entryId:",i);const{currentUser:e}=Rs(),[n,s]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState(""),[p,g]=U.useState(null),[E,b]=U.useState(""),[S,V]=U.useState({}),[P,Q]=U.useState(!0),H=U.useRef(null);U.useEffect(()=>{const x=hh(mr(Ft,`discussions/${i}/comments`),C2("timestamp","asc")),R=O2(x,I=>{const N=I.docs.map(M=>({id:M.id,...M.data()}));if(console.log("Fetched comments:",N),s(N),e){const M={};N.forEach(L=>{L.votes&&L.votes[e.uid]&&(M[L.id]=L.votes[e.uid])}),V(M)}u(!1)});return()=>R()},[i,e]);const Y=async x=>{x.preventDefault(),f.trim()&&(await cp(mr(Ft,`discussions/${i}/comments`),{text:f,author:e?e.email:"Anonymous",authorUid:e?e.uid:null,timestamp:uE(),parentId:null,upvotes:0,downvotes:0,votes:{},replies:[]}),m(""),H.current&&H.current.focus())},se=async x=>{E.trim()&&(await cp(mr(Ft,`discussions/${i}/comments`),{text:E,author:e?e.email:"Anonymous",authorUid:e?e.uid:null,timestamp:uE(),parentId:x,upvotes:0,downvotes:0,votes:{},replies:[]}),g(null),b(""))},ie=async(x,R)=>{if(!e)return;const I=Oi(Ft,`discussions/${i}/comments`,x),N=n.find(C=>C.id===x);if(!N)return;const M=N.votes?N.votes[e.uid]:void 0;if(M===R)return;let L={};R==="up"?L={upvotes:ih(1),...M==="down"?{downvotes:ih(-1)}:{},[`votes.${e.uid}`]:"up"}:R==="down"&&(L={downvotes:ih(1),...M==="up"?{upvotes:ih(-1)}:{},[`votes.${e.uid}`]:"down"}),await up(I,L)},pe=async x=>{if(!e)return;const R=n.find(N=>N.id===x);if(!R||R.authorUid!==e.uid)return;const I=async N=>{const M=n.filter(C=>C.parentId===N);for(const C of M)C.authorUid===e.uid&&await I(C.id);const L=n.find(C=>C.id===N);L&&L.authorUid===e.uid&&await ag(Oi(Ft,`discussions/${i}/comments`,N))};await I(x)};function de({commentId:x,level:R,childrenCount:I,render:N,showCount:M=1}){const[L,C]=U.useState(!1),et=N(x,R+1);return!et||et.length===0?null:L?A.jsxs("div",{children:[et,I>M&&A.jsx("button",{style:{margin:"0.25em 0 0.5em 1em",fontSize:"0.95em"},onClick:()=>C(!1),children:"Hide Replies"})]}):A.jsxs("div",{children:[et.slice(0,M),I>M&&A.jsxs("button",{style:{margin:"0.25em 0 0.5em 1em",fontSize:"0.95em"},onClick:()=>C(!0),children:["View ",I-M+1," more repl",I-M+1===1?"y":"ies"]})]})}const be=(x=null,R=0)=>n.filter(N=>N.parentId===x).map(N=>{var L,C,et,it;const M=n.filter(X=>X.parentId===N.id);return A.jsxs("div",{className:`discussion-comment${R>0?" discussion-reply":""}`,style:{marginLeft:R*18},children:[A.jsxs("div",{className:"discussion-header",children:[A.jsx("span",{className:"discussion-author",children:N.author}),A.jsx("span",{className:"discussion-date",children:((it=(C=(L=N.timestamp)==null?void 0:L.toDate)==null?void 0:(et=C.call(L)).toLocaleString)==null?void 0:it.call(et))||""})]}),A.jsx("div",{className:"discussion-body",children:N.text}),A.jsxs("div",{className:"discussion-actions",children:[A.jsxs("button",{className:`discussion-vote${S[N.id]==="up"?" voted":""}`,onClick:()=>ie(N.id,"up"),title:"Thumbs up",disabled:S[N.id]==="up",children:[" ",N.upvotes||0]}),A.jsxs("button",{className:`discussion-vote${S[N.id]==="down"?" voted":""}`,onClick:()=>ie(N.id,"down"),title:"Thumbs down",disabled:S[N.id]==="down",children:[" ",N.downvotes||0]}),A.jsx("button",{className:"discussion-reply-btn",onClick:()=>g(N.id),children:"Reply"}),N.authorUid===(e==null?void 0:e.uid)&&A.jsx("button",{className:"discussion-delete-btn",onClick:()=>pe(N.id),title:"Delete",children:""})]}),p===N.id&&A.jsxs("div",{className:"discussion-reply-form",children:[A.jsx("input",{type:"text",value:E,onChange:X=>b(X.target.value),placeholder:"Write a reply...",autoFocus:!0}),A.jsx("button",{onClick:()=>se(N.id),children:"Send"}),A.jsx("button",{onClick:()=>g(null),children:"Cancel"})]}),A.jsx(de,{commentId:N.id,level:R,childrenCount:M.length,render:be,showCount:1})]},N.id)});return A.jsxs("div",{className:"discussion-section",children:[A.jsx("button",{className:"discussion-collapse-btn",onClick:()=>Q(x=>!x),style:{marginBottom:P?0:10},children:P?"Show Discussion":"Hide Discussion"}),!P&&A.jsxs(A.Fragment,{children:[A.jsx("h4",{children:"Discussion"}),A.jsxs("form",{onSubmit:Y,className:"discussion-form",children:[A.jsx("input",{type:"text",ref:H,value:f,onChange:x=>m(x.target.value),placeholder:"Add a comment..."}),A.jsx("button",{type:"submit",children:"Send"})]}),A.jsx("div",{className:"discussion-comments",children:o?A.jsx("div",{children:"Loading..."}):be()})]})]})}var aA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FE=ls.createContext&&ls.createContext(aA),YM=["attr","size","title"];function XM(i,e){if(i==null)return{};var n=WM(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function WM(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function zh(){return zh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},zh.apply(this,arguments)}function GE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Bh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(s){ZM(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function ZM(i,e,n){return e=JM(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function JM(i){var e=eV(i,"string");return typeof e=="symbol"?e:e+""}function eV(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function oA(i){return i&&i.map((e,n)=>ls.createElement(e.tag,Bh({key:n},e.attr),oA(e.child)))}function xu(i){return e=>ls.createElement(tV,zh({attr:Bh({},i.attr)},e),oA(i.child))}function tV(i){var e=n=>{var{attr:s,size:o,title:u}=i,f=XM(i,YM),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),ls.createElement("svg",zh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Bh(Bh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ls.createElement("title",null,u),i.children)};return FE!==void 0?ls.createElement(FE.Consumer,null,n=>e(n)):e(aA)}function nV(i){return xu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(i)}function iV(i){return xu({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(i)}function rV(i){return xu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(i)}function sV(i){return xu({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function aV(i){return xu({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(i)}const lo="ca9a91468bb700f84faf986252bc3fe6",Fl="https://api.themoviedb.org/3",jm="US";function oV(){const{currentUser:i,logout:e}=Rs(),n=Su(),[s,o]=U.useState("movie"),[u,f]=U.useState(""),[m,p]=U.useState([]),[g,E]=U.useState(!1),[b,S]=U.useState(""),[V,P]=U.useState("all"),[Q,H]=U.useState([]),[Y,se]=U.useState({}),ie=U.useRef(null),pe=U.useRef(""),[de,be]=U.useState(null),[x,R]=U.useState(""),I=U.useRef({}),[N,M]=U.useState(!1),[L,C]=U.useState(null),[et,it]=U.useState(!1),[X,oe]=U.useState(""),[ve,qe]=U.useState(!1),[O,ne]=U.useState(""),[le,re]=U.useState(!1),[Te,De]=U.useState(""),[_e,St]=U.useState("movie"),[Qe,pn]=U.useState([]),[fi,Sn]=U.useState(!0),[di,Zn]=U.useState(""),[mi,Rr]=U.useState(1);U.useEffect(()=>{pn([]),Rr(1),Sn(!0),Zn("")},[_e]),U.useEffect(()=>{let B=!0;async function ue(ye=1){Sn(!0),Zn("");try{const fe=await fetch(`https://api.themoviedb.org/3/trending/${_e}/week?api_key=${lo}&page=${ye}`);if(!fe.ok)throw new Error("Failed to fetch trending");const ge=await fe.json();B&&pn(ye===1?ge.results:We=>{const pt=new Set(We.map(kn=>kn.id));return[...We,...ge.results.filter(kn=>!pt.has(kn.id))]})}catch{B&&Zn("Could not load trending.")}B&&Sn(!1)}return ue(mi),()=>{B=!1}},[_e,mi]),U.useEffect(()=>{Qe.filter(ue=>!Q.some(ye=>ye.id===ue.id&&ye.media_type===_e)).length<12&&Qe.length<100&&Rr(ue=>ue+1)},[Qe,Q,_e]),U.useEffect(()=>{if(!i)return;async function B(){const ue=hh(mr(Ft,"diary"),xm("uid","==",i.uid));let fe=(await tu(ue)).docs.map(ge=>({...ge.data(),docId:ge.id}));fe=fe.sort((ge,We)=>new Date(We.createdAt)-new Date(ge.createdAt)),H(fe);for(const ge of fe)Is(ge)}B()},[i]),U.useEffect(()=>{if(!i){oe(""),ne("");return}let B=!1;async function ue(){const ye=await lE(Oi(Ft,"users",i.uid));let fe="";ye.exists()?fe=ye.data().displayName||i.displayName||(i.email?i.email.split("@")[0]:i.uid):fe=i.displayName||(i.email?i.email.split("@")[0]:i.uid),B||(oe(fe),ne(fe))}return ue(),()=>{B=!0}},[i&&i.uid]);async function Is(B){var ye;if(Y[B.id])return;let ue="";B.media_type==="movie"?ue=`${Fl}/movie/${B.id}/watch/providers?api_key=${lo}`:ue=`${Fl}/tv/${B.id}/watch/providers?api_key=${lo}`;try{const fe=await fetch(ue);if(fe.status===404){se(pt=>({...pt,[B.id]:{}}));return}const We=((ye=(await fe.json()).results)==null?void 0:ye[jm])||{};se(pt=>({...pt,[B.id]:We}))}catch{se(ge=>({...ge,[B.id]:{}}))}}async function un(B,ue){if(!B.trim()){p([]),S(""),E(!1);return}E(!0),S(""),p([]);try{const fe=`${Fl}${ue==="movie"?"/search/movie":"/search/tv"}?api_key=${lo}&query=${encodeURIComponent(B)}`,We=await(await fetch(fe)).json();We.results?p(We.results):(p([]),S("No results found."))}catch{S("Failed to fetch results.")}E(!1)}U.useEffect(()=>{if(!(u.trim()===""||u===pe.current))return ie.current&&clearTimeout(ie.current),ie.current=setTimeout(()=>{un(u,s)},400),()=>clearTimeout(ie.current)},[u,s]);async function Lo(B){B.preventDefault(),pe.current=u,await un(u,s)}async function Ir(B){if(!i||Q.some(We=>We.id===B.id&&We.media_type===(B.media_type||s)))return;const ue={uid:i.uid,id:B.id,title:B.title||B.name,date:(B.release_date||B.first_air_date||"").slice(0,10),poster:B.poster_path?`https://image.tmdb.org/t/p/w200${B.poster_path}`:"https://placehold.co/120x170?text=No+Image",desc:B.overview||"No description.",watched:!1,archived:!1,media_type:B.media_type||s,createdAt:new Date().toISOString()};await cp(mr(Ft,"diary"),ue);const ye=hh(mr(Ft,"diary"),xm("uid","==",i.uid));let ge=(await tu(ye)).docs.map(We=>({...We.data(),docId:We.id}));ge=ge.sort((We,pt)=>new Date(pt.createdAt)-new Date(We.createdAt)),H(ge),Is(ue),p([]),f("")}async function Cr(B){H(ue=>ue.filter(ye=>ye.docId!==B)),be(null);try{await ag(Oi(Ft,"diary",B));const ue=hh(mr(Ft,"diary"),xm("uid","==",i.uid));let fe=(await tu(ue)).docs.map(ge=>({...ge.data(),docId:ge.id}));fe=fe.sort((ge,We)=>new Date(We.createdAt)-new Date(ge.createdAt)),H(fe)}catch{window.alert("Failed to remove entry. Please try again.")}}async function zi(B,ue){H(ye=>ye.map(fe=>fe.docId===B?{...fe,watched:!ue}:fe)),be(ye=>ye&&ye.docId===B?{...ye,watched:!ue}:ye);try{await up(Oi(Ft,"diary",B),{watched:!ue})}catch{H(fe=>fe.map(ge=>ge.docId===B?{...ge,watched:ue}:ge)),be(fe=>fe&&fe.docId===B?{...fe,watched:ue}:fe),window.alert("Failed to update watched status. Please try again.")}}async function Uo(B,ue){H(ye=>ye.map(fe=>fe.docId===B?{...fe,archived:!ue}:fe)),be(ye=>ye&&ye.docId===B?{...ye,archived:!ue}:ye);try{await up(Oi(Ft,"diary",B),{archived:!ue})}catch{H(fe=>fe.map(ge=>ge.docId===B?{...ge,archived:ue}:ge)),be(fe=>fe&&fe.docId===B?{...fe,archived:ue}:fe),window.alert("Failed to update archive status. Please try again.")}}function Nr(B){window.alert(`Share this: ${B.title}`)}async function Cs(){try{await e(),n("/")}catch{alert("Failed to sign out")}}async function va(){if(!O.trim()){De("Display name cannot be empty.");return}re(!0),De("");try{await x2(Oi(Ft,"users",i.uid),{displayName:O.trim()},{merge:!0}),oe(O.trim()),qe(!1);const B=await lE(Oi(Ft,"users",i.uid));if(B.exists()){const ue=B.data().displayName||i.displayName||(i.email?i.email.split("@")[0]:i.uid);oe(ue),ne(ue)}}catch{De("Failed to update display name.")}re(!1)}function ft(){ne(X),qe(!0),De("")}function Ye(){qe(!1),De("")}async function cn(B){var ue,ye,fe,ge,We,pt;if(!B)return"";try{if(B.media_type==="movie"){const $t=await(await fetch(`${Fl}/movie/${B.id}/release_dates?api_key=${lo}`)).json(),Ut=((ue=$t.results)==null?void 0:ue.find(Jn=>Jn.iso_3166_1===jm))||((ye=$t.results)==null?void 0:ye[0]);return((ge=(fe=Ut==null?void 0:Ut.release_dates)==null?void 0:fe.find(Jn=>Jn.certification))==null?void 0:ge.certification)||""}else if(B.media_type==="tv"){const $t=await(await fetch(`${Fl}/tv/${B.id}/content_ratings?api_key=${lo}`)).json(),Ut=((We=$t.results)==null?void 0:We.find(yn=>yn.iso_3166_1===jm))||((pt=$t.results)==null?void 0:pt[0]);return(Ut==null?void 0:Ut.rating)||""}}catch{return""}return""}function Lt(B){be(B),R(""),cn(B).then(ue=>R(ue||""))}function _a({entry:B,providersMap:ue,onClose:ye,onShare:fe,onToggleWatched:ge,onRemove:We,onArchiveToggle:pt,diary:kn,contentRating:$t}){if(!B)return null;const Ut=ue[B.id]||{},yn=Ut.flatrate||[],Jn=Ut.rent||[],lt=Ut.buy||[],Pe=B;return AE.createPortal(A.jsx("div",{className:"dashboard-modal-overlay",onClick:ye,children:A.jsxs("div",{className:"dashboard-modal-content",onClick:Le=>Le.stopPropagation(),children:[A.jsx("button",{className:"dashboard-modal-close",onClick:ye,"aria-label":"Close modal",type:"button",children:""}),A.jsxs("div",{className:"dashboard-modal-body",children:[A.jsx("img",{className:"dashboard-diary-poster",src:Pe.poster_path?`https://image.tmdb.org/t/p/w300${Pe.poster_path}`:Pe.poster||"https://placehold.co/120x170?text=No+Image",alt:Pe.title,style:{marginBottom:"1rem"}}),A.jsx("div",{className:"dashboard-diary-movie-title",children:Pe.title}),A.jsxs("div",{className:"dashboard-diary-date",children:[Pe.release_date?Pe.release_date.slice(0,4):Pe.date||"",$t&&A.jsx("span",{style:{marginLeft:8,color:"#ffe066",fontWeight:600},children:$t})]}),A.jsx("div",{className:"dashboard-diary-desc",children:Pe.overview||Pe.desc||""}),A.jsxs("div",{className:"dashboard-diary-providers-modal",children:[A.jsxs("div",{className:"dashboard-diary-providers-group",children:[A.jsx("div",{className:"dashboard-diary-providers-label",children:"Streaming:"}),A.jsx("div",{className:"dashboard-diary-providers-icons",children:yn.length===0?A.jsx("span",{style:{color:"#888"},children:"N/A"}):yn.map(Le=>A.jsx("img",{src:`https://image.tmdb.org/t/p/w45${Le.logo_path}`,alt:Le.provider_name,title:Le.provider_name,className:"dashboard-provider-icon-sm"},Le.provider_id))})]}),A.jsxs("div",{className:"dashboard-diary-providers-group",children:[A.jsx("div",{className:"dashboard-diary-providers-label",children:"Rent:"}),A.jsx("div",{className:"dashboard-diary-providers-icons",children:Jn.length===0?A.jsx("span",{style:{color:"#888"},children:"N/A"}):Jn.map(Le=>A.jsx("img",{src:`https://image.tmdb.org/t/p/w45${Le.logo_path}`,alt:Le.provider_name,title:Le.provider_name,className:"dashboard-provider-icon-sm"},Le.provider_id))})]}),A.jsxs("div",{className:"dashboard-diary-providers-group",children:[A.jsx("div",{className:"dashboard-diary-providers-label",children:"Buy:"}),A.jsx("div",{className:"dashboard-diary-providers-icons",children:lt.length===0?A.jsx("span",{style:{color:"#888"},children:"N/A"}):lt.map(Le=>A.jsx("img",{src:`https://image.tmdb.org/t/p/w45${Le.logo_path}`,alt:Le.provider_name,title:Le.provider_name,className:"dashboard-provider-icon-sm"},Le.provider_id))})]})]}),B.media_type==="tv"&&(B.tmdbId||B.id)&&A.jsx("div",{style:{margin:"1.2rem 0 0.8rem 0",display:"flex",justifyContent:"center"},children:A.jsx(qM,{show:{...B,tmdbId:B.tmdbId||B.id}})}),A.jsxs("div",{className:"dashboard-diary-btn-row dashboard-diary-btn-row--modal",style:{flexDirection:"column",alignItems:"stretch",gap:"0.7rem",paddingLeft:0,paddingRight:0,marginTop:"1.2rem",marginBottom:"0.5rem"},children:[A.jsx("button",{className:"dashboard-diary-share",onClick:()=>fe(Pe),title:"Share this diary entry with friends via link or social media",children:"SHARE"}),A.jsx("button",{className:Pe.watched?"dashboard-diary-watched":"dashboard-diary-unwatched",onClick:()=>ge(Pe.docId,Pe.watched),title:Pe.watched?"Mark as not watched":"Mark as watched",children:Pe.watched?"WATCHED":"UNWATCHED"}),A.jsx("button",{className:"dashboard-diary-archive",style:{background:B.archived?"#b2b2b2":"#25609c",color:B.archived?"#333":"#fff",borderRadius:"7px",padding:"0.7rem 2.2rem",fontWeight:700,fontFamily:"Orbitron, Arial, sans-serif",fontSize:"1rem"},onClick:()=>pt(B.docId,B.archived),title:B.archived?"Move this entry back to active diary":"Archive this entry (hide from main diary)",children:B.archived?"Unarchive":"Archive"}),A.jsx("button",{className:"dashboard-diary-remove",onClick:()=>We(Pe.docId),title:"Remove this diary entry permanently",children:"REMOVE"})]}),A.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",borderRadius:"10px",background:"rgba(30,32,38,0.85)",boxShadow:"0 1px 8px #0002",border:"1px solid #2f3138",width:"calc(100% + 80px)",maxWidth:"none",marginLeft:"-40px",marginRight:"-40px"},children:[A.jsx("h3",{style:{marginTop:0,marginBottom:"1rem"},children:"Discussion"}),A.jsx(QM,{entryId:Pe.id})]})]})]})}),document.getElementById("modal-root"))}const jo=ls.memo(_a);function Bi(){const B={};return Q.filter(ue=>ue.media_type===s).forEach(ue=>{const ye=Y[ue.id];ye&&[...ye.flatrate||[],...ye.rent||[],...ye.buy||[]].forEach(fe=>{B[fe.provider_id]=fe})}),Object.values(B)}const pi=L?Q.filter(B=>{if(B.media_type!==s)return!1;const ue=Y[B.id];return ue?[...ue.flatrate||[],...ue.rent||[],...ue.buy||[]].some(ye=>ye.provider_id===L.provider_id):!1}):Q.filter(B=>B.media_type===s);function qi({open:B,onClose:ue,providers:ye,onSelect:fe}){return B?AE.createPortal(A.jsx("div",{className:"dashboard-modal-overlay",onClick:ue,children:A.jsxs("div",{className:"dashboard-modal-content",onClick:ge=>ge.stopPropagation(),style:{maxWidth:440,padding:24},children:[A.jsx("button",{className:"dashboard-modal-close",onClick:ue,"aria-label":"Close modal",type:"button",children:""}),A.jsx("h2",{style:{color:"#fff",textAlign:"center",marginBottom:18},children:"All Providers"}),A.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:14,justifyContent:"center"},children:ye.map(ge=>A.jsx("img",{src:`https://image.tmdb.org/t/p/w45${ge.logo_path}`,alt:ge.provider_name,title:ge.provider_name,className:"dashboard-provider-icon-sm",style:{cursor:"pointer",border:L&&L.provider_id===ge.provider_id?"2px solid #8fc7ff":"2px solid transparent"},onClick:()=>fe(ge)},ge.provider_id))}),L&&A.jsx("button",{style:{margin:"18px auto 0",display:"block"},onClick:()=>C(null),children:"Show All Entries"}),A.jsx("div",{style:{marginTop:24},children:pi.length===0?A.jsx("div",{style:{color:"#aaa",textAlign:"center"},children:"No entries for this provider."}):A.jsx("div",{className:"provider-modal-cards-row",style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"1.2rem",justifyItems:"center",alignItems:"stretch",marginTop:"1rem",width:"100%",overflowX:"auto",boxSizing:"border-box"},children:pi.map(ge=>A.jsxs("section",{className:"dashboard-diary-card collapsed",style:{width:"100%",maxWidth:"120px",minHeight:"210px",background:"#23242a",borderRadius:"10px",boxShadow:"0 2px 8px #0003",display:"flex",flexDirection:"column",alignItems:"center",padding:"20px 0.2rem 0.9rem 0.2rem",margin:0,boxSizing:"border-box",justifySelf:"center"},children:[A.jsx("div",{className:"dashboard-diary-poster-col collapsed",style:{width:"100%",display:"flex",justifyContent:"center"},children:A.jsx("img",{src:ge.poster,alt:ge.title,className:"dashboard-diary-poster collapsed",style:{width:"100px",height:"145px",objectFit:"cover",borderRadius:"7px",marginBottom:"0.5rem"}})}),A.jsx("div",{className:"dashboard-diary-movie-title collapsed",style:{textAlign:"center",color:"#fff",fontSize:"1.02rem",fontWeight:600,marginTop:"0.2rem",marginBottom:"0.1rem",wordBreak:"break-word",width:"100%"},children:ge.title})]},ge.docId))})})]})}),document.getElementById("modal-root")):null}const gn=Q.filter(B=>et?B.archived:!B.archived).filter(B=>V==="all"?B.media_type===s:V==="watched"?B.media_type===s&&B.watched:V==="unwatched"?B.media_type===s&&!B.watched:!1);function Hi(B){St(B)}function Fi(B){Ir({id:B.id,title:B.title||B.name,poster_path:B.poster_path,release_date:B.release_date||B.first_air_date,overview:B.overview,media_type:_e}),pn(ue=>ue.filter(ye=>ye.id!==B.id))}return A.jsxs("div",{className:"dashboard-bg",children:[A.jsx("style",{children:`
          .dashboard-trending-movie-title {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            min-height: 2.7em;
            max-height: 2.7em;
            line-height: 1.35em;
            font-size: 1.07rem;
            font-weight: 600;
            color: #fff;
            margin: 0.7em 0 0.2em 0;
            text-align: center;
          }
          .dashboard-trending-desc {
            display: -webkit-box;
            -webkit-line-clamp: 5;
            -webkit-box-orient: vertical;
            overflow: hidden;
            min-height: 6.75em;
            max-height: 6.75em;
            line-height: 1.35em;
            font-size: 0.98rem;
            color: #c7d0e0;
            margin-bottom: 1em;
            text-align: center;
          }
        `}),A.jsxs("div",{className:"dashboard-content-wrapper",children:[A.jsx("div",{className:"dashboard-banner",children:A.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:16},children:[A.jsx(aV,{size:48,style:{color:"#fff",marginBottom:12}}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[A.jsx("span",{style:{color:"#fff",fontWeight:500,fontSize:"1.13rem",marginRight:6},children:"Display Name:"}),ve?A.jsxs(A.Fragment,{children:[A.jsx("input",{type:"text",value:O,onChange:B=>ne(B.target.value),style:{fontWeight:700,color:"#25609c",background:"#23242a",border:"1px solid #2f3138",borderRadius:6,padding:"5px 10px",fontSize:"1.13rem",outline:"none",width:140},disabled:le,autoFocus:!0}),A.jsx("button",{onClick:va,disabled:le,style:{background:"none",border:"none",color:"#35b36b",cursor:"pointer",fontSize:20,marginLeft:6},title:"Save",children:A.jsx(nV,{})}),A.jsx("button",{onClick:Ye,disabled:le,style:{background:"none",border:"none",color:"#ff5a5a",cursor:"pointer",fontSize:20,marginLeft:2},title:"Cancel",children:A.jsx(sV,{})})]}):A.jsxs(A.Fragment,{children:[A.jsx("span",{style:{fontWeight:700,color:"#35b36b",fontSize:"1.13rem",background:"#23242a",border:"1px solid #2f3138",borderRadius:6,padding:"5px 10px",minWidth:80,display:"inline-block"},children:X}),A.jsx("button",{onClick:ft,style:{background:"none",border:"none",color:"#8fc7ff",cursor:"pointer",fontSize:18,marginLeft:6},title:"Edit",children:A.jsx(rV,{})})]})]}),Te&&A.jsx("div",{style:{color:"#ff5a5a",marginTop:4},children:Te}),A.jsx("button",{onClick:Cs,style:{marginTop:12,background:"#fff",color:"#18191d",fontWeight:700,fontSize:"1.1rem",borderRadius:8,border:"none",padding:"10px 32px",boxShadow:"0 2px 10px #205a7a33",cursor:"pointer",transition:"background 0.18s, color 0.18s"},children:"LOG OUT"})]})}),A.jsxs("div",{className:"dashboard-search-section",children:[A.jsx("img",{src:"https://img.icons8.com/ios-filled/100/ffffff/movie-projector.png",alt:"App Icon",className:"dashboard-logo"}),A.jsx("div",{className:"dashboard-search-title",children:"Search for Movies / Tv Shows"}),A.jsx("div",{className:"dashboard-search-instructions",children:"NEED INSTRUCTIONS?"}),A.jsxs("div",{className:"dashboard-search-toggle-row",children:[A.jsx("button",{className:s==="movie"?"dashboard-toggle active":"dashboard-toggle",onClick:()=>o("movie"),children:"MOVIE"}),A.jsx("button",{className:s==="tv"?"dashboard-toggle active":"dashboard-toggle",onClick:()=>o("tv"),children:"TV SHOW"})]}),A.jsxs("form",{className:"dashboard-search-bar-row",onSubmit:Lo,children:[A.jsx("input",{className:"dashboard-search-bar",placeholder:"Type to search for movies or shows*",value:u,onChange:B=>f(B.target.value)}),A.jsx("button",{className:"dashboard-search-btn",type:"submit",disabled:g||!u.trim(),children:g?"SEARCHING...":"SEARCH"})]}),A.jsxs("div",{className:"dashboard-search-results",children:[b&&A.jsx("div",{className:"auth-error",style:{marginTop:"1rem"},children:b}),!b&&m.length>0&&A.jsx("div",{className:"dashboard-trending-row",style:{marginTop:"1.4rem"},children:m.map(B=>A.jsxs("div",{className:"dashboard-trending-card",children:[A.jsx("img",{src:B.poster_path?`https://image.tmdb.org/t/p/w200${B.poster_path}`:"https://placehold.co/120x170?text=No+Image",alt:B.title||B.name,className:"dashboard-trending-poster"}),A.jsx("div",{className:"dashboard-trending-movie-title",children:B.title||B.name}),A.jsx("div",{className:"dashboard-trending-year",children:(B.release_date||B.first_air_date||"").slice(0,4)}),A.jsx("div",{className:"dashboard-trending-desc",children:B.overview?B.overview.slice(0,90)+(B.overview.length>90?"":""):"No description."}),A.jsx("button",{className:"dashboard-trending-add",onClick:()=>Ir(B),children:Q.some(ue=>ue.id===B.id)?"IN DIARY":"ADD TO DIARY"})]},B.id))})]})]}),A.jsxs("div",{className:"dashboard-diary-section",children:[A.jsx("div",{className:"dashboard-diary-title",children:"My Diary"}),A.jsxs("div",{style:{display:"flex",justifyContent:"center",margin:"1.5rem 0 2rem 0",gap:"1.2rem"},children:[A.jsx("button",{className:`dashboard-toggle${et?"":" active"}`,onClick:()=>it(!1),children:"My Diary"}),A.jsx("button",{className:`dashboard-toggle${et?" active":""}`,onClick:()=>it(!0),children:"Archived"})]}),A.jsxs("div",{className:"dashboard-diary-filter-row",children:[A.jsxs("div",{className:"dashboard-diary-filter-group",children:[A.jsx("button",{className:V==="all"?"dashboard-diary-filter active":"dashboard-diary-filter",onClick:()=>P("all"),children:"ALL"}),A.jsx("button",{className:V==="watched"?"dashboard-diary-filter active":"dashboard-diary-filter",onClick:()=>P("watched"),children:"WATCHED"})]}),A.jsx("div",{className:"dashboard-diary-filter-group dashboard-diary-filter-group--unwatched",children:A.jsx("button",{className:V==="unwatched"?"dashboard-diary-filter active":"dashboard-diary-filter",onClick:()=>P("unwatched"),children:"UNWATCHED"})})]}),A.jsx("div",{className:"dashboard-diary-providers-row",children:A.jsx("button",{className:"dashboard-providers-btn",onClick:()=>M(!0),children:"ALL PROVIDERS"})}),gn.length===0?A.jsx("div",{style:{color:"#aaa",margin:"2rem 0",textAlign:"center"},children:"No entries in your diary."}):A.jsx("div",{className:"dashboard-diary-cards-row",children:gn.map(B=>(I.current[B.docId]||(I.current[B.docId]=U.createRef()),A.jsxs("section",{ref:ue=>I.current[B.docId]=ue,className:"dashboard-diary-card collapsed",children:[A.jsx("div",{className:"dashboard-diary-poster-col collapsed",children:A.jsx("img",{src:B.poster,alt:B.title,className:"dashboard-diary-poster collapsed"})}),A.jsx("div",{className:"dashboard-diary-movie-title collapsed",children:B.title}),A.jsxs("button",{className:"dashboard-diary-showmore",onClick:()=>Lt(B),children:["Show More ",A.jsx(iV,{})]})]},B.docId)))})]}),A.jsx("div",{style:{width:"100%",height:"10px",background:"#fff",borderRadius:"2px",margin:"2.5rem 0 2.2rem 0",boxShadow:"0 1px 8px #0002"}}),A.jsxs("div",{className:"dashboard-trending-section",children:[A.jsxs("div",{className:"dashboard-trending-title",style:{textAlign:"center",fontSize:"1.7rem",fontWeight:700,marginBottom:"1.2rem",color:"#fff"},children:["Trending ",_e==="movie"?"Movies":"TV Shows"]}),A.jsxs("div",{className:"dashboard-trending-toggle-row",style:{display:"flex",alignItems:"center",gap:12,justifyContent:"center",marginBottom:"1.2rem"},children:[A.jsx("button",{className:_e==="movie"?"dashboard-toggle active":"dashboard-toggle",style:{fontSize:"0.97rem",padding:"0.4em 1.2em"},onClick:()=>Hi("movie"),children:"Movies"}),A.jsx("button",{className:_e==="tv"?"dashboard-toggle active":"dashboard-toggle",style:{fontSize:"0.97rem",padding:"0.4em 1.2em"},onClick:()=>Hi("tv"),children:"TV Shows"})]}),A.jsx("div",{className:"dashboard-trending-row",style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"1.2rem",justifyItems:"center",alignItems:"stretch",marginTop:"0.5rem"},children:fi?A.jsx("div",{style:{color:"#aaa",margin:"2rem 0",textAlign:"center",gridColumn:"1 / -1"},children:"Loading"}):di?A.jsx("div",{style:{color:"#ff5a5a",margin:"2rem 0",textAlign:"center",gridColumn:"1 / -1"},children:di}):Qe.filter(B=>!Q.some(ue=>ue.id===B.id&&ue.media_type===_e)).slice(0,10).map(B=>A.jsxs("div",{className:"dashboard-trending-card",children:[A.jsx("img",{src:B.poster_path?`https://image.tmdb.org/t/p/w200${B.poster_path}`:"https://placehold.co/120x170?text=No+Image",alt:B.title||B.name,className:"dashboard-trending-poster"}),A.jsx("div",{className:"dashboard-trending-movie-title",children:B.title||B.name}),A.jsx("div",{className:"dashboard-trending-year",children:(B.release_date||B.first_air_date||"").slice(0,4)}),A.jsx("div",{className:"dashboard-trending-desc",children:B.overview?B.overview.slice(0,90)+(B.overview.length>90?"":""):"No description."}),A.jsx("button",{className:"dashboard-trending-add",onClick:()=>Fi(B),children:"ADD TO DIARY"})]},B.id))})]})]}),de&&A.jsx(jo,{entry:de,providersMap:Y,onClose:()=>be(null),onShare:Nr,onToggleWatched:zi,onRemove:Cr,onArchiveToggle:Uo,diary:Q,contentRating:x}),A.jsx(qi,{open:N,onClose:()=>{M(!1),C(null)},providers:Bi(),onSelect:B=>C(B)})]})}function lV(){const{currentUser:i}=Rs();return A.jsxs(qD,{children:[A.jsx(mo,{path:"/login",element:A.jsx(jM,{})}),A.jsx(mo,{path:"/signup",element:A.jsx(zM,{})}),A.jsx(mo,{path:"/admin",element:A.jsx(BM,{children:A.jsx(HM,{})})}),A.jsx(mo,{path:"/dashboard",element:A.jsx(oV,{})}),A.jsx(mo,{path:"/",element:i?A.jsx(vg,{to:"/dashboard"}):A.jsx(KM,{})})]})}zS.createRoot(document.getElementById("root")).render(A.jsx(U.StrictMode,{children:A.jsx(fx,{basename:"/showswatched2",children:A.jsx(UM,{children:A.jsx(lV,{})})})}));
