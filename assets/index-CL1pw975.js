(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function zE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function DA(){if(kv)return Bl;kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var Lv;function xA(){return Lv||(Lv=1,pm.exports=DA()),pm.exports}var A=xA(),gm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function OA(){if(Uv)return Oe;Uv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,Q={};function q(O,ie,le){this.props=O,this.context=ie,this.refs=Q,this.updater=le||P}q.prototype.isReactComponent={},q.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function se(O,ie,le){this.props=O,this.context=ie,this.refs=Q,this.updater=le||P}var ne=se.prototype=new Y;ne.constructor=se,M(ne,q.prototype),ne.isPureReactComponent=!0;var ge=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function x(O,ie,le,re,me,Me){return le=Me.ref,{$$typeof:i,type:O,key:ie,ref:le!==void 0?le:null,props:Me}}function S(O,ie){return x(O.type,ie,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function D(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return ie[le]})}var V=/\/+/g;function L(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):ie.toString(36)}function N(){}function At(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function rt(O,ie,le,re,me){var Me=typeof O;(Me==="undefined"||Me==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Me){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case E:return we=O._init,rt(we(O._payload),ie,le,re,me)}}if(we)return me=me(O),we=re===""?"."+L(O,0):re,ge(me)?(le="",we!=null&&(le=we.replace(V,"$&/")+"/"),rt(me,ie,le,"",function(yn){return yn})):me!=null&&(I(me)&&(me=S(me,le+(me.key==null||O&&O.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+we)),ie.push(me)),1;we=0;var pt=re===""?".":re+":";if(ge(O))for(var Je=0;Je<O.length;Je++)re=O[Je],Me=pt+L(re,Je),we+=rt(re,ie,le,Me,me);else if(Je=R(O),typeof Je=="function")for(O=Je.call(O),Je=0;!(re=O.next()).done;)re=re.value,Me=pt+L(re,Je++),we+=rt(re,ie,le,Me,me);else if(Me==="object"){if(typeof O.then=="function")return rt(At(O),ie,le,re,me);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(O,ie,le){if(O==null)return O;var re=[],me=0;return rt(O,re,"","",function(Me){return ie.call(le,Me,me++)}),re}function oe(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var ye=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Le(){}return Oe.Children={map:X,forEach:function(O,ie,le){X(O,function(){ie.apply(this,arguments)},le)},count:function(O){var ie=0;return X(O,function(){ie++}),ie},toArray:function(O){return X(O,function(ie){return ie})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Oe.Component=q,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=se,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return he.H.useMemoCache(O)}},Oe.cache=function(O){return function(){return O.apply(null,arguments)}},Oe.cloneElement=function(O,ie,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=M({},O.props),me=O.key,Me=void 0;if(ie!=null)for(we in ie.ref!==void 0&&(Me=void 0),ie.key!==void 0&&(me=""+ie.key),ie)!fe.call(ie,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ie.ref===void 0||(re[we]=ie[we]);var we=arguments.length-2;if(we===1)re.children=le;else if(1<we){for(var pt=Array(we),Je=0;Je<we;Je++)pt[Je]=arguments[Je+2];re.children=pt}return x(O.type,me,void 0,void 0,Me,re)},Oe.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Oe.createElement=function(O,ie,le){var re,me={},Me=null;if(ie!=null)for(re in ie.key!==void 0&&(Me=""+ie.key),ie)fe.call(ie,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=ie[re]);var we=arguments.length-2;if(we===1)me.children=le;else if(1<we){for(var pt=Array(we),Je=0;Je<we;Je++)pt[Je]=arguments[Je+2];me.children=pt}if(O&&O.defaultProps)for(re in we=O.defaultProps,we)me[re]===void 0&&(me[re]=we[re]);return x(O,Me,void 0,void 0,null,me)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:m,render:O}},Oe.isValidElement=I,Oe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:oe}},Oe.memo=function(O,ie){return{$$typeof:g,type:O,compare:ie===void 0?null:ie}},Oe.startTransition=function(O){var ie=he.T,le={};he.T=le;try{var re=O(),me=he.S;me!==null&&me(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Le,ye)}catch(Me){ye(Me)}finally{he.T=ie}},Oe.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Oe.use=function(O){return he.H.use(O)},Oe.useActionState=function(O,ie,le){return he.H.useActionState(O,ie,le)},Oe.useCallback=function(O,ie){return he.H.useCallback(O,ie)},Oe.useContext=function(O){return he.H.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O,ie){return he.H.useDeferredValue(O,ie)},Oe.useEffect=function(O,ie,le){var re=he.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(O,ie)},Oe.useId=function(){return he.H.useId()},Oe.useImperativeHandle=function(O,ie,le){return he.H.useImperativeHandle(O,ie,le)},Oe.useInsertionEffect=function(O,ie){return he.H.useInsertionEffect(O,ie)},Oe.useLayoutEffect=function(O,ie){return he.H.useLayoutEffect(O,ie)},Oe.useMemo=function(O,ie){return he.H.useMemo(O,ie)},Oe.useOptimistic=function(O,ie){return he.H.useOptimistic(O,ie)},Oe.useReducer=function(O,ie,le){return he.H.useReducer(O,ie,le)},Oe.useRef=function(O){return he.H.useRef(O)},Oe.useState=function(O){return he.H.useState(O)},Oe.useSyncExternalStore=function(O,ie,le){return he.H.useSyncExternalStore(O,ie,le)},Oe.useTransition=function(){return he.H.useTransition()},Oe.version="19.1.0",Oe}var jv;function gp(){return jv||(jv=1,gm.exports=OA()),gm.exports}var U=gp();const ss=zE(U);var ym={exports:{}},ql={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function MA(){return zv||(zv=1,function(i){function e(X,oe){var ye=X.length;X.push(oe);e:for(;0<ye;){var Le=ye-1>>>1,O=X[Le];if(0<o(O,oe))X[Le]=oe,X[ye]=O,ye=Le;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],ye=X.pop();if(ye!==oe){X[0]=ye;e:for(var Le=0,O=X.length,ie=O>>>1;Le<ie;){var le=2*(Le+1)-1,re=X[le],me=le+1,Me=X[me];if(0>o(re,ye))me<O&&0>o(Me,re)?(X[Le]=Me,X[me]=ye,Le=me):(X[Le]=re,X[le]=ye,Le=le);else if(me<O&&0>o(Me,ye))X[Le]=Me,X[me]=ye,Le=me;else break e}}return oe}function o(X,oe){var ye=X.sortIndex-oe.sortIndex;return ye!==0?ye:X.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,b=null,R=3,P=!1,M=!1,Q=!1,q=!1,Y=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ge(X){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=X)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function he(X){if(Q=!1,ge(X),!M)if(n(p)!==null)M=!0,fe||(fe=!0,L());else{var oe=n(g);oe!==null&&rt(he,oe.startTime-X)}}var fe=!1,x=-1,S=5,I=-1;function D(){return q?!0:!(i.unstable_now()-I<S)}function V(){if(q=!1,fe){var X=i.unstable_now();I=X;var oe=!0;try{e:{M=!1,Q&&(Q=!1,se(x),x=-1),P=!0;var ye=R;try{t:{for(ge(X),b=n(p);b!==null&&!(b.expirationTime>X&&D());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,R=b.priorityLevel;var O=Le(b.expirationTime<=X);if(X=i.unstable_now(),typeof O=="function"){b.callback=O,ge(X),oe=!0;break t}b===n(p)&&s(p),ge(X)}else s(p);b=n(p)}if(b!==null)oe=!0;else{var ie=n(g);ie!==null&&rt(he,ie.startTime-X),oe=!1}}break e}finally{b=null,R=ye,P=!1}oe=void 0}}finally{oe?L():fe=!1}}}var L;if(typeof ne=="function")L=function(){ne(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,At=N.port2;N.port1.onmessage=V,L=function(){At.postMessage(null)}}else L=function(){Y(V,0)};function rt(X,oe){x=Y(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_next=function(X){switch(R){case 1:case 2:case 3:var oe=3;break;default:oe=R}var ye=R;R=oe;try{return X()}finally{R=ye}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ye=R;R=X;try{return oe()}finally{R=ye}},i.unstable_scheduleCallback=function(X,oe,ye){var Le=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Le+ye:Le):ye=Le,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ye+O,X={id:E++,callback:oe,priorityLevel:X,startTime:ye,expirationTime:O,sortIndex:-1},ye>Le?(X.sortIndex=ye,e(g,X),n(p)===null&&X===n(g)&&(Q?(se(x),x=-1):Q=!0,rt(he,ye-Le))):(X.sortIndex=O,e(p,X),M||P||(M=!0,fe||(fe=!0,L()))),X},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(X){var oe=R;return function(){var ye=R;R=oe;try{return X.apply(this,arguments)}finally{R=ye}}}}(vm)),vm}var Bv;function VA(){return Bv||(Bv=1,_m.exports=MA()),_m.exports}var Em={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function PA(){if(qv)return sn;qv=1;var i=gp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},sn.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},sn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},sn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,g){return p(g)},sn.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},sn.useFormStatus=function(){return f.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var Hv;function BE(){if(Hv)return Em.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Em.exports=PA(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function kA(){if(Fv)return ql;Fv=1;var i=VA(),e=gp(),n=BE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function At(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case q:return"Profiler";case Q:return"StrictMode";case he:return"Suspense";case fe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case ge:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:At(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return At(t(r))}catch{}}return null}var rt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Le=[],O=-1;function ie(t){return{current:t}}function le(t){0>O||(t.current=Le[O],Le[O]=null,O--)}function re(t,r){O++,Le[O]=t.current,t.current=r}var me=ie(null),Me=ie(null),we=ie(null),pt=ie(null);function Je(t,r){switch(re(we,r),re(Me,t),re(me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?cv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=cv(r),t=hv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(me),re(me,t)}function yn(){le(me),le(Me),le(we)}function ti(t){t.memoizedState!==null&&re(pt,t);var r=me.current,a=hv(r,t.type);r!==a&&(re(Me,t),re(me,a))}function Rn(t){Me.current===t&&(le(me),le(Me)),pt.current===t&&(le(pt),kl._currentValue=ye)}var mi=Object.prototype.hasOwnProperty,pi=i.unstable_scheduleCallback,gi=i.unstable_cancelCallback,Sr=i.unstable_shouldYield,_a=i.unstable_requestPaint,cn=i.unstable_now,jo=i.unstable_getCurrentPriorityLevel,Rs=i.unstable_ImmediatePriority,Ar=i.unstable_UserBlockingPriority,Fi=i.unstable_NormalPriority,zo=i.unstable_LowPriority,Rr=i.unstable_IdlePriority,Is=i.log,va=i.unstable_setDisableYieldValue,ut=null,$e=null;function hn(t){if(typeof Is=="function"&&va(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ut,t)}catch{}}var Bt=Math.clz32?Math.clz32:Gi,Ea=Math.log,Ta=Math.LN2;function Gi(t){return t>>>=0,t===0?32:31-(Ea(t)/Ta|0)|0}var yi=256,_i=4194304;function In(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function F(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=In(l):(v&=T,v!==0?h=In(v):a||(a=T&~t,a!==0&&(h=In(a))))):(T=l&~d,T!==0?h=In(T):v!==0?h=In(v):a||(a=l&~t,a!==0&&(h=In(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ue(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Te(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Se(){var t=yi;return yi<<=1,(yi&4194048)===0&&(yi=256),t}function ve(){var t=_i;return _i<<=1,(_i&62914560)===0&&(_i=4194304),t}function xe(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function _t(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _n(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Bt(a),J=1<<W;T[W]=0,C[W]=-1;var G=H[W];if(G!==null)for(H[W]=null,W=0;W<G.length;W++){var K=G[W];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&Rt(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Rt(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Bt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function nn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Bt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function vn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Cn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function at(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Dv(t.type))}function vt(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var ct=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ct,It="__reactProps$"+ct,jn="__reactContainer$"+ct,Bo="__reactEvents$"+ct,_f="__reactListeners$"+ct,Ir="__reactHandles$"+ct,Mu="__reactResources$"+ct,Cs="__reactMarker$"+ct;function Cr(t){delete t[Mt],delete t[It],delete t[Bo],delete t[_f],delete t[Ir]}function Ki(t){var r=t[Mt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[jn]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=pv(t);t!==null;){if(a=t[Mt])return a;t=pv(t)}return r}t=a,a=t.parentNode}return null}function vi(t){if(t=t[Mt]||t[jn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Ei(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function fn(t){var r=t[Mu];return r||(r=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(t){t[Cs]=!0}var qo=new Set,wa={};function ni(t,r){$i(t,r),$i(t+"Capture",r)}function $i(t,r){for(wa[t]=r,t=0;t<r.length;t++)qo.add(r[t])}var Vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},Ns={};function ku(t){return mi.call(Ns,t)?!0:mi.call(Pu,t)?!1:Vu.test(t)?Ns[t]=!0:(Pu[t]=!0,!1)}function Nr(t,r,a){if(ku(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Ti(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Qt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Ds,Lu;function Qi(t){if(Ds===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ds=r&&r[1]||"",Lu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ds+t+Lu}var ba=!1;function Sa(t,r){if(!t||ba)return"";ba=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var G=K}Reflect.construct(t,[],J)}else{try{J.call()}catch(K){G=K}t.call(J.prototype)}}else{try{throw Error()}catch(K){G=K}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),H=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===H.length)for(l=C.length-1,h=H.length-1;1<=l&&0<=h&&C[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==H[h]){var W=`
`+C[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{ba=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Qi(a):""}function Ho(t){switch(t.tag){case 26:case 27:case 5:return Qi(t.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Sa(t.type,!1);case 11:return Sa(t.type.render,!1);case 1:return Sa(t.type,!0);case 31:return Qi("Activity");default:return""}}function Aa(t){try{var r="";do r+=Ho(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vf(t){var r=Fo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ra(t){t._valueTracker||(t._valueTracker=vf(t))}function Go(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Fo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function xs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ef=/[\n"\\]/g;function Ct(t){return t.replace(Ef,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Nn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+dn(r)):t.value!==""+dn(r)&&(t.value=""+dn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?Dr(t,v,dn(r)):a!=null?Dr(t,v,dn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+dn(T):t.removeAttribute("name")}function Os(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+dn(a):"",r=r!=null?""+dn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Dr(t,r,a){r==="number"&&xs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Yi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+dn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function et(t,r,a){if(r!=null&&(r=""+dn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+dn(a):""}function Ms(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=dn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function zn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Vs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Ko(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Uu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Uu(t,d,r[d])}function $o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return wf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Xi=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wi=null,Zi=null;function Qo(t){var r=vi(t);if(r&&(t=r.stateNode)){var a=t[It]||null;e:switch(t=r.stateNode,r.type){case"input":if(Nn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ct(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[It]||null;if(!h)throw Error(s(90));Nn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Go(l)}break e;case"textarea":et(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Yi(t,!!a.multiple,r,!1)}}}var wi=!1;function ju(t,r,a){if(wi)return t(r,a);wi=!0;try{var l=t(r);return l}finally{if(wi=!1,(Wi!==null||Zi!==null)&&(Oc(),Wi&&(r=Wi,t=Zi,Zi=Wi=null,Qo(r),t)))for(r=0;r<t.length;r++)Qo(t[r])}}function Ps(t,r){var a=t.stateNode;if(a===null)return null;var l=a[It]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(ii)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){qn=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{qn=!1}var bi=null,xr=null,Ji=null;function Yo(){if(Ji)return Ji;var t,r=xr,a=r.length,l,h="value"in bi?bi.value:bi.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Ji=h.slice(t,1<l?1-l:void 0)}function Si(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ai(){return!0}function Xo(){return!1}function qt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ai:Xo,this.isPropagationStopped=Xo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=qt(Ye),Ls=E({},Ye,{view:0,detail:0}),zu=qt(Ls),Na,Da,Ri,Us=E({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Na=t.screenX-Ri.screenX,Da=t.screenY-Ri.screenY):Da=Na=0,Ri=t),Na)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),Hn=qt(Us),Bu=E({},Us,{dataTransfer:0}),bf=qt(Bu),js=E({},Ls,{relatedTarget:0}),xa=qt(js),Wo=E({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=qt(Wo),qu=E({},Ye,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=qt(qu),Sf=E({},Ye,{data:0}),Zo=qt(Sf),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Fu[t])?!!r[t]:!1}function Bs(){return Jo}var Gu=E({},Ls,{key:function(t){if(t.key){var r=zs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(t){return t.type==="keypress"?Si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Va=qt(Gu),Ku=E({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=qt(Ku),er=E({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),$u=qt(er),Qu=E({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yu=qt(Qu),Xu=E({},Us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=qt(Xu),mn=E({},Ye,{newState:0,oldState:0}),Wu=qt(mn),Zu=[9,13,27,32],Ii=ii&&"CompositionEvent"in window,c=null;ii&&"documentMode"in document&&(c=document.documentMode);var y=ii&&"TextEvent"in window&&!c,_=ii&&(!Ii||c&&8<c&&11>=c),w=" ",z=!1;function $(t,r){switch(t){case"keyup":return Zu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qe=!1;function Vt(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(z=!0,w);case"textInput":return t=r.data,t===w&&z?null:t;default:return null}}function He(t,r){if(qe)return t==="compositionend"||!Ii&&$(t,r)?(t=Yo(),Ji=xr=bi=null,qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ht[t.type]:r==="textarea"}function tr(t,r,a,l){Wi?Zi?Zi.push(l):Zi=[l]:Wi=l,r=Uc(r,"onChange"),0<r.length&&(a=new Ca("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Yt=null,Ci=null;function tl(t){sv(t,0)}function Ju(t){var r=Ei(t);if(Go(r))return t}function Rg(t,r){if(t==="change")return r}var Ig=!1;if(ii){var Af;if(ii){var Rf="oninput"in document;if(!Rf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Rf=typeof Cg.oninput=="function"}Af=Rf}else Af=!1;Ig=Af&&(!document.documentMode||9<document.documentMode)}function Ng(){Yt&&(Yt.detachEvent("onpropertychange",Dg),Ci=Yt=null)}function Dg(t){if(t.propertyName==="value"&&Ju(Ci)){var r=[];tr(r,Ci,t,Bn(t)),ju(tl,r)}}function aS(t,r,a){t==="focusin"?(Ng(),Yt=r,Ci=a,Yt.attachEvent("onpropertychange",Dg)):t==="focusout"&&Ng()}function oS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ju(Ci)}function lS(t,r){if(t==="click")return Ju(r)}function uS(t,r){if(t==="input"||t==="change")return Ju(r)}function cS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Dn=typeof Object.is=="function"?Object.is:cS;function nl(t,r){if(Dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!mi.call(r,h)||!Dn(t[h],r[h]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,r){var a=xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xg(a)}}function Mg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Mg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=xs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=xs(t.document)}return r}function If(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var hS=ii&&"documentMode"in document&&11>=document.documentMode,ka=null,Cf=null,il=null,Nf=!1;function Pg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nf||ka==null||ka!==xs(l)||(l=ka,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Uc(Cf,"onSelect"),0<l.length&&(r=new Ca("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ka)))}function qs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var La={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Df={},kg={};ii&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Hs(t){if(Df[t])return Df[t];if(!La[t])return t;var r=La[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in kg)return Df[t]=r[a];return t}var Lg=Hs("animationend"),Ug=Hs("animationiteration"),jg=Hs("animationstart"),fS=Hs("transitionrun"),dS=Hs("transitionstart"),mS=Hs("transitioncancel"),zg=Hs("transitionend"),Bg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function ri(t,r){Bg.set(t,r),ni(r,[t])}var qg=new WeakMap;function Fn(t,r){if(typeof t=="object"&&t!==null){var a=qg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Aa(r)},qg.set(t,r),r)}return{value:t,source:r,stack:Aa(r)}}var Gn=[],Ua=0,Of=0;function ec(){for(var t=Ua,r=Of=Ua=0;r<t;){var a=Gn[r];Gn[r++]=null;var l=Gn[r];Gn[r++]=null;var h=Gn[r];Gn[r++]=null;var d=Gn[r];if(Gn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Hg(a,h,d)}}function tc(t,r,a,l){Gn[Ua++]=t,Gn[Ua++]=r,Gn[Ua++]=a,Gn[Ua++]=l,Of|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mf(t,r,a,l){return tc(t,r,a,l),nc(t)}function ja(t,r){return tc(t,null,null,r),nc(t)}function Hg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Bt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function nc(t){if(50<Cl)throw Cl=0,jd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var za={};function pS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,r,a,l){return new pS(t,r,a,l)}function Vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nr(t,r){var a=t.alternate;return a===null?(a=xn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ic(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Vf(t)&&(v=1);else if(typeof t=="string")v=yA(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=xn(31,a,r,h),t.elementType=I,t.lanes=d,t;case M:return Fs(a.children,h,d,r);case Q:v=8,h|=24;break;case q:return t=xn(12,a,r,h|2),t.elementType=q,t.lanes=d,t;case he:return t=xn(13,a,r,h),t.elementType=he,t.lanes=d,t;case fe:return t=xn(19,a,r,h),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case ne:v=10;break e;case se:v=9;break e;case ge:v=11;break e;case x:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=xn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Fs(t,r,a,l){return t=xn(7,t,l,r),t.lanes=a,t}function Pf(t,r,a){return t=xn(6,t,null,r),t.lanes=a,t}function kf(t,r,a){return r=xn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ba=[],qa=0,rc=null,sc=0,Kn=[],$n=0,Gs=null,ir=1,rr="";function Ks(t,r){Ba[qa++]=sc,Ba[qa++]=rc,rc=t,sc=r}function Gg(t,r,a){Kn[$n++]=ir,Kn[$n++]=rr,Kn[$n++]=Gs,Gs=t;var l=ir;t=rr;var h=32-Bt(l)-1;l&=~(1<<h),a+=1;var d=32-Bt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ir=1<<32-Bt(r)+h|a<<h|l,rr=d+t}else ir=1<<d|a<<h|l,rr=t}function Lf(t){t.return!==null&&(Ks(t,1),Gg(t,1,0))}function Uf(t){for(;t===rc;)rc=Ba[--qa],Ba[qa]=null,sc=Ba[--qa],Ba[qa]=null;for(;t===Gs;)Gs=Kn[--$n],Kn[$n]=null,rr=Kn[--$n],Kn[$n]=null,ir=Kn[--$n],Kn[$n]=null}var pn=null,gt=null,Qe=!1,$s=null,Ni=!1,jf=Error(s(519));function Qs(t){var r=Error(s(418,""));throw al(Fn(r,t)),jf}function Kg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Mt]=t,r[It]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Dl.length;a++)je(Dl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Os(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Ms(r,l.value,l.defaultValue,l.children),Ra(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||uv(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=jc),r=!0):r=!1,r||Qs(t)}function $g(t){for(pn=t.return;pn;)switch(pn.tag){case 5:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:pn=pn.return}}function rl(t){if(t!==pn)return!1;if(!Qe)return $g(t),Qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&gt&&Qs(t),$g(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){gt=ai(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}gt=null}}else r===27?(r=gt,$r(t.type)?(t=sm,sm=null,gt=t):gt=r):gt=pn?ai(t.stateNode.nextSibling):null;return!0}function sl(){gt=pn=null,Qe=!1}function Qg(){var t=$s;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),$s=null),t}function al(t){$s===null?$s=[t]:$s.push(t)}var zf=ie(null),Ys=null,sr=null;function Or(t,r,a){re(zf,r._currentValue),r._currentValue=a}function ar(t){t._currentValue=zf.current,le(zf)}function Bf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function qf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Bf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Bf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ol(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;Dn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===pt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&qf(r,t,a,l),r.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Xs(t){Ys=t,sr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return Yg(Ys,t)}function oc(t,r){return Ys===null&&Xs(t),Yg(t,r)}function Yg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},sr===null){if(t===null)throw Error(s(308));sr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else sr=sr.next=r;return a}var gS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},yS=i.unstable_scheduleCallback,_S=i.unstable_NormalPriority,kt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new gS,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&yS(_S,function(){t.controller.abort()})}var ul=null,Ff=0,Ha=0,Fa=null;function vS(t,r){if(ul===null){var a=ul=[];Ff=0,Ha=Kd(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ff++,r.then(Xg,Xg),r}function Xg(){if(--Ff===0&&ul!==null){Fa!==null&&(Fa.status="fulfilled");var t=ul;ul=null,Ha=0,Fa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ES(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Wg=X.S;X.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&vS(t,r),Wg!==null&&Wg(t,r)};var Ws=ie(null);function Gf(){var t=Ws.current;return t!==null?t:ot.pooledCache}function lc(t,r){r===null?re(Ws,Ws.current):re(Ws,r.pool)}function Zg(){var t=Gf();return t===null?null:{parent:kt._currentValue,pool:t}}var cl=Error(s(460)),Jg=Error(s(474)),uc=Error(s(542)),Kf={then:function(){}};function ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cc(){}function ty(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(cc,cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,iy(t),t;default:if(typeof r.status=="string")r.then(cc,cc);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,iy(t),t}throw hl=r,cl}}var hl=null;function ny(){if(hl===null)throw Error(s(459));var t=hl;return hl=null,t}function iy(t){if(t===cl||t===uc)throw Error(s(483))}var Mr=!1;function $f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=nc(t),Hg(t,null,a),r}return tc(t,l,r,a),nc(t)}function fl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,nn(t,a)}}function Yf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Xf=!1;function dl(){if(Xf){var t=Fa;if(t!==null)throw t}}function ml(t,r,a,l){Xf=!1;var h=t.updateQueue;Mr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,H=C.next;C.next=null,v===null?d=H:v.next=H,v=C;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=H:T.next=H,W.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;v=0,W=H=C=null,T=d;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?(Fe&G)===G:(l&G)===G){G!==0&&G===Ha&&(Xf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ie=t,be=T;G=r;var it=a;switch(be.tag){case 1:if(Ie=be.payload,typeof Ie=="function"){J=Ie.call(it,J,G);break e}J=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=be.payload,G=typeof Ie=="function"?Ie.call(it,J,G):Ie,G==null)break e;J=E({},J,G);break e;case 2:Mr=!0}}G=T.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(H=W=K,C=J):W=W.next=K,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);W===null&&(C=J),h.baseState=C,h.firstBaseUpdate=H,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Hr|=v,t.lanes=v,t.memoizedState=J}}function ry(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function sy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ry(a[t],r)}var Ga=ie(null),hc=ie(0);function ay(t,r){t=dr,re(hc,t),re(Ga,r),dr=t|r.baseLanes}function Wf(){re(hc,dr),re(Ga,Ga.current)}function Zf(){dr=hc.current,le(Ga),le(hc)}var kr=0,Ve=null,tt=null,Nt=null,fc=!1,Ka=!1,Zs=!1,dc=0,pl=0,$a=null,TS=0;function Tt(){throw Error(s(321))}function Jf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Dn(t[a],r[a]))return!1;return!0}function ed(t,r,a,l,h,d){return kr=d,Ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?Hy:Fy,Zs=!1,d=a(l,h),Zs=!1,Ka&&(d=ly(r,a,l,h)),oy(t),d}function oy(t){X.H=vc;var r=tt!==null&&tt.next!==null;if(kr=0,Nt=tt=Ve=null,fc=!1,pl=0,$a=null,r)throw Error(s(300));t===null||Ft||(t=t.dependencies,t!==null&&ac(t)&&(Ft=!0))}function ly(t,r,a,l){Ve=t;var h=0;do{if(Ka&&($a=null),pl=0,Ka=!1,25<=h)throw Error(s(301));if(h+=1,Nt=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=CS,d=r(a,l)}while(Ka);return d}function wS(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?gl(r):r,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ve.flags|=1024),r}function td(){var t=dc!==0;return dc=0,t}function nd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function id(t){if(fc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}fc=!1}kr=0,Nt=tt=Ve=null,Ka=!1,pl=dc=0,$a=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Ve.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Dt(){if(tt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var r=Nt===null?Ve.memoizedState:Nt.next;if(r!==null)Nt=r,tt=t;else{if(t===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?Ve.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var r=pl;return pl+=1,$a===null&&($a=[]),t=ty($a,t,r),r=Ve,(Nt===null?r.memoizedState:Nt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Hy:Fy),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ne)return rn(t)}throw Error(s(438,String(t)))}function sd(t){var r=null,a=Ve.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=rd(),Ve.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=D;return r.index++,a}function or(t,r){return typeof r=="function"?r(t):r}function pc(t){var r=Dt();return ad(r,tt,t)}function ad(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,C=null,H=r,W=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Fe&J)===J:(kr&J)===J){var G=H.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Ha&&(W=!0);else if((kr&G)===G){H=H.next,G===Ha&&(W=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=J,v=d):C=C.next=J,Ve.lanes|=G,Hr|=G;J=H.action,Zs&&a(d,J),d=H.hasEagerState?H.eagerState:a(d,J)}else G={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=G,v=d):C=C.next=G,Ve.lanes|=J,Hr|=J;H=H.next}while(H!==null&&H!==r);if(C===null?v=d:C.next=T,!Dn(d,t.memoizedState)&&(Ft=!0,W&&(a=Fa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function od(t){var r=Dt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Dn(d,r.memoizedState)||(Ft=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function uy(t,r,a){var l=Ve,h=Dt(),d=Qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Dn((tt||h).memoizedState,a);v&&(h.memoizedState=a,Ft=!0),h=h.queue;var T=fy.bind(null,l,h,t);if(yl(2048,8,T,[t]),h.getSnapshot!==r||v||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Qa(9,gc(),hy.bind(null,l,h,a,r),null),ot===null)throw Error(s(349));d||(kr&124)!==0||cy(l,r,a)}return a}function cy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ve.updateQueue,r===null?(r=rd(),Ve.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function hy(t,r,a,l){r.value=a,r.getSnapshot=l,dy(r)&&my(t)}function fy(t,r,a){return a(function(){dy(r)&&my(t)})}function dy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Dn(t,a)}catch{return!0}}function my(t){var r=ja(t,2);r!==null&&kn(r,t,2)}function ld(t){var r=En();if(typeof t=="function"){var a=t;if(t=a(),Zs){hn(!0);try{a()}finally{hn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:t},r}function py(t,r,a,l){return t.baseState=a,ad(t,tt,typeof l=="function"?l:or)}function bS(t,r,a,l,h){if(_c(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,gy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function gy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=X.T,v={};X.T=v;try{var T=a(h,l),C=X.S;C!==null&&C(v,T),yy(t,r,T)}catch(H){ud(t,r,H)}finally{X.T=d}}else try{d=a(h,l),yy(t,r,d)}catch(H){ud(t,r,H)}}function yy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(t,r,l)},function(l){return ud(t,r,l)}):_y(t,r,a)}function _y(t,r,a){r.status="fulfilled",r.value=a,vy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,gy(t,a)))}function ud(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,vy(r),r=r.next;while(r!==l)}t.action=null}function vy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ey(t,r){return r}function Ty(t,r){if(Qe){var a=ot.formState;if(a!==null){e:{var l=Ve;if(Qe){if(gt){t:{for(var h=gt,d=Ni;h.nodeType!==8;){if(!d){h=null;break t}if(h=ai(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){gt=ai(h.nextSibling),l=h.data==="F!";break e}}Qs(l)}l=!1}l&&(r=a[0])}}return a=En(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:r},a.queue=l,a=zy.bind(null,Ve,l),l.dispatch=a,l=ld(!1),d=md.bind(null,Ve,!1,l.queue),l=En(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=bS.bind(null,Ve,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function wy(t){var r=Dt();return by(r,tt,t)}function by(t,r,a){if(r=ad(t,r,Ey)[0],t=pc(or)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=gl(r)}catch(v){throw v===cl?uc:v}else l=r;r=Dt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ve.flags|=2048,Qa(9,gc(),SS.bind(null,h,a),null)),[l,d,t]}function SS(t,r){t.action=r}function Sy(t){var r=Dt(),a=tt;if(a!==null)return by(r,a,t);Dt(),r=r.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Qa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ve.updateQueue,r===null&&(r=rd(),Ve.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function gc(){return{destroy:void 0,resource:void 0}}function Ay(){return Dt().memoizedState}function yc(t,r,a,l){var h=En();l=l===void 0?null:l,Ve.flags|=t,h.memoizedState=Qa(1|r,gc(),a,l)}function yl(t,r,a,l){var h=Dt();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&Jf(l,tt.memoizedState.deps)?h.memoizedState=Qa(r,d,a,l):(Ve.flags|=t,h.memoizedState=Qa(1|r,d,a,l))}function Ry(t,r){yc(8390656,8,t,r)}function Iy(t,r){yl(2048,8,t,r)}function Cy(t,r){return yl(4,2,t,r)}function Ny(t,r){return yl(4,4,t,r)}function Dy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function xy(t,r,a){a=a!=null?a.concat([t]):null,yl(4,4,Dy.bind(null,r,t),a)}function cd(){}function Oy(t,r){var a=Dt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Jf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function My(t,r){var a=Dt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Jf(r,l[1]))return l[0];if(l=t(),Zs){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,r],l}function hd(t,r,a){return a===void 0||(kr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=k_(),Ve.lanes|=t,Hr|=t,a)}function Vy(t,r,a,l){return Dn(a,r)?a:Ga.current!==null?(t=hd(t,a,l),Dn(t,r)||(Ft=!0),t):(kr&42)===0?(Ft=!0,t.memoizedState=a):(t=k_(),Ve.lanes|=t,Hr|=t,r)}function Py(t,r,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,md(t,!1,r,a);try{var C=h(),H=X.S;if(H!==null&&H(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=ES(C,l);_l(t,r,W,Pn(t))}else _l(t,r,l,Pn(t))}catch(J){_l(t,r,{then:function(){},status:"rejected",reason:J},Pn())}finally{oe.p=d,X.T=v}}function AS(){}function fd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=ky(t).queue;Py(t,h,r,ye,a===null?AS:function(){return Ly(t),a(l)})}function ky(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Ly(t){var r=ky(t).next.queue;_l(t,r,{},Pn())}function dd(){return rn(kl)}function Uy(){return Dt().memoizedState}function jy(){return Dt().memoizedState}function RS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Pn();t=Vr(a);var l=Pr(r,t,a);l!==null&&(kn(l,r,a),fl(l,r,a)),r={cache:Hf()},t.payload=r;return}r=r.return}}function IS(t,r,a){var l=Pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?By(r,a):(a=Mf(t,r,a,l),a!==null&&(kn(a,t,l),qy(a,r,l)))}function zy(t,r,a){var l=Pn();_l(t,r,a,l)}function _l(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))By(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,Dn(T,v))return tc(t,r,h,0),ot===null&&ec(),!1}catch{}finally{}if(a=Mf(t,r,h,l),a!==null)return kn(a,t,l),qy(a,r,l),!0}return!1}function md(t,r,a,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(r)throw Error(s(479))}else r=Mf(t,a,l,2),r!==null&&kn(r,t,2)}function _c(t){var r=t.alternate;return t===Ve||r!==null&&r===Ve}function By(t,r){Ka=fc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function qy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,nn(t,a)}}var vc={readContext:rn,use:mc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Hy={readContext:rn,use:mc,useCallback:function(t,r){return En().memoizedState=[t,r===void 0?null:r],t},useContext:rn,useEffect:Ry,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,yc(4194308,4,Dy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return yc(4194308,4,t,r)},useInsertionEffect:function(t,r){yc(4,2,t,r)},useMemo:function(t,r){var a=En();r=r===void 0?null:r;var l=t();if(Zs){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=En();if(a!==void 0){var h=a(r);if(Zs){hn(!0);try{a(r)}finally{hn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=IS.bind(null,Ve,t),[l.memoizedState,t]},useRef:function(t){var r=En();return t={current:t},r.memoizedState=t},useState:function(t){t=ld(t);var r=t.queue,a=zy.bind(null,Ve,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(t,r){var a=En();return hd(a,t,r)},useTransition:function(){var t=ld(!1);return t=Py.bind(null,Ve,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ve,h=En();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));(Fe&124)!==0||cy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Ry(fy.bind(null,l,d,t),[t]),l.flags|=2048,Qa(9,gc(),hy.bind(null,l,d,a,r),null),a},useId:function(){var t=En(),r=ot.identifierPrefix;if(Qe){var a=rr,l=ir;a=(l&~(1<<32-Bt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=dc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=TS++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:dd,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var r=En();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=md.bind(null,Ve,!0,a),a.dispatch=r,[t,r]},useMemoCache:sd,useCacheRefresh:function(){return En().memoizedState=RS.bind(null,Ve)}},Fy={readContext:rn,use:mc,useCallback:Oy,useContext:rn,useEffect:Iy,useImperativeHandle:xy,useInsertionEffect:Cy,useLayoutEffect:Ny,useMemo:My,useReducer:pc,useRef:Ay,useState:function(){return pc(or)},useDebugValue:cd,useDeferredValue:function(t,r){var a=Dt();return Vy(a,tt.memoizedState,t,r)},useTransition:function(){var t=pc(or)[0],r=Dt().memoizedState;return[typeof t=="boolean"?t:gl(t),r]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:dd,useFormState:wy,useActionState:wy,useOptimistic:function(t,r){var a=Dt();return py(a,tt,t,r)},useMemoCache:sd,useCacheRefresh:jy},CS={readContext:rn,use:mc,useCallback:Oy,useContext:rn,useEffect:Iy,useImperativeHandle:xy,useInsertionEffect:Cy,useLayoutEffect:Ny,useMemo:My,useReducer:od,useRef:Ay,useState:function(){return od(or)},useDebugValue:cd,useDeferredValue:function(t,r){var a=Dt();return tt===null?hd(a,t,r):Vy(a,tt.memoizedState,t,r)},useTransition:function(){var t=od(or)[0],r=Dt().memoizedState;return[typeof t=="boolean"?t:gl(t),r]},useSyncExternalStore:uy,useId:Uy,useHostTransitionStatus:dd,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,r){var a=Dt();return tt!==null?py(a,tt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:jy},Ya=null,vl=0;function Ec(t){var r=vl;return vl+=1,Ya===null&&(Ya=[]),ty(Ya,t,r)}function El(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Tc(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Gy(t){var r=t._init;return r(t._payload)}function Ky(t){function r(j,k){if(t){var B=j.deletions;B===null?(j.deletions=[k],j.flags|=16):B.push(k)}}function a(j,k){if(!t)return null;for(;k!==null;)r(j,k),k=k.sibling;return null}function l(j){for(var k=new Map;j!==null;)j.key!==null?k.set(j.key,j):k.set(j.index,j),j=j.sibling;return k}function h(j,k){return j=nr(j,k),j.index=0,j.sibling=null,j}function d(j,k,B){return j.index=B,t?(B=j.alternate,B!==null?(B=B.index,B<k?(j.flags|=67108866,k):B):(j.flags|=67108866,k)):(j.flags|=1048576,k)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function T(j,k,B,Z){return k===null||k.tag!==6?(k=Pf(B,j.mode,Z),k.return=j,k):(k=h(k,B),k.return=j,k)}function C(j,k,B,Z){var pe=B.type;return pe===M?W(j,k,B.props.children,Z,B.key):k!==null&&(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Gy(pe)===k.type)?(k=h(k,B.props),El(k,B),k.return=j,k):(k=ic(B.type,B.key,B.props,null,j.mode,Z),El(k,B),k.return=j,k)}function H(j,k,B,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=kf(B,j.mode,Z),k.return=j,k):(k=h(k,B.children||[]),k.return=j,k)}function W(j,k,B,Z,pe){return k===null||k.tag!==7?(k=Fs(B,j.mode,Z,pe),k.return=j,k):(k=h(k,B),k.return=j,k)}function J(j,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Pf(""+k,j.mode,B),k.return=j,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R:return B=ic(k.type,k.key,k.props,null,j.mode,B),El(B,k),B.return=j,B;case P:return k=kf(k,j.mode,B),k.return=j,k;case S:var Z=k._init;return k=Z(k._payload),J(j,k,B)}if(rt(k)||L(k))return k=Fs(k,j.mode,B,null),k.return=j,k;if(typeof k.then=="function")return J(j,Ec(k),B);if(k.$$typeof===ne)return J(j,oc(j,k),B);Tc(j,k)}return null}function G(j,k,B,Z){var pe=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return pe!==null?null:T(j,k,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return B.key===pe?C(j,k,B,Z):null;case P:return B.key===pe?H(j,k,B,Z):null;case S:return pe=B._init,B=pe(B._payload),G(j,k,B,Z)}if(rt(B)||L(B))return pe!==null?null:W(j,k,B,Z,null);if(typeof B.then=="function")return G(j,k,Ec(B),Z);if(B.$$typeof===ne)return G(j,k,oc(j,B),Z);Tc(j,B)}return null}function K(j,k,B,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(B)||null,T(k,j,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return j=j.get(Z.key===null?B:Z.key)||null,C(k,j,Z,pe);case P:return j=j.get(Z.key===null?B:Z.key)||null,H(k,j,Z,pe);case S:var ke=Z._init;return Z=ke(Z._payload),K(j,k,B,Z,pe)}if(rt(Z)||L(Z))return j=j.get(B)||null,W(k,j,Z,pe,null);if(typeof Z.then=="function")return K(j,k,B,Ec(Z),pe);if(Z.$$typeof===ne)return K(j,k,B,oc(k,Z),pe);Tc(k,Z)}return null}function Ie(j,k,B,Z){for(var pe=null,ke=null,_e=k,Ae=k=0,Kt=null;_e!==null&&Ae<B.length;Ae++){_e.index>Ae?(Kt=_e,_e=null):Kt=_e.sibling;var Ke=G(j,_e,B[Ae],Z);if(Ke===null){_e===null&&(_e=Kt);break}t&&_e&&Ke.alternate===null&&r(j,_e),k=d(Ke,k,Ae),ke===null?pe=Ke:ke.sibling=Ke,ke=Ke,_e=Kt}if(Ae===B.length)return a(j,_e),Qe&&Ks(j,Ae),pe;if(_e===null){for(;Ae<B.length;Ae++)_e=J(j,B[Ae],Z),_e!==null&&(k=d(_e,k,Ae),ke===null?pe=_e:ke.sibling=_e,ke=_e);return Qe&&Ks(j,Ae),pe}for(_e=l(_e);Ae<B.length;Ae++)Kt=K(_e,j,Ae,B[Ae],Z),Kt!==null&&(t&&Kt.alternate!==null&&_e.delete(Kt.key===null?Ae:Kt.key),k=d(Kt,k,Ae),ke===null?pe=Kt:ke.sibling=Kt,ke=Kt);return t&&_e.forEach(function(Zr){return r(j,Zr)}),Qe&&Ks(j,Ae),pe}function be(j,k,B,Z){if(B==null)throw Error(s(151));for(var pe=null,ke=null,_e=k,Ae=k=0,Kt=null,Ke=B.next();_e!==null&&!Ke.done;Ae++,Ke=B.next()){_e.index>Ae?(Kt=_e,_e=null):Kt=_e.sibling;var Zr=G(j,_e,Ke.value,Z);if(Zr===null){_e===null&&(_e=Kt);break}t&&_e&&Zr.alternate===null&&r(j,_e),k=d(Zr,k,Ae),ke===null?pe=Zr:ke.sibling=Zr,ke=Zr,_e=Kt}if(Ke.done)return a(j,_e),Qe&&Ks(j,Ae),pe;if(_e===null){for(;!Ke.done;Ae++,Ke=B.next())Ke=J(j,Ke.value,Z),Ke!==null&&(k=d(Ke,k,Ae),ke===null?pe=Ke:ke.sibling=Ke,ke=Ke);return Qe&&Ks(j,Ae),pe}for(_e=l(_e);!Ke.done;Ae++,Ke=B.next())Ke=K(_e,j,Ae,Ke.value,Z),Ke!==null&&(t&&Ke.alternate!==null&&_e.delete(Ke.key===null?Ae:Ke.key),k=d(Ke,k,Ae),ke===null?pe=Ke:ke.sibling=Ke,ke=Ke);return t&&_e.forEach(function(NA){return r(j,NA)}),Qe&&Ks(j,Ae),pe}function it(j,k,B,Z){if(typeof B=="object"&&B!==null&&B.type===M&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case R:e:{for(var pe=B.key;k!==null;){if(k.key===pe){if(pe=B.type,pe===M){if(k.tag===7){a(j,k.sibling),Z=h(k,B.props.children),Z.return=j,j=Z;break e}}else if(k.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===S&&Gy(pe)===k.type){a(j,k.sibling),Z=h(k,B.props),El(Z,B),Z.return=j,j=Z;break e}a(j,k);break}else r(j,k);k=k.sibling}B.type===M?(Z=Fs(B.props.children,j.mode,Z,B.key),Z.return=j,j=Z):(Z=ic(B.type,B.key,B.props,null,j.mode,Z),El(Z,B),Z.return=j,j=Z)}return v(j);case P:e:{for(pe=B.key;k!==null;){if(k.key===pe)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(j,k.sibling),Z=h(k,B.children||[]),Z.return=j,j=Z;break e}else{a(j,k);break}else r(j,k);k=k.sibling}Z=kf(B,j.mode,Z),Z.return=j,j=Z}return v(j);case S:return pe=B._init,B=pe(B._payload),it(j,k,B,Z)}if(rt(B))return Ie(j,k,B,Z);if(L(B)){if(pe=L(B),typeof pe!="function")throw Error(s(150));return B=pe.call(B),be(j,k,B,Z)}if(typeof B.then=="function")return it(j,k,Ec(B),Z);if(B.$$typeof===ne)return it(j,k,oc(j,B),Z);Tc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(j,k.sibling),Z=h(k,B),Z.return=j,j=Z):(a(j,k),Z=Pf(B,j.mode,Z),Z.return=j,j=Z),v(j)):a(j,k)}return function(j,k,B,Z){try{vl=0;var pe=it(j,k,B,Z);return Ya=null,pe}catch(_e){if(_e===cl||_e===uc)throw _e;var ke=xn(29,_e,null,j.mode);return ke.lanes=Z,ke.return=j,ke}finally{}}}var Xa=Ky(!0),$y=Ky(!1),Qn=ie(null),Di=null;function Lr(t){var r=t.alternate;re(Lt,Lt.current&1),re(Qn,t),Di===null&&(r===null||Ga.current!==null||r.memoizedState!==null)&&(Di=t)}function Qy(t){if(t.tag===22){if(re(Lt,Lt.current),re(Qn,t),Di===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Di=t)}}else Ur()}function Ur(){re(Lt,Lt.current),re(Qn,Qn.current)}function lr(t){le(Qn),Di===t&&(Di=null),le(Lt)}var Lt=ie(0);function wc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function pd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Pn(),h=Vr(l);h.payload=r,a!=null&&(h.callback=a),r=Pr(t,h,l),r!==null&&(kn(r,t,l),fl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Pn(),h=Vr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Pr(t,h,l),r!==null&&(kn(r,t,l),fl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Pn(),l=Vr(a);l.tag=2,r!=null&&(l.callback=r),r=Pr(t,l,a),r!==null&&(kn(r,t,a),fl(r,t,a))}};function Yy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!nl(a,l)||!nl(h,d):!0}function Xy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&gd.enqueueReplaceState(r,r.state,null)}function Js(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var bc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wy(t){bc(t)}function Zy(t){console.error(t)}function Jy(t){bc(t)}function Sc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function e_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(t,r,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(t,r)},a}function t_(t){return t=Vr(t),t.tag=3,t}function n_(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){e_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){e_(r,a,l),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function NS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ol(r,a,h,!0),a=Qn.current,a!==null){switch(a.tag){case 13:return Di===null?Bd():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Hd(t,l,h)),!1;case 22:return a.flags|=65536,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Hd(t,l,h)),!1}throw Error(s(435,a.tag))}return Hd(t,l,h),Bd(),!1}if(Qe)return r=Qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==jf&&(t=Error(s(422),{cause:l}),al(Fn(t,a)))):(l!==jf&&(r=Error(s(423),{cause:l}),al(Fn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Fn(l,a),h=yd(t.stateNode,l,h),Yf(t,h),yt!==4&&(yt=2)),!1;var d=Error(s(520),{cause:l});if(d=Fn(d,a),Il===null?Il=[d]:Il.push(d),yt!==4&&(yt=2),r===null)return!0;l=Fn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=yd(a.stateNode,l,t),Yf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=t_(h),n_(h,t,a,l),Yf(a,h),!1}a=a.return}while(a!==null);return!1}var i_=Error(s(461)),Ft=!1;function Xt(t,r,a,l){r.child=t===null?$y(r,null,a,l):Xa(r,t.child,a,l)}function r_(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Xs(r),l=ed(t,r,a,v,d,h),T=td(),t!==null&&!Ft?(nd(t,r,h),ur(t,r,h)):(Qe&&T&&Lf(r),r.flags|=1,Xt(t,r,l,h),r.child)}function s_(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,a_(t,r,d,l,h)):(t=ic(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Ad(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(v,l)&&t.ref===r.ref)return ur(t,r,h)}return r.flags|=1,t=nr(d,l),t.ref=r.ref,t.return=r,r.child=t}function a_(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===r.ref)if(Ft=!1,r.pendingProps=l=d,Ad(t,h))(t.flags&131072)!==0&&(Ft=!0);else return r.lanes=t.lanes,ur(t,r,h)}return _d(t,r,a,l,h)}function o_(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return l_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(r,d!==null?d.cachePool:null),d!==null?ay(r,d):Wf(),Qy(r);else return r.lanes=r.childLanes=536870912,l_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(lc(r,d.cachePool),ay(r,d),Ur(),r.memoizedState=null):(t!==null&&lc(r,null),Wf(),Ur());return Xt(t,r,h,a),r.child}function l_(t,r,a,l){var h=Gf();return h=h===null?null:{parent:kt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&lc(r,null),Wf(),Qy(r),t!==null&&ol(t,r,l,!0),null}function Ac(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function _d(t,r,a,l,h){return Xs(r),a=ed(t,r,a,l,void 0,h),l=td(),t!==null&&!Ft?(nd(t,r,h),ur(t,r,h)):(Qe&&l&&Lf(r),r.flags|=1,Xt(t,r,a,h),r.child)}function u_(t,r,a,l,h,d){return Xs(r),r.updateQueue=null,a=ly(r,l,a,h),oy(t),l=td(),t!==null&&!Ft?(nd(t,r,d),ur(t,r,d)):(Qe&&l&&Lf(r),r.flags|=1,Xt(t,r,a,d),r.child)}function c_(t,r,a,l,h){if(Xs(r),r.stateNode===null){var d=za,v=a.contextType;typeof v=="object"&&v!==null&&(d=rn(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},$f(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?rn(v):za,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(pd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&gd.enqueueReplaceState(d,d.state,null),ml(r,l,d,h),dl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,C=Js(a,T);d.props=C;var H=d.context,W=a.contextType;v=za,typeof W=="object"&&W!==null&&(v=rn(W));var J=a.getDerivedStateFromProps;W=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&Xy(r,d,l,v),Mr=!1;var G=r.memoizedState;d.state=G,ml(r,l,d,h),dl(),H=r.memoizedState,T||G!==H||Mr?(typeof J=="function"&&(pd(r,a,J,l),H=r.memoizedState),(C=Mr||Yy(r,a,C,l,G,H,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Qf(t,r),v=r.memoizedProps,W=Js(a,v),d.props=W,J=r.pendingProps,G=d.context,H=a.contextType,C=za,typeof H=="object"&&H!==null&&(C=rn(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||G!==C)&&Xy(r,d,l,C),Mr=!1,G=r.memoizedState,d.state=G,ml(r,l,d,h),dl();var K=r.memoizedState;v!==J||G!==K||Mr||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof T=="function"&&(pd(r,a,T,l),K=r.memoizedState),(W=Mr||Yy(r,a,W,l,G,K,C)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ac(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Xa(r,t.child,null,h),r.child=Xa(r,null,a,h)):Xt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=ur(t,r,h),t}function h_(t,r,a,l){return sl(),r.flags|=256,Xt(t,r,a,l),r.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:Zg()}}function Td(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Yn),t}function f_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Lt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(h?Lr(r):Ur(),Qe){var T=gt,C;if(C=T){e:{for(C=T,T=Ni;C.nodeType!==8;){if(!T){T=null;break e}if(C=ai(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Gs!==null?{id:ir,overflow:rr}:null,retryLane:536870912,hydrationErrors:null},C=xn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,pn=r,gt=null,C=!0):C=!1}C||Qs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return rm(T)?r.lanes=32:r.lanes=536870912,null;lr(r)}return T=l.children,l=l.fallback,h?(Ur(),h=r.mode,T=Rc({mode:"hidden",children:T},h),l=Fs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Ed(a),h.childLanes=Td(t,v,a),r.memoizedState=vd,l):(Lr(r),wd(r,T))}if(C=t.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(Lr(r),r.flags&=-257,r=bd(t,r,a)):r.memoizedState!==null?(Ur(),r.child=t.child,r.flags|=128,r=null):(Ur(),h=l.fallback,T=r.mode,l=Rc({mode:"visible",children:l.children},T),h=Fs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Xa(r,t.child,null,a),l=r.child,l.memoizedState=Ed(a),l.childLanes=Td(t,v,a),r.memoizedState=vd,r=h);else if(Lr(r),rm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,al({value:l,source:null,stack:null}),r=bd(t,r,a)}else if(Ft||ol(t,r,a,!1),v=(a&t.childLanes)!==0,Ft||v){if(v=ot,v!==null&&(l=a&-a,l=(l&42)!==0?1:vn(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,ja(t,l),kn(v,t,l),i_;T.data==="$?"||Bd(),r=bd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,gt=ai(T.nextSibling),pn=r,Qe=!0,$s=null,Ni=!1,t!==null&&(Kn[$n++]=ir,Kn[$n++]=rr,Kn[$n++]=Gs,ir=t.id,rr=t.overflow,Gs=r),r=wd(r,l.children),r.flags|=4096);return r}return h?(Ur(),h=l.fallback,T=r.mode,C=t.child,H=C.sibling,l=nr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,H!==null?h=nr(H,h):(h=Fs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Ed(a):(C=T.cachePool,C!==null?(H=kt._currentValue,C=C.parent!==H?{parent:H,pool:H}:C):C=Zg(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=Td(t,v,a),r.memoizedState=vd,l):(Lr(r),a=t.child,t=a.sibling,a=nr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function wd(t,r){return r=Rc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Rc(t,r){return t=xn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bd(t,r,a){return Xa(r,t.child,null,a),t=wd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function d_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Bf(t.return,r,a)}function Sd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function m_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Xt(t,r,l.children,a),l=Lt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d_(t,a,r);else if(t.tag===19)d_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Lt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&wc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Sd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&wc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Sd(r,!0,a,null,d);break;case"together":Sd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ur(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Hr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ol(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=nr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=nr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ad(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function DS(t,r,a){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),Or(r,kt,t.memoizedState.cache),sl();break;case 27:case 5:ti(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:Or(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?f_(t,r,a):(Lr(r),t=ur(t,r,a),t!==null?t.sibling:null);Lr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ol(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return m_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Lt,Lt.current),l)break;return null;case 22:case 23:return r.lanes=0,o_(t,r,a);case 24:Or(r,kt,t.memoizedState.cache)}return ur(t,r,a)}function p_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ft=!0;else{if(!Ad(t,a)&&(r.flags&128)===0)return Ft=!1,DS(t,r,a);Ft=(t.flags&131072)!==0}else Ft=!1,Qe&&(r.flags&1048576)!==0&&Gg(r,sc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Vf(l)?(t=Js(l,t),r.tag=1,r=c_(null,r,l,t,a)):(r.tag=0,r=_d(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ge){r.tag=11,r=r_(null,r,l,t,a);break e}else if(h===x){r.tag=14,r=s_(null,r,l,t,a);break e}}throw r=At(l)||l,Error(s(306,r,""))}}return r;case 0:return _d(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Js(l,r.pendingProps),c_(t,r,l,h,a);case 3:e:{if(Je(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Qf(t,r),ml(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Or(r,kt,l),l!==d.cache&&qf(r,[kt],a,!0),dl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=h_(t,r,l,a);break e}else if(l!==h){h=Fn(Error(s(424)),r),al(h),r=h_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(gt=ai(t.firstChild),pn=r,Qe=!0,$s=null,Ni=!0,a=$y(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(sl(),l===h){r=ur(t,r,a);break e}Xt(t,r,l,a)}r=r.child}return r;case 26:return Ac(t,r),t===null?(a=vv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,t=r.pendingProps,l=zc(we.current).createElement(a),l[Mt]=r,l[It]=t,Zt(l,a,t),Et(l),r.stateNode=l):r.memoizedState=vv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ti(r),t===null&&Qe&&(l=r.stateNode=gv(r.type,r.pendingProps,we.current),pn=r,Ni=!0,h=gt,$r(r.type)?(sm=h,gt=ai(l.firstChild)):gt=h),Xt(t,r,r.pendingProps.children,a),Ac(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Qe&&((h=l=gt)&&(l=rA(l,r.type,r.pendingProps,Ni),l!==null?(r.stateNode=l,pn=r,gt=ai(l.firstChild),Ni=!1,h=!0):h=!1),h||Qs(r)),ti(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,tm(h,d)?l=null:v!==null&&tm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=ed(t,r,wS,null,null,a),kl._currentValue=h),Ac(t,r),Xt(t,r,l,a),r.child;case 6:return t===null&&Qe&&((t=a=gt)&&(a=sA(a,r.pendingProps,Ni),a!==null?(r.stateNode=a,pn=r,gt=null,t=!0):t=!1),t||Qs(r)),null;case 13:return f_(t,r,a);case 4:return Je(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Xa(r,null,l,a):Xt(t,r,l,a),r.child;case 11:return r_(t,r,r.type,r.pendingProps,a);case 7:return Xt(t,r,r.pendingProps,a),r.child;case 8:return Xt(t,r,r.pendingProps.children,a),r.child;case 12:return Xt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Or(r,r.type,l.value),Xt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Xs(r),h=rn(h),l=l(h),r.flags|=1,Xt(t,r,l,a),r.child;case 14:return s_(t,r,r.type,r.pendingProps,a);case 15:return a_(t,r,r.type,r.pendingProps,a);case 19:return m_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Rc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=nr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return o_(t,r,a);case 24:return Xs(r),l=rn(kt),t===null?(h=Gf(),h===null&&(h=ot,d=Hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},$f(r),Or(r,kt,h)):((t.lanes&a)!==0&&(Qf(t,r),ml(r,null,null,a),dl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Or(r,kt,l)):(l=d.cache,Or(r,kt,l),l!==h.cache&&qf(r,[kt],a,!0))),Xt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function cr(t){t.flags|=4}function g_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Sv(r)){if(r=Qn.current,r!==null&&((Fe&4194048)===Fe?Di!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Di))throw hl=Kf,Jg;t.flags|=8192}}function Ic(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ve():536870912,t.lanes|=r,eo|=r)}function Tl(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function xS(t,r,a){var l=r.pendingProps;switch(Uf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return dt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ar(kt),yn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(rl(r)?cr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Qg())),dt(r),null;case 26:return a=r.memoizedState,t===null?(cr(r),a!==null?(dt(r),g_(r,a)):(dt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(cr(r),dt(r),g_(r,a)):(dt(r),r.flags&=-16777217):(t.memoizedProps!==l&&cr(r),dt(r),r.flags&=-16777217),null;case 27:Rn(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return dt(r),null}t=me.current,rl(r)?Kg(r):(t=gv(h,l,a),r.stateNode=t,cr(r))}return dt(r),null;case 5:if(Rn(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&cr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return dt(r),null}if(t=me.current,rl(r))Kg(r);else{switch(h=zc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Mt]=r,t[It]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&cr(r)}}return dt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&cr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,rl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=pn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uv(t.nodeValue,a)),t||Qs(r)}else t=zc(t).createTextNode(l),t[Mt]=r,r.stateNode=t}return dt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=rl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=r}else sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),h=!1}else h=Qg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(lr(r),r):(lr(r),null)}if(lr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Ic(r,r.updateQueue),dt(r),null;case 4:return yn(),t===null&&Xd(r.stateNode.containerInfo),dt(r),null;case 10:return ar(r.type),dt(r),null;case 19:if(le(Lt),h=r.memoizedState,h===null)return dt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=wc(t),d!==null){for(r.flags|=128,Tl(h,!1),t=d.updateQueue,r.updateQueue=t,Ic(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Fg(a,t),a=a.sibling;return re(Lt,Lt.current&1|2),r.child}t=t.sibling}h.tail!==null&&cn()>Dc&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304)}else{if(!l)if(t=wc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Ic(r,t),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Qe)return dt(r),null}else 2*cn()-h.renderingStartTime>Dc&&a!==536870912&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=cn(),r.sibling=null,t=Lt.current,re(Lt,l?t&1|2:t&1),r):(dt(r),null);case 22:case 23:return lr(r),Zf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),a=r.updateQueue,a!==null&&Ic(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Ws),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ar(kt),dt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function OS(t,r){switch(Uf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ar(kt),yn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Rn(r),null;case 13:if(lr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Lt),null;case 4:return yn(),null;case 10:return ar(r.type),null;case 22:case 23:return lr(r),Zf(),t!==null&&le(Ws),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ar(kt),null;case 25:return null;default:return null}}function y_(t,r){switch(Uf(r),r.tag){case 3:ar(kt),yn();break;case 26:case 27:case 5:Rn(r);break;case 4:yn();break;case 13:lr(r);break;case 19:le(Lt);break;case 10:ar(r.type);break;case 22:case 23:lr(r),Zf(),t!==null&&le(Ws);break;case 24:ar(kt)}}function wl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){st(r,r.return,T)}}function jr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var C=a,H=T;try{H()}catch(W){st(h,C,W)}}}l=l.next}while(l!==d)}}catch(W){st(r,r.return,W)}}function __(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{sy(r,a)}catch(l){st(t,t.return,l)}}}function v_(t,r,a){a.props=Js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){st(t,r,l)}}function bl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){st(t,r,h)}}function xi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){st(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,r,h)}else a.current=null}function E_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function Rd(t,r,a){try{var l=t.stateNode;JS(l,t.type,a,r),l[It]=r}catch(h){st(t,t.return,h)}}function T_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$r(t.type)||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=jc));else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Cd(t,r,a),t=t.sibling;t!==null;)Cd(t,r,a),t=t.sibling}function Cc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,r,a),t=t.sibling;t!==null;)Cc(t,r,a),t=t.sibling}function w_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Zt(r,l,a),r[Mt]=t,r[It]=a}catch(d){st(t,t.return,d)}}var hr=!1,wt=!1,Nd=!1,b_=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function MS(t,r){if(t=t.containerInfo,Jd=Kc,t=Vg(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,C=-1,H=0,W=0,J=t,G=null;t:for(;;){for(var K;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(C=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(K=J.firstChild)!==null;)G=J,J=K;for(;;){if(J===t)break t;if(G===a&&++H===h&&(T=v),G===d&&++W===l&&(C=v),(K=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=K}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:t,selectionRange:a},Kc=!1,Gt=r;Gt!==null;)if(r=Gt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Gt=t;else for(;Gt!==null;){switch(r=Gt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ie=Js(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ie,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){st(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Gt=t;break}Gt=r.return}}function S_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zr(t,a),l&4&&wl(5,a);break;case 1:if(zr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){st(a,a.return,v)}else{var h=Js(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){st(a,a.return,v)}}l&64&&__(a),l&512&&bl(a,a.return);break;case 3:if(zr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{sy(t,r)}catch(v){st(a,a.return,v)}}break;case 27:r===null&&l&4&&w_(a);case 26:case 5:zr(t,a),r===null&&l&4&&E_(a),l&512&&bl(a,a.return);break;case 12:zr(t,a);break;case 13:zr(t,a),l&4&&I_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qS.bind(null,a),aA(t,a))));break;case 22:if(l=a.memoizedState!==null||hr,!l){r=r!==null&&r.memoizedState!==null||wt,h=hr;var d=wt;hr=l,(wt=r)&&!d?Br(t,a,(a.subtreeFlags&8772)!==0):zr(t,a),hr=h,wt=d}break;case 30:break;default:zr(t,a)}}function A_(t){var r=t.alternate;r!==null&&(t.alternate=null,A_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Cr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,Tn=!1;function fr(t,r,a){for(a=a.child;a!==null;)R_(t,r,a),a=a.sibling}function R_(t,r,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:wt||xi(a,r),fr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:wt||xi(a,r);var l=ht,h=Tn;$r(a.type)&&(ht=a.stateNode,Tn=!1),fr(t,r,a),Ol(a.stateNode),ht=l,Tn=h;break;case 5:wt||xi(a,r);case 6:if(l=ht,h=Tn,ht=null,fr(t,r,a),ht=l,Tn=h,ht!==null)if(Tn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){st(a,r,d)}else try{ht.removeChild(a.stateNode)}catch(d){st(a,r,d)}break;case 18:ht!==null&&(Tn?(t=ht,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),zl(t)):mv(ht,a.stateNode));break;case 4:l=ht,h=Tn,ht=a.stateNode.containerInfo,Tn=!0,fr(t,r,a),ht=l,Tn=h;break;case 0:case 11:case 14:case 15:wt||jr(2,a,r),wt||jr(4,a,r),fr(t,r,a);break;case 1:wt||(xi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,r,l)),fr(t,r,a);break;case 21:fr(t,r,a);break;case 22:wt=(l=wt)||a.memoizedState!==null,fr(t,r,a),wt=l;break;default:fr(t,r,a)}}function I_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(a){st(r,r.return,a)}}function VS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new b_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new b_),r;default:throw Error(s(435,t.tag))}}function Dd(t,r){var a=VS(t);r.forEach(function(l){var h=HS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function On(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if($r(T.type)){ht=T.stateNode,Tn=!1;break e}break;case 5:ht=T.stateNode,Tn=!1;break e;case 3:case 4:ht=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(ht===null)throw Error(s(160));R_(d,v,h),ht=null,Tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)C_(r,t),r=r.sibling}var si=null;function C_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(r,t),Mn(t),l&4&&(jr(3,t,t.return),wl(3,t),jr(5,t,t.return));break;case 1:On(r,t),Mn(t),l&512&&(wt||a===null||xi(a,a.return)),l&64&&hr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=si;if(On(r,t),Mn(t),l&512&&(wt||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Cs]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Zt(d,l,a),d[Mt]=t,Et(d),l=d;break e;case"link":var v=wv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=wv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=t,Et(d),l=d}t.stateNode=l}else bv(h,t.type,t.stateNode);else t.stateNode=Tv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?bv(h,t.type,t.stateNode):Tv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:On(r,t),Mn(t),l&512&&(wt||a===null||xi(a,a.return)),a!==null&&l&4&&Rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(On(r,t),Mn(t),l&512&&(wt||a===null||xi(a,a.return)),t.flags&32){h=t.stateNode;try{zn(h,"")}catch(K){st(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Nd=!0);break;case 6:if(On(r,t),Mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){st(t,t.return,K)}}break;case 3:if(Hc=null,h=si,si=Bc(r.containerInfo),On(r,t),si=h,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(r.containerInfo)}catch(K){st(t,t.return,K)}Nd&&(Nd=!1,N_(t));break;case 4:l=si,si=Bc(t.stateNode.containerInfo),On(r,t),Mn(t),si=l;break;case 12:On(r,t),Mn(t);break;case 13:On(r,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kd=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,H=hr,W=wt;if(hr=H||h,wt=W||C,On(r,t),wt=W,hr=H,Mn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||hr||wt||ea(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){st(C,C.return,K)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(K){st(C,C.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dd(t,a))));break;case 19:On(r,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dd(t,l)));break;case 30:break;case 21:break;default:On(r,t),Mn(t)}}function Mn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Id(t);Cc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(zn(v,""),a.flags&=-33);var T=Id(t);Cc(t,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,H=Id(t);Cd(t,H,C);break;default:throw Error(s(161))}}catch(W){st(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function N_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;N_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function zr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)S_(t,r.alternate,r),r=r.sibling}function ea(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:jr(4,r,r.return),ea(r);break;case 1:xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&v_(r,r.return,a),ea(r);break;case 27:Ol(r.stateNode);case 26:case 5:xi(r,r.return),ea(r);break;case 22:r.memoizedState===null&&ea(r);break;case 30:ea(r);break;default:ea(r)}t=t.sibling}}function Br(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Br(h,d,a),wl(4,d);break;case 1:if(Br(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){st(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ry(C[h],T)}catch(H){st(l,l.return,H)}}a&&v&64&&__(d),bl(d,d.return);break;case 27:w_(d);case 26:case 5:Br(h,d,a),a&&l===null&&v&4&&E_(d),bl(d,d.return);break;case 12:Br(h,d,a);break;case 13:Br(h,d,a),a&&v&4&&I_(h,d);break;case 22:d.memoizedState===null&&Br(h,d,a),bl(d,d.return);break;case 30:break;default:Br(h,d,a)}r=r.sibling}}function xd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ll(a))}function Od(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t))}function Oi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)D_(t,r,a,l),r=r.sibling}function D_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Oi(t,r,a,l),h&2048&&wl(9,r);break;case 1:Oi(t,r,a,l);break;case 3:Oi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t)));break;case 12:if(h&2048){Oi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){st(r,r.return,C)}}else Oi(t,r,a,l);break;case 13:Oi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Oi(t,r,a,l):Sl(t,r):d._visibility&2?Oi(t,r,a,l):(d._visibility|=2,Wa(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&xd(v,r);break;case 24:Oi(t,r,a,l),h&2048&&Od(r.alternate,r);break;default:Oi(t,r,a,l)}}function Wa(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,C=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Wa(d,v,T,C,h),wl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Wa(d,v,T,C,h):Sl(d,v):(W._visibility|=2,Wa(d,v,T,C,h)),h&&H&2048&&xd(v.alternate,v);break;case 24:Wa(d,v,T,C,h),h&&H&2048&&Od(v.alternate,v);break;default:Wa(d,v,T,C,h)}r=r.sibling}}function Sl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Sl(a,l),h&2048&&xd(l.alternate,l);break;case 24:Sl(a,l),h&2048&&Od(l.alternate,l);break;default:Sl(a,l)}r=r.sibling}}var Al=8192;function Za(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)x_(t),t=t.sibling}function x_(t){switch(t.tag){case 26:Za(t),t.flags&Al&&t.memoizedState!==null&&vA(si,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var r=si;si=Bc(t.stateNode.containerInfo),Za(t),si=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Al,Al=16777216,Za(t),Al=r):Za(t));break;default:Za(t)}}function O_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Rl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Gt=l,V_(l,t)}O_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)M_(t),t=t.sibling}function M_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&jr(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Nc(t)):Rl(t);break;default:Rl(t)}}function Nc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Gt=l,V_(l,t)}O_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:jr(8,r,r.return),Nc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(r));break;default:Nc(r)}t=t.sibling}}function V_(t,r){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:jr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=t;Gt!==null;){l=Gt;var h=l.sibling,d=l.return;if(A_(l),l===a){Gt=null;break e}if(h!==null){h.return=d,Gt=h;break e}Gt=d}}}var PS={getCacheForType:function(t){var r=rn(kt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},kS=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,Ue=null,Fe=0,Ze=0,Vn=null,qr=!1,Ja=!1,Md=!1,dr=0,yt=0,Hr=0,ta=0,Vd=0,Yn=0,eo=0,Il=null,wn=null,Pd=!1,kd=0,Dc=1/0,xc=null,Fr=null,Wt=0,Gr=null,to=null,no=0,Ld=0,Ud=null,P_=null,Cl=0,jd=null;function Pn(){if((We&2)!==0&&Fe!==0)return Fe&-Fe;if(X.T!==null){var t=Ha;return t!==0?t:Kd()}return at()}function k_(){Yn===0&&(Yn=(Fe&536870912)===0||Qe?Se():536870912);var t=Qn.current;return t!==null&&(t.flags|=32),Yn}function kn(t,r,a){(t===ot&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(io(t,0),Kr(t,Fe,Yn,!1)),_t(t,a),((We&2)===0||t!==ot)&&(t===ot&&((We&2)===0&&(ta|=a),yt===4&&Kr(t,Fe,Yn,!1)),Mi(t))}function L_(t,r,a){if((We&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ue(t,r),h=l?jS(t,r):qd(t,r,!0),d=l;do{if(h===0){Ja&&!l&&Kr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!LS(a)){h=qd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=Il;var C=T.current.memoizedState.isDehydrated;if(C&&(io(T,v).flags|=256),v=qd(T,v,!1),v!==2){if(Md&&!C){T.errorRecoveryDisabledLanes|=d,ta|=d,h=4;break e}d=wn,wn=h,d!==null&&(wn===null?wn=d:wn.push.apply(wn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){io(t,0),Kr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Kr(l,r,Yn,!qr);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=kd+300-cn(),10<h)){if(Kr(l,r,Yn,!qr),F(l,0,!0)!==0)break e;l.timeoutHandle=fv(U_.bind(null,l,a,wn,xc,Pd,r,Yn,ta,eo,qr,d,2,-0,0),h);break e}U_(l,a,wn,xc,Pd,r,Yn,ta,eo,qr,d,0,-0,0)}}break}while(!0);Mi(t)}function U_(t,r,a,l,h,d,v,T,C,H,W,J,G,K){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:_A},x_(r),J=EA(),J!==null)){t.cancelPendingCommit=J(G_.bind(null,t,r,d,a,l,h,v,T,C,W,1,G,K)),Kr(t,d,v,!H);return}G_(t,r,d,a,l,h,v,T,C)}function LS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Dn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Kr(t,r,a,l){r&=~Vd,r&=~ta,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Bt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Rt(t,a,r)}function Oc(){return(We&6)===0?(Nl(0),!1):!0}function zd(){if(Ue!==null){if(Ze===0)var t=Ue.return;else t=Ue,sr=Ys=null,id(t),Ya=null,vl=0,t=Ue;for(;t!==null;)y_(t.alternate,t),t=t.return;Ue=null}}function io(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,tA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zd(),ot=t,Ue=a=nr(t.current,null),Fe=r,Ze=0,Vn=null,qr=!1,Ja=ue(t,r),Md=!1,eo=Yn=Vd=ta=Hr=yt=0,wn=Il=null,Pd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Bt(l),d=1<<h;r|=t[h],l&=~d}return dr=r,ec(),a}function j_(t,r){Ve=null,X.H=vc,r===cl||r===uc?(r=ny(),Ze=3):r===Jg?(r=ny(),Ze=4):Ze=r===i_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,Ue===null&&(yt=1,Sc(t,Fn(r,t.current)))}function z_(){var t=X.H;return X.H=vc,t===null?vc:t}function B_(){var t=X.A;return X.A=PS,t}function Bd(){yt=4,qr||(Fe&4194048)!==Fe&&Qn.current!==null||(Ja=!0),(Hr&134217727)===0&&(ta&134217727)===0||ot===null||Kr(ot,Fe,Yn,!1)}function qd(t,r,a){var l=We;We|=2;var h=z_(),d=B_();(ot!==t||Fe!==r)&&(xc=null,io(t,r)),r=!1;var v=yt;e:do try{if(Ze!==0&&Ue!==null){var T=Ue,C=Vn;switch(Ze){case 8:zd(),v=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(r=!0);var H=Ze;if(Ze=0,Vn=null,ro(t,T,C,H),a&&Ja){v=0;break e}break;default:H=Ze,Ze=0,Vn=null,ro(t,T,C,H)}}US(),v=yt;break}catch(W){j_(t,W)}while(!0);return r&&t.shellSuspendCounter++,sr=Ys=null,We=l,X.H=h,X.A=d,Ue===null&&(ot=null,Fe=0,ec()),v}function US(){for(;Ue!==null;)q_(Ue)}function jS(t,r){var a=We;We|=2;var l=z_(),h=B_();ot!==t||Fe!==r?(xc=null,Dc=cn()+500,io(t,r)):Ja=ue(t,r);e:do try{if(Ze!==0&&Ue!==null){r=Ue;var d=Vn;t:switch(Ze){case 1:Ze=0,Vn=null,ro(t,r,d,1);break;case 2:case 9:if(ey(d)){Ze=0,Vn=null,H_(r);break}r=function(){Ze!==2&&Ze!==9||ot!==t||(Ze=7),Mi(t)},d.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:ey(d)?(Ze=0,Vn=null,H_(r)):(Ze=0,Vn=null,ro(t,r,d,7));break;case 5:var v=null;switch(Ue.tag){case 26:v=Ue.memoizedState;case 5:case 27:var T=Ue;if(!v||Sv(v)){Ze=0,Vn=null;var C=T.sibling;if(C!==null)Ue=C;else{var H=T.return;H!==null?(Ue=H,Mc(H)):Ue=null}break t}}Ze=0,Vn=null,ro(t,r,d,5);break;case 6:Ze=0,Vn=null,ro(t,r,d,6);break;case 8:zd(),yt=6;break e;default:throw Error(s(462))}}zS();break}catch(W){j_(t,W)}while(!0);return sr=Ys=null,X.H=l,X.A=h,We=a,Ue!==null?0:(ot=null,Fe=0,ec(),yt)}function zS(){for(;Ue!==null&&!Sr();)q_(Ue)}function q_(t){var r=p_(t.alternate,t,dr);t.memoizedProps=t.pendingProps,r===null?Mc(t):Ue=r}function H_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=u_(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=u_(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:id(r);default:y_(a,r),r=Ue=Fg(r,dr),r=p_(a,r,dr)}t.memoizedProps=t.pendingProps,r===null?Mc(t):Ue=r}function ro(t,r,a,l){sr=Ys=null,id(r),Ya=null,vl=0;var h=r.return;try{if(NS(t,h,r,a,Fe)){yt=1,Sc(t,Fn(a,t.current)),Ue=null;return}}catch(d){if(h!==null)throw Ue=h,d;yt=1,Sc(t,Fn(a,t.current)),Ue=null;return}r.flags&32768?(Qe||l===1?t=!0:Ja||(Fe&536870912)!==0?t=!1:(qr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),F_(r,t)):Mc(r)}function Mc(t){var r=t;do{if((r.flags&32768)!==0){F_(r,qr);return}t=r.return;var a=xS(r.alternate,r,dr);if(a!==null){Ue=a;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=t}while(r!==null);yt===0&&(yt=5)}function F_(t,r){do{var a=OS(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);yt=6,Ue=null}function G_(t,r,a,l,h,d,v,T,C){t.cancelPendingCommit=null;do Vc();while(Wt!==0);if((We&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Of,_n(t,a,d,v,T,C),t===ot&&(Ue=ot=null,Fe=0),to=r,Gr=t,no=a,Ld=d,Ud=h,P_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FS(Fi,function(){return X_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=oe.p,oe.p=2,v=We,We|=4;try{MS(t,r,a)}finally{We=v,oe.p=h,X.T=l}}Wt=1,K_(),$_(),Q_()}}function K_(){if(Wt===1){Wt=0;var t=Gr,r=to,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=We;We|=4;try{C_(r,t);var d=em,v=Vg(t.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Mg(T.ownerDocument.documentElement,T)){if(C!==null&&If(T)){var H=C.start,W=C.end;if(W===void 0&&(W=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(W,T.value.length);else{var J=T.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var K=G.getSelection(),Ie=T.textContent.length,be=Math.min(C.start,Ie),it=C.end===void 0?be:Math.min(C.end,Ie);!K.extend&&be>it&&(v=it,it=be,be=v);var j=Og(T,be),k=Og(T,it);if(j&&k&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==k.node||K.focusOffset!==k.offset)){var B=J.createRange();B.setStart(j.node,j.offset),K.removeAllRanges(),be>it?(K.addRange(B),K.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),K.addRange(B))}}}}for(J=[],K=T;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Kc=!!Jd,em=Jd=null}finally{We=h,oe.p=l,X.T=a}}t.current=r,Wt=2}}function $_(){if(Wt===2){Wt=0;var t=Gr,r=to,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var h=We;We|=4;try{S_(t,r.alternate,r)}finally{We=h,oe.p=l,X.T=a}}Wt=3}}function Q_(){if(Wt===4||Wt===3){Wt=0,_a();var t=Gr,r=to,a=no,l=P_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Wt=5:(Wt=0,to=Gr=null,Y_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fr=null),Cn(a),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ut,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,h=oe.p,oe.p=2,X.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{X.T=r,oe.p=h}}(no&3)!==0&&Vc(),Mi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===jd?Cl++:(Cl=0,jd=t):Cl=0,Nl(0)}}function Y_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ll(r)))}function Vc(t){return K_(),$_(),Q_(),X_()}function X_(){if(Wt!==5)return!1;var t=Gr,r=Ld;Ld=0;var a=Cn(no),l=X.T,h=oe.p;try{oe.p=32>a?32:a,X.T=null,a=Ud,Ud=null;var d=Gr,v=no;if(Wt=0,to=Gr=null,no=0,(We&6)!==0)throw Error(s(331));var T=We;if(We|=4,M_(d.current),D_(d,d.current,v,a),We=T,Nl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{oe.p=h,X.T=l,Y_(t,r)}}function W_(t,r,a){r=Fn(a,r),r=yd(t.stateNode,r,2),t=Pr(t,r,2),t!==null&&(_t(t,2),Mi(t))}function st(t,r,a){if(t.tag===3)W_(t,t,a);else for(;r!==null;){if(r.tag===3){W_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=Fn(a,t),a=t_(2),l=Pr(r,a,2),l!==null&&(n_(a,l,r,t),_t(l,2),Mi(l));break}}r=r.return}}function Hd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new kS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Md=!0,h.add(a),t=BS.bind(null,t,r,a),r.then(t,t))}function BS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Fe&a)===a&&(yt===4||yt===3&&(Fe&62914560)===Fe&&300>cn()-kd?(We&2)===0&&io(t,0):Vd|=a,eo===Fe&&(eo=0)),Mi(t)}function Z_(t,r){r===0&&(r=ve()),t=ja(t,r),t!==null&&(_t(t,r),Mi(t))}function qS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Z_(t,a)}function HS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Z_(t,a)}function FS(t,r){return pi(t,r)}var Pc=null,so=null,Fd=!1,kc=!1,Gd=!1,na=0;function Mi(t){t!==so&&t.next===null&&(so===null?Pc=so=t:so=so.next=t),kc=!0,Fd||(Fd=!0,KS())}function Nl(t,r){if(!Gd&&kc){Gd=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Bt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,nv(l,d))}else d=Fe,d=F(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ue(l,d)||(a=!0,nv(l,d));l=l.next}while(a);Gd=!1}}function GS(){J_()}function J_(){kc=Fd=!1;var t=0;na!==0&&(eA()&&(t=na),na=0);for(var r=cn(),a=null,l=Pc;l!==null;){var h=l.next,d=ev(l,r);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(so=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}Nl(t)}function ev(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Bt(d),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Te(T,r)):C<=r&&(t.expiredLanes|=T),d&=~T}if(r=ot,a=Fe,a=F(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ue(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&gi(l),Cn(a)){case 2:case 8:a=Ar;break;case 32:a=Fi;break;case 268435456:a=Rr;break;default:a=Fi}return l=tv.bind(null,t),a=pi(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&gi(l),t.callbackPriority=2,t.callbackNode=null,2}function tv(t,r){if(Wt!==0&&Wt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vc()&&t.callbackNode!==a)return null;var l=Fe;return l=F(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(L_(t,l,r),ev(t,cn()),t.callbackNode!=null&&t.callbackNode===a?tv.bind(null,t):null)}function nv(t,r){if(Vc())return null;L_(t,r,!0)}function KS(){nA(function(){(We&6)!==0?pi(Rs,GS):J_()})}function Kd(){return na===0&&(na=Se()),na}function iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function rv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function $S(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=iv((h[It]||null).action),v=l.submitter;v&&(r=(r=v[It]||null)?iv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new Ca("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var C=v?rv(h,v):new FormData(h);fd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?rv(h,v):new FormData(h),fd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var $d=0;$d<xf.length;$d++){var Qd=xf[$d],QS=Qd.toLowerCase(),YS=Qd[0].toUpperCase()+Qd.slice(1);ri(QS,"on"+YS)}ri(Lg,"onAnimationEnd"),ri(Ug,"onAnimationIteration"),ri(jg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(fS,"onTransitionRun"),ri(dS,"onTransitionStart"),ri(mS,"onTransitionCancel"),ri(zg,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function sv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,H=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(W){bc(W)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,H=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(W){bc(W)}h.currentTarget=null,d=C}}}}function je(t,r){var a=r[Bo];a===void 0&&(a=r[Bo]=new Set);var l=t+"__bubble";a.has(l)||(av(r,t,2,!1),a.add(l))}function Yd(t,r,a){var l=0;r&&(l|=4),av(a,t,l,r)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Xd(t){if(!t[Lc]){t[Lc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(XS.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Lc]||(r[Lc]=!0,Yd("selectionchange",!1,r))}}function av(t,r,a,l){switch(Dv(r)){case 2:var h=bA;break;case 8:h=SA;break;default:h=cm}a=h.bind(null,r,a,t),h=void 0,!qn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Wd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Ki(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}T=T.parentNode}}l=l.return}ju(function(){var H=d,W=Bn(a),J=[];e:{var G=Bg.get(t);if(G!==void 0){var K=Ca,Ie=t;switch(t){case"keypress":if(Si(a)===0)break e;case"keydown":case"keyup":K=Va;break;case"focusin":Ie="focus",K=xa;break;case"focusout":Ie="blur",K=xa;break;case"beforeblur":case"afterblur":K=xa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=$u;break;case Lg:case Ug:case jg:K=Oa;break;case zg:K=Yu;break;case"scroll":case"scrollend":K=zu;break;case"wheel":K=Pa;break;case"copy":case"cut":case"paste":K=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=el;break;case"toggle":case"beforetoggle":K=Wu}var be=(r&4)!==0,it=!be&&(t==="scroll"||t==="scrollend"),j=be?G!==null?G+"Capture":null:G;be=[];for(var k=H,B;k!==null;){var Z=k;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||j===null||(Z=Ps(k,j),Z!=null&&be.push(xl(k,Z,B))),it)break;k=k.return}0<be.length&&(G=new K(G,Ie,null,a,W),J.push({event:G,listeners:be}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==Xi&&(Ie=a.relatedTarget||a.fromElement)&&(Ki(Ie)||Ie[jn]))break e;if((K||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,K?(Ie=a.relatedTarget||a.toElement,K=H,Ie=Ie?Ki(Ie):null,Ie!==null&&(it=u(Ie),be=Ie.tag,Ie!==it||be!==5&&be!==27&&be!==6)&&(Ie=null)):(K=null,Ie=H),K!==Ie)){if(be=Hn,Z="onMouseLeave",j="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=el,Z="onPointerLeave",j="onPointerEnter",k="pointer"),it=K==null?G:Ei(K),B=Ie==null?G:Ei(Ie),G=new be(Z,k+"leave",K,a,W),G.target=it,G.relatedTarget=B,Z=null,Ki(W)===H&&(be=new be(j,k+"enter",Ie,a,W),be.target=B,be.relatedTarget=it,Z=be),it=Z,K&&Ie)t:{for(be=K,j=Ie,k=0,B=be;B;B=ao(B))k++;for(B=0,Z=j;Z;Z=ao(Z))B++;for(;0<k-B;)be=ao(be),k--;for(;0<B-k;)j=ao(j),B--;for(;k--;){if(be===j||j!==null&&be===j.alternate)break t;be=ao(be),j=ao(j)}be=null}else be=null;K!==null&&ov(J,G,K,be,!1),Ie!==null&&it!==null&&ov(J,it,Ie,be,!0)}}e:{if(G=H?Ei(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var pe=Rg;else if(Pt(G))if(Ig)pe=uS;else{pe=oS;var ke=aS}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&$o(H.elementType)&&(pe=Rg):pe=lS;if(pe&&(pe=pe(t,H))){tr(J,pe,a,W);break e}ke&&ke(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Dr(G,"number",G.value)}switch(ke=H?Ei(H):window,t){case"focusin":(Pt(ke)||ke.contentEditable==="true")&&(ka=ke,Cf=H,il=null);break;case"focusout":il=Cf=ka=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Pg(J,a,W);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":Pg(J,a,W)}var _e;if(Ii)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else qe?$(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&a.locale!=="ko"&&(qe||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&qe&&(_e=Yo()):(bi=W,xr="value"in bi?bi.value:bi.textContent,qe=!0)),ke=Uc(H,Ae),0<ke.length&&(Ae=new Zo(Ae,t,null,a,W),J.push({event:Ae,listeners:ke}),_e?Ae.data=_e:(_e=ae(a),_e!==null&&(Ae.data=_e)))),(_e=y?Vt(t,a):He(t,a))&&(Ae=Uc(H,"onBeforeInput"),0<Ae.length&&(ke=new Zo("onBeforeInput","beforeinput",null,a,W),J.push({event:ke,listeners:Ae}),ke.data=_e)),$S(J,t,H,a,W)}sv(J,r)})}function xl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Uc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ps(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Ps(t,r),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ov(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,H=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||H===null||(C=H,h?(H=Ps(a,d),H!=null&&v.unshift(xl(a,H,C))):h||(H=Ps(a,d),H!=null&&v.push(xl(a,H,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var WS=/\r\n?/g,ZS=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(WS,`
`).replace(ZS,"")}function uv(t,r){return r=lv(r),lv(t)===r}function jc(){}function nt(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||zn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&zn(t,""+l);break;case"className":Ti(t,"class",l);break;case"tabIndex":Ti(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(r!=="object"){Ti(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&nt(t,r,"name",h.name,h,null),nt(t,r,"formEncType",h.formEncType,h,null),nt(t,r,"formMethod",h.formMethod,h,null),nt(t,r,"formTarget",h.formTarget,h,null)):(nt(t,r,"encType",h.encType,h,null),nt(t,r,"method",h.method,h,null),nt(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=jc);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Nr(t,"popover",l);break;case"xlinkActuate":Qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tf.get(a)||a,Nr(t,a,l))}}function Zd(t,r,a,l,h,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?zn(t,l):(typeof l=="number"||typeof l=="bigint")&&zn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[It]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Nr(t,a,l)}}}function Zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,d,v,a,null)}}h&&nt(t,r,"srcSet",a.srcSet,a,null),l&&nt(t,r,"src",a.src,a,null);return;case"input":je("invalid",t);var T=d=v=h=null,C=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":C=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:nt(t,r,l,W,a,null)}}Os(t,d,T,C,H,v,h,!1),Ra(t);return;case"select":je("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:nt(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Yi(t,!!l,r,!1):a!=null&&Yi(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:nt(t,r,v,T,a,null)}Ms(t,l,h,d),Ra(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,r,C,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)je(Dl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,H,l,a,null)}return;default:if($o(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Zd(t,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&nt(t,r,T,l,a,null))}function JS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,H=null,W=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(K)||nt(t,r,K,null,l,J)}}for(var G in l){var K=l[G];if(J=a[G],l.hasOwnProperty(G)&&(K!=null||J!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":W=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==J&&nt(t,r,G,K,l,J)}}Nn(t,v,T,C,H,W,d,h);return;case"select":K=v=T=G=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(d)||nt(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":G=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&nt(t,r,h,d,l,C)}r=T,a=v,l=K,G!=null?Yi(t,!!a,G,!1):!!l!=!!a&&(r!=null?Yi(t,!!a,r,!0):Yi(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,r,v,h,l,d)}et(t,G,K);return;case"option":for(var Ie in a)if(G=a[Ie],a.hasOwnProperty(Ie)&&G!=null&&!l.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:nt(t,r,Ie,null,l,G)}for(C in l)if(G=l[C],K=a[C],l.hasOwnProperty(C)&&G!==K&&(G!=null||K!=null))switch(C){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:nt(t,r,C,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)G=a[be],a.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be)&&nt(t,r,be,null,l,G);for(H in l)if(G=l[H],K=a[H],l.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:nt(t,r,H,G,l,K)}return;default:if($o(r)){for(var it in a)G=a[it],a.hasOwnProperty(it)&&G!==void 0&&!l.hasOwnProperty(it)&&Zd(t,r,it,void 0,l,G);for(W in l)G=l[W],K=a[W],!l.hasOwnProperty(W)||G===K||G===void 0&&K===void 0||Zd(t,r,W,G,l,K);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&nt(t,r,j,null,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G==null&&K==null||nt(t,r,J,G,l,K)}var Jd=null,em=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function cv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function tm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function eA(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,tA=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,nA=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(iA)}:fv;function iA(t){setTimeout(function(){throw t})}function $r(t){return t==="head"}function mv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Ol(v.documentElement),a&2&&Ol(v.body),a&4)for(a=v.head,Ol(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[Cs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),zl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);zl(r)}function im(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Cr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ai(t.nextSibling),t===null)break}return null}function sA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ai(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function aA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ai(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var sm=null;function pv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function gv(t,r,a){switch(r=zc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Cr(t)}var Xn=new Map,yv=new Set;function Bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mr=oe.d;oe.d={f:oA,r:lA,D:uA,C:cA,L:hA,m:fA,X:mA,S:dA,M:pA};function oA(){var t=mr.f(),r=Oc();return t||r}function lA(t){var r=vi(t);r!==null&&r.tag===5&&r.type==="form"?Ly(r):mr.r(t)}var oo=typeof document>"u"?null:document;function _v(t,r,a){var l=oo;if(l&&typeof r=="string"&&r){var h=Ct(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),yv.has(h)||(yv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Zt(r,"link",t),Et(r),l.head.appendChild(r)))}}function uA(t){mr.D(t),_v("dns-prefetch",t,null)}function cA(t,r){mr.C(t,r),_v("preconnect",t,r)}function hA(t,r,a){mr.L(t,r,a);var l=oo;if(l&&t&&r){var h='link[rel="preload"][as="'+Ct(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ct(a.imageSizes)+'"]')):h+='[href="'+Ct(t)+'"]';var d=h;switch(r){case"style":d=lo(t);break;case"script":d=uo(t)}Xn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Xn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Ml(d))||r==="script"&&l.querySelector(Vl(d))||(r=l.createElement("link"),Zt(r,"link",t),Et(r),l.head.appendChild(r)))}}function fA(t,r){mr.m(t,r);var a=oo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Ct(l)+'"][href="'+Ct(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(t)}if(!Xn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Xn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),Zt(l,"link",t),Et(l),a.head.appendChild(l)}}}function dA(t,r,a){mr.S(t,r,a);var l=oo;if(l&&t){var h=fn(l).hoistableStyles,d=lo(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ml(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Xn.get(d))&&am(t,a);var C=v=l.createElement("link");Et(C),Zt(C,"link",t),C._p=new Promise(function(H,W){C.onload=H,C.onerror=W}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function mA(t,r){mr.X(t,r);var a=oo;if(a&&t){var l=fn(a).hoistableScripts,h=uo(t),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(t=E({src:t,async:!0},r),(r=Xn.get(h))&&om(t,r),d=a.createElement("script"),Et(d),Zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pA(t,r){mr.M(t,r);var a=oo;if(a&&t){var l=fn(a).hoistableScripts,h=uo(t),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Xn.get(h))&&om(t,r),d=a.createElement("script"),Et(d),Zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function vv(t,r,a,l){var h=(h=we.current)?Bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=fn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var d=fn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ml(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(t,a),d||gA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=fn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+Ct(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function Ev(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function gA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Zt(r,"link",a),Et(r),t.head.appendChild(r))}function uo(t){return'[src="'+Ct(t)+'"]'}function Vl(t){return"script[async]"+t}function Tv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Ct(a.href)+'"]');if(l)return r.instance=l,Et(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Zt(l,"style",h),qc(l,a.precedence,t),r.instance=l;case"stylesheet":h=lo(a.href);var d=t.querySelector(Ml(h));if(d)return r.state.loading|=4,r.instance=d,Et(d),d;l=Ev(a),(h=Xn.get(h))&&am(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Zt(d,"link",l),r.state.loading|=4,qc(d,a.precedence,t),r.instance=d;case"script":return d=uo(a.src),(h=t.querySelector(Vl(d)))?(r.instance=h,Et(h),h):(l=a,(h=Xn.get(d))&&(l=E({},a),om(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,qc(l,a.precedence,t));return r.instance}function qc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Hc=null;function wv(t,r,a){if(Hc===null){var l=new Map,h=Hc=new Map;h.set(a,l)}else h=Hc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Cs]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function bv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function yA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Sv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function _A(){}function vA(t,r,a){if(Pl===null)throw Error(s(475));var l=Pl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=lo(a.href),d=t.querySelector(Ml(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,Et(d);return}d=t.ownerDocument||t,a=Ev(a),(h=Xn.get(h))&&am(a,h),d=d.createElement("link"),Et(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Fc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function EA(){if(Pl===null)throw Error(s(475));var t=Pl;return t.stylesheets&&t.count===0&&lm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&lm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Fc(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gc=null;function lm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gc=new Map,r.forEach(TA,t),Gc=null,Fc.call(t))}function TA(t,r){if(!(r.state.loading&4)){var a=Gc.get(t);if(a)var l=a.get(null);else{a=new Map,Gc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Fc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var kl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function wA(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Av(t,r,a,l,h,d,v,T,C,H,W,J){return t=new wA(t,r,a,v,T,C,H,J),r=1,d===!0&&(r|=24),d=xn(3,null,null,r),t.current=d,d.stateNode=t,r=Hf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},$f(d),t}function Rv(t){return t?(t=za,t):za}function Iv(t,r,a,l,h,d){h=Rv(h),l.context===null?l.context=h:l.pendingContext=h,l=Vr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Pr(t,l,r),a!==null&&(kn(a,t,r),fl(a,t,r))}function Cv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function um(t,r){Cv(t,r),(t=t.alternate)&&Cv(t,r)}function Nv(t){if(t.tag===13){var r=ja(t,67108864);r!==null&&kn(r,t,67108864),um(t,67108864)}}var Kc=!0;function bA(t,r,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=2,cm(t,r,a,l)}finally{oe.p=d,X.T=h}}function SA(t,r,a,l){var h=X.T;X.T=null;var d=oe.p;try{oe.p=8,cm(t,r,a,l)}finally{oe.p=d,X.T=h}}function cm(t,r,a,l){if(Kc){var h=hm(l);if(h===null)Wd(t,r,l,$c,a),xv(t,l);else if(RA(h,t,r,a,l))l.stopPropagation();else if(xv(t,l),r&4&&-1<AA.indexOf(t)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=In(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Bt(v);T.entanglements[1]|=C,v&=~C}Mi(d),(We&6)===0&&(Dc=cn()+500,Nl(0))}}break;case 13:T=ja(d,2),T!==null&&kn(T,d,2),Oc(),um(d,2)}if(d=hm(l),d===null&&Wd(t,r,l,$c,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Wd(t,r,l,null,a)}}function hm(t){return t=Bn(t),fm(t)}var $c=null;function fm(t){if($c=null,t=Ki(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return $c=t,null}function Dv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jo()){case Rs:return 2;case Ar:return 8;case Fi:case zo:return 32;case Rr:return 268435456;default:return 32}default:return 32}}var dm=!1,Qr=null,Yr=null,Xr=null,Ll=new Map,Ul=new Map,Wr=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(t,r){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Ll.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function jl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=vi(r),r!==null&&Nv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function RA(t,r,a,l,h){switch(r){case"focusin":return Qr=jl(Qr,t,r,a,l,h),!0;case"dragenter":return Yr=jl(Yr,t,r,a,l,h),!0;case"mouseover":return Xr=jl(Xr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ll.set(d,jl(Ll.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ul.set(d,jl(Ul.get(d)||null,t,r,a,l,h)),!0}return!1}function Ov(t){var r=Ki(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,vt(t.priority,function(){if(a.tag===13){var l=Pn();l=vn(l);var h=ja(a,l);h!==null&&kn(h,a,l),um(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xi=l,a.target.dispatchEvent(l),Xi=null}else return r=vi(a),r!==null&&Nv(r),t.blockedOn=a,!1;r.shift()}return!0}function Mv(t,r,a){Qc(t)&&a.delete(r)}function IA(){dm=!1,Qr!==null&&Qc(Qr)&&(Qr=null),Yr!==null&&Qc(Yr)&&(Yr=null),Xr!==null&&Qc(Xr)&&(Xr=null),Ll.forEach(Mv),Ul.forEach(Mv)}function Yc(t,r){t.blockedOn===r&&(t.blockedOn=null,dm||(dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,IA)))}var Xc=null;function Vv(t){Xc!==t&&(Xc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=vi(a);d!==null&&(t.splice(r,3),r-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function zl(t){function r(C){return Yc(C,t)}Qr!==null&&Yc(Qr,t),Yr!==null&&Yc(Yr,t),Xr!==null&&Yc(Xr,t),Ll.forEach(r),Ul.forEach(r);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)Ov(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[It]||null;if(typeof d=="function")v||Vv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[It]||null)T=v.formAction;else if(fm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Vv(a)}}}function mm(t){this._internalRoot=t}Wc.prototype.render=mm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Pn();Iv(a,l,t,r,null,null)},Wc.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Iv(t.current,2,null,t,null,null),Oc(),r[jn]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var r=at();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Wr.length&&r!==0&&r<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&Ov(t)}};var Pv=e.version;if(Pv!=="19.1.0")throw Error(s(527,Pv,"19.1.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var CA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{ut=Zc.inject(CA),$e=Zc}catch{}}return ql.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Wy,d=Zy,v=Jy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Av(t,1,!1,null,null,a,l,h,d,v,T,null),t[jn]=r.current,Xd(t),new mm(r)},ql.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Wy,v=Zy,T=Jy,C=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=Av(t,1,!0,r,a??null,l,h,d,v,T,C,H),r.context=Rv(null),a=r.current,l=Pn(),l=vn(l),h=Vr(l),h.callback=null,Pr(a,h,l),a=l,r.current.lanes=a,_t(r,a),Mi(r),t[jn]=r.current,Xd(t),new Wc(r)},ql.version="19.1.0",ql}var Gv;function LA(){if(Gv)return ym.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=kA(),ym.exports}var UA=LA();const jA=()=>{};var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zA=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},HE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(R=64)),s.push(n[E],n[b],n[R],n[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(qE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):zA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new BA;const R=u<<2|m>>4;if(s.push(R),g!==64){const P=m<<4&240|g>>2;if(s.push(P),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class BA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(i){const e=qE(i);return HE.encodeByteArray(e,!0)},Eh=function(i){return qA(i).replace(/\./g,"")},FE=function(i){try{return HE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=()=>HA().__FIREBASE_DEFAULTS__,GA=()=>{if(typeof process>"u"||typeof Kv>"u")return;const i=Kv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},KA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&FE(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return jA()||FA()||GA()||KA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},GE=i=>{var e,n;return(n=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},$A=i=>{const e=GE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},KE=()=>{var i;return(i=Hh())===null||i===void 0?void 0:i.config},$E=i=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function WA(){var i;const e=(i=Hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QE(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function JA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eR(){const i=un();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function tR(){return!WA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YE(){try{return typeof indexedDB=="object"}catch{return!1}}function XE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function nR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="FirebaseError";class fi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=iR,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,da.prototype.create)}}class da{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?rR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fi(o,m,s)}}function rR(i,e){return i.replace(sR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const sR=/\{\$([^}]+)}/g;function aR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function hs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if($v(u)&&$v(f)){if(!hs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function $v(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function $l(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function oR(i,e){const n=new lR(i,e);return n.subscribe.bind(n)}class lR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Tm),o.error===void 0&&(o.error=Tm),o.complete===void 0&&(o.complete=Tm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=1e3,hR=2,fR=4*60*60*1e3,dR=.5;function Qv(i,e=cR,n=hR){const s=e*Math.pow(n,i),o=Math.round(dR*s*(Math.random()-.5)*2);return Math.min(fR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(i){return i&&i._delegate?i._delegate:i}class li{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new QA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gR(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pR(i){return i===ia?void 0:i}function gR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const _R={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},vR=ze.INFO,ER={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},TR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=ER[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fh{constructor(e){this.name=e,this._logLevel=vR,this._logHandler=TR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const wR=(i,e)=>e.some(n=>i instanceof n);let Yv,Xv;function bR(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SR(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,Um=new WeakMap,ZE=new WeakMap,wm=new WeakMap,yp=new WeakMap;function AR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(as(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&WE.set(n,i)}).catch(()=>{}),yp.set(e,i),e}function RR(i){if(Um.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Um.set(i,e)}let jm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Um.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ZE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function IR(i){jm=i(jm)}function CR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(bm(this),e,...n);return ZE.set(s,e.sort?e.sort():[e]),as(s)}:SR().includes(i)?function(...e){return i.apply(bm(this),e),as(WE.get(this))}:function(...e){return as(i.apply(bm(this),e))}}function NR(i){return typeof i=="function"?CR(i):(i instanceof IDBTransaction&&RR(i),wR(i,bR())?new Proxy(i,jm):i)}function as(i){if(i instanceof IDBRequest)return AR(i);if(wm.has(i))return wm.get(i);const e=NR(i);return e!==i&&(wm.set(i,e),yp.set(e,i)),e}const bm=i=>yp.get(i);function JE(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=as(f);return s&&f.addEventListener("upgradeneeded",p=>{s(as(f.result),p.oldVersion,p.newVersion,as(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const DR=["get","getKey","getAll","getAllKeys","count"],xR=["put","add","delete","clear"],Sm=new Map;function Wv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=xR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||DR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}IR(i=>({...i,get:(e,n,s)=>Wv(e,n)||i.get(e,n,s),has:(e,n)=>!!Wv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function MR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",Zv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new Fh("@firebase/app"),VR="@firebase/app-compat",PR="@firebase/analytics-compat",kR="@firebase/analytics",LR="@firebase/app-check-compat",UR="@firebase/app-check",jR="@firebase/auth",zR="@firebase/auth-compat",BR="@firebase/database",qR="@firebase/data-connect",HR="@firebase/database-compat",FR="@firebase/functions",GR="@firebase/functions-compat",KR="@firebase/installations",$R="@firebase/installations-compat",QR="@firebase/messaging",YR="@firebase/messaging-compat",XR="@firebase/performance",WR="@firebase/performance-compat",ZR="@firebase/remote-config",JR="@firebase/remote-config-compat",eI="@firebase/storage",tI="@firebase/storage-compat",nI="@firebase/firestore",iI="@firebase/vertexai",rI="@firebase/firestore-compat",sI="firebase",aI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",oI={[zm]:"fire-core",[VR]:"fire-core-compat",[kR]:"fire-analytics",[PR]:"fire-analytics-compat",[UR]:"fire-app-check",[LR]:"fire-app-check-compat",[jR]:"fire-auth",[zR]:"fire-auth-compat",[BR]:"fire-rtdb",[qR]:"fire-data-connect",[HR]:"fire-rtdb-compat",[FR]:"fire-fn",[GR]:"fire-fn-compat",[KR]:"fire-iid",[$R]:"fire-iid-compat",[QR]:"fire-fcm",[YR]:"fire-fcm-compat",[XR]:"fire-perf",[WR]:"fire-perf-compat",[ZR]:"fire-rc",[JR]:"fire-rc-compat",[eI]:"fire-gcs",[tI]:"fire-gcs-compat",[nI]:"fire-fst",[rI]:"fire-fst-compat",[iI]:"fire-vertex","fire-js":"fire-js",[sI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,lI=new Map,qm=new Map;function Jv(i,e){try{i.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Bi(i){const e=i.name;if(qm.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,i);for(const n of Th.values())Jv(n,i);for(const n of lI.values())Jv(n,i);return!0}function ma(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Wn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new da("app","Firebase",uI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=aI;function eT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Bm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=KE()),!n)throw os.create("no-options");const u=Th.get(o);if(u){if(hs(n,u.options)&&hs(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const f=new yR(o);for(const p of qm.values())f.addComponent(p);const m=new cI(n,s,f);return Th.set(o,m),m}function _p(i=Bm){const e=Th.get(i);if(!e&&i===Bm&&KE())return eT();if(!e)throw os.create("no-app",{appName:i});return e}function Zn(i,e,n){var s;let o=(s=oI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(m.join(" "));return}Bi(new li(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebase-heartbeat-database",fI=1,su="firebase-heartbeat-store";let Am=null;function tT(){return Am||(Am=JE(hI,fI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(i=>{throw os.create("idb-open",{originalErrorMessage:i.message})})),Am}async function dI(i){try{const n=(await tT()).transaction(su),s=await n.objectStore(su).get(nT(i));return await n.done,s}catch(e){if(e instanceof fi)vr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(n.message)}}}async function e0(i,e){try{const s=(await tT()).transaction(su,"readwrite");await s.objectStore(su).put(e,nT(i)),await s.done}catch(n){if(n instanceof fi)vr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(s.message)}}}function nT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=1024,pI=30;class gI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _I(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=t0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>pI){const f=vI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){vr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t0(),{heartbeatsToSend:s,unsentEntries:o}=yI(this._heartbeatsCache.heartbeats),u=Eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return vr.warn(n),""}}}function t0(){return new Date().toISOString().substring(0,10)}function yI(i,e=mI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),n0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),n0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _I{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YE()?XE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return e0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return e0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function n0(i){return Eh(JSON.stringify({version:2,heartbeats:i})).length}function vI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(i){Bi(new li("platform-logger",e=>new OR(e),"PRIVATE")),Bi(new li("heartbeat",e=>new gI(e),"PRIVATE")),Zn(zm,Zv,i),Zn(zm,Zv,"esm2017"),Zn("fire-js","")}EI("");var TI="firebase",wI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(TI,wI,"app");var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,iT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function I(){}I.prototype=S.prototype,x.D=S.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(D,V,L){for(var N=Array(arguments.length-2),At=2;At<arguments.length;At++)N[At-2]=arguments[At];return S.prototype[V].apply(D,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,I){I||(I=0);var D=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)D[V]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(V=0;16>V;++V)D[V]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=x.g[0],I=x.g[1],V=x.g[2];var L=x.g[3],N=S+(L^I&(V^L))+D[0]+3614090360&4294967295;S=I+(N<<7&4294967295|N>>>25),N=L+(V^S&(I^V))+D[1]+3905402710&4294967295,L=S+(N<<12&4294967295|N>>>20),N=V+(I^L&(S^I))+D[2]+606105819&4294967295,V=L+(N<<17&4294967295|N>>>15),N=I+(S^V&(L^S))+D[3]+3250441966&4294967295,I=V+(N<<22&4294967295|N>>>10),N=S+(L^I&(V^L))+D[4]+4118548399&4294967295,S=I+(N<<7&4294967295|N>>>25),N=L+(V^S&(I^V))+D[5]+1200080426&4294967295,L=S+(N<<12&4294967295|N>>>20),N=V+(I^L&(S^I))+D[6]+2821735955&4294967295,V=L+(N<<17&4294967295|N>>>15),N=I+(S^V&(L^S))+D[7]+4249261313&4294967295,I=V+(N<<22&4294967295|N>>>10),N=S+(L^I&(V^L))+D[8]+1770035416&4294967295,S=I+(N<<7&4294967295|N>>>25),N=L+(V^S&(I^V))+D[9]+2336552879&4294967295,L=S+(N<<12&4294967295|N>>>20),N=V+(I^L&(S^I))+D[10]+4294925233&4294967295,V=L+(N<<17&4294967295|N>>>15),N=I+(S^V&(L^S))+D[11]+2304563134&4294967295,I=V+(N<<22&4294967295|N>>>10),N=S+(L^I&(V^L))+D[12]+1804603682&4294967295,S=I+(N<<7&4294967295|N>>>25),N=L+(V^S&(I^V))+D[13]+4254626195&4294967295,L=S+(N<<12&4294967295|N>>>20),N=V+(I^L&(S^I))+D[14]+2792965006&4294967295,V=L+(N<<17&4294967295|N>>>15),N=I+(S^V&(L^S))+D[15]+1236535329&4294967295,I=V+(N<<22&4294967295|N>>>10),N=S+(V^L&(I^V))+D[1]+4129170786&4294967295,S=I+(N<<5&4294967295|N>>>27),N=L+(I^V&(S^I))+D[6]+3225465664&4294967295,L=S+(N<<9&4294967295|N>>>23),N=V+(S^I&(L^S))+D[11]+643717713&4294967295,V=L+(N<<14&4294967295|N>>>18),N=I+(L^S&(V^L))+D[0]+3921069994&4294967295,I=V+(N<<20&4294967295|N>>>12),N=S+(V^L&(I^V))+D[5]+3593408605&4294967295,S=I+(N<<5&4294967295|N>>>27),N=L+(I^V&(S^I))+D[10]+38016083&4294967295,L=S+(N<<9&4294967295|N>>>23),N=V+(S^I&(L^S))+D[15]+3634488961&4294967295,V=L+(N<<14&4294967295|N>>>18),N=I+(L^S&(V^L))+D[4]+3889429448&4294967295,I=V+(N<<20&4294967295|N>>>12),N=S+(V^L&(I^V))+D[9]+568446438&4294967295,S=I+(N<<5&4294967295|N>>>27),N=L+(I^V&(S^I))+D[14]+3275163606&4294967295,L=S+(N<<9&4294967295|N>>>23),N=V+(S^I&(L^S))+D[3]+4107603335&4294967295,V=L+(N<<14&4294967295|N>>>18),N=I+(L^S&(V^L))+D[8]+1163531501&4294967295,I=V+(N<<20&4294967295|N>>>12),N=S+(V^L&(I^V))+D[13]+2850285829&4294967295,S=I+(N<<5&4294967295|N>>>27),N=L+(I^V&(S^I))+D[2]+4243563512&4294967295,L=S+(N<<9&4294967295|N>>>23),N=V+(S^I&(L^S))+D[7]+1735328473&4294967295,V=L+(N<<14&4294967295|N>>>18),N=I+(L^S&(V^L))+D[12]+2368359562&4294967295,I=V+(N<<20&4294967295|N>>>12),N=S+(I^V^L)+D[5]+4294588738&4294967295,S=I+(N<<4&4294967295|N>>>28),N=L+(S^I^V)+D[8]+2272392833&4294967295,L=S+(N<<11&4294967295|N>>>21),N=V+(L^S^I)+D[11]+1839030562&4294967295,V=L+(N<<16&4294967295|N>>>16),N=I+(V^L^S)+D[14]+4259657740&4294967295,I=V+(N<<23&4294967295|N>>>9),N=S+(I^V^L)+D[1]+2763975236&4294967295,S=I+(N<<4&4294967295|N>>>28),N=L+(S^I^V)+D[4]+1272893353&4294967295,L=S+(N<<11&4294967295|N>>>21),N=V+(L^S^I)+D[7]+4139469664&4294967295,V=L+(N<<16&4294967295|N>>>16),N=I+(V^L^S)+D[10]+3200236656&4294967295,I=V+(N<<23&4294967295|N>>>9),N=S+(I^V^L)+D[13]+681279174&4294967295,S=I+(N<<4&4294967295|N>>>28),N=L+(S^I^V)+D[0]+3936430074&4294967295,L=S+(N<<11&4294967295|N>>>21),N=V+(L^S^I)+D[3]+3572445317&4294967295,V=L+(N<<16&4294967295|N>>>16),N=I+(V^L^S)+D[6]+76029189&4294967295,I=V+(N<<23&4294967295|N>>>9),N=S+(I^V^L)+D[9]+3654602809&4294967295,S=I+(N<<4&4294967295|N>>>28),N=L+(S^I^V)+D[12]+3873151461&4294967295,L=S+(N<<11&4294967295|N>>>21),N=V+(L^S^I)+D[15]+530742520&4294967295,V=L+(N<<16&4294967295|N>>>16),N=I+(V^L^S)+D[2]+3299628645&4294967295,I=V+(N<<23&4294967295|N>>>9),N=S+(V^(I|~L))+D[0]+4096336452&4294967295,S=I+(N<<6&4294967295|N>>>26),N=L+(I^(S|~V))+D[7]+1126891415&4294967295,L=S+(N<<10&4294967295|N>>>22),N=V+(S^(L|~I))+D[14]+2878612391&4294967295,V=L+(N<<15&4294967295|N>>>17),N=I+(L^(V|~S))+D[5]+4237533241&4294967295,I=V+(N<<21&4294967295|N>>>11),N=S+(V^(I|~L))+D[12]+1700485571&4294967295,S=I+(N<<6&4294967295|N>>>26),N=L+(I^(S|~V))+D[3]+2399980690&4294967295,L=S+(N<<10&4294967295|N>>>22),N=V+(S^(L|~I))+D[10]+4293915773&4294967295,V=L+(N<<15&4294967295|N>>>17),N=I+(L^(V|~S))+D[1]+2240044497&4294967295,I=V+(N<<21&4294967295|N>>>11),N=S+(V^(I|~L))+D[8]+1873313359&4294967295,S=I+(N<<6&4294967295|N>>>26),N=L+(I^(S|~V))+D[15]+4264355552&4294967295,L=S+(N<<10&4294967295|N>>>22),N=V+(S^(L|~I))+D[6]+2734768916&4294967295,V=L+(N<<15&4294967295|N>>>17),N=I+(L^(V|~S))+D[13]+1309151649&4294967295,I=V+(N<<21&4294967295|N>>>11),N=S+(V^(I|~L))+D[4]+4149444226&4294967295,S=I+(N<<6&4294967295|N>>>26),N=L+(I^(S|~V))+D[11]+3174756917&4294967295,L=S+(N<<10&4294967295|N>>>22),N=V+(S^(L|~I))+D[2]+718787259&4294967295,V=L+(N<<15&4294967295|N>>>17),N=I+(L^(V|~S))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var I=S-this.blockSize,D=this.B,V=this.h,L=0;L<S;){if(V==0)for(;L<=I;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<S;)if(D[V++]=x.charCodeAt(L++),V==this.blockSize){o(this,D),V=0;break}}else for(;L<S;)if(D[V++]=x[L++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var I=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=I&255,I/=256;for(this.u(x),x=Array(16),S=I=0;4>S;++S)for(var D=0;32>D;D+=8)x[I++]=this.g[S]>>>D&255;return x};function u(x,S){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=S(x)}function f(x,S){this.h=S;for(var I=[],D=!0,V=x.length-1;0<=V;V--){var L=x[V]|0;D&&L==S||(I[V]=L,D=!1)}this.g=I}var m={};function p(x){return-128<=x&&128>x?u(x,function(S){return new f([S|0],0>S?-1:0)}):new f([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return q(g(-x));for(var S=[],I=1,D=0;x>=I;D++)S[D]=x/I|0,I*=4294967296;return new f(S,0)}function E(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return q(E(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(S,8)),D=b,V=0;V<x.length;V+=8){var L=Math.min(8,x.length-V),N=parseInt(x.substring(V,V+L),S);8>L?(L=g(Math.pow(S,L)),D=D.j(L).add(g(N))):(D=D.j(I),D=D.add(g(N)))}return D}var b=p(0),R=p(1),P=p(16777216);i=f.prototype,i.m=function(){if(Q(this))return-q(this).m();for(var x=0,S=1,I=0;I<this.g.length;I++){var D=this.i(I);x+=(0<=D?D:4294967296+D)*S,S*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M(this))return"0";if(Q(this))return"-"+q(this).toString(x);for(var S=g(Math.pow(x,6)),I=this,D="";;){var V=ge(I,S).g;I=Y(I,V.j(S));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=V,M(I))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function M(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function Q(x){return x.h==-1}i.l=function(x){return x=Y(this,x),Q(x)?-1:M(x)?0:1};function q(x){for(var S=x.g.length,I=[],D=0;D<S;D++)I[D]=~x.g[D];return new f(I,~x.h).add(R)}i.abs=function(){return Q(this)?q(this):this},i.add=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],D=0,V=0;V<=S;V++){var L=D+(this.i(V)&65535)+(x.i(V)&65535),N=(L>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);D=N>>>16,L&=65535,N&=65535,I[V]=N<<16|L}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Y(x,S){return x.add(q(S))}i.j=function(x){if(M(this)||M(x))return b;if(Q(this))return Q(x)?q(this).j(q(x)):q(q(this).j(x));if(Q(x))return q(this.j(q(x)));if(0>this.l(P)&&0>x.l(P))return g(this.m()*x.m());for(var S=this.g.length+x.g.length,I=[],D=0;D<2*S;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<x.g.length;V++){var L=this.i(D)>>>16,N=this.i(D)&65535,At=x.i(V)>>>16,rt=x.i(V)&65535;I[2*D+2*V]+=N*rt,se(I,2*D+2*V),I[2*D+2*V+1]+=L*rt,se(I,2*D+2*V+1),I[2*D+2*V+1]+=N*At,se(I,2*D+2*V+1),I[2*D+2*V+2]+=L*At,se(I,2*D+2*V+2)}for(D=0;D<S;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=S;D<2*S;D++)I[D]=0;return new f(I,0)};function se(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function ne(x,S){this.g=x,this.h=S}function ge(x,S){if(M(S))throw Error("division by zero");if(M(x))return new ne(b,b);if(Q(x))return S=ge(q(x),S),new ne(q(S.g),q(S.h));if(Q(S))return S=ge(x,q(S)),new ne(q(S.g),S.h);if(30<x.g.length){if(Q(x)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var I=R,D=S;0>=D.l(x);)I=he(I),D=he(D);var V=fe(I,1),L=fe(D,1);for(D=fe(D,2),I=fe(I,2);!M(D);){var N=L.add(D);0>=N.l(x)&&(V=V.add(I),L=N),D=fe(D,1),I=fe(I,1)}return S=Y(x,V.j(S)),new ne(V,S)}for(V=b;0<=x.l(S);){for(I=Math.max(1,Math.floor(x.m()/S.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=g(I),N=L.j(S);Q(N)||0<N.l(x);)I-=D,L=g(I),N=L.j(S);M(L)&&(L=R),V=V.add(L),x=Y(x,N)}return new ne(V,x)}i.A=function(x){return ge(this,x).h},i.and=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)&x.i(D);return new f(I,this.h&x.h)},i.or=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)|x.i(D);return new f(I,this.h|x.h)},i.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)^x.i(D);return new f(I,this.h^x.h)};function he(x){for(var S=x.g.length+1,I=[],D=0;D<S;D++)I[D]=x.i(D)<<1|x.i(D-1)>>>31;return new f(I,x.h)}function fe(x,S){var I=S>>5;S%=32;for(var D=x.g.length-I,V=[],L=0;L<D;L++)V[L]=0<S?x.i(L+I)>>>S|x.i(L+I+1)<<32-S:x.i(L+I);return new f(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,iT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ls=f}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rT,Ql,sT,lh,Hm,aT,oT,lT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in _))break e;_=_[z]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,z={next:function(){if(!w&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,R.apply(null,arguments)}function P(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,z,$){for(var ae=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ae[qe-2]=arguments[qe];return y.prototype[z].apply(w,ae)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function q(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const z=c.length||0,$=w.length||0;c.length=z+$;for(let ae=0;ae<$;ae++)c[z+ae]=w[ae]}else c.push(w)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var he=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function fe(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)c[_]=w[_];for(let $=0;$<I.length;$++)_=I[$],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Le;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class At{constructor(){this.h=this.g=null}add(y,_){const w=rt.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var rt=new Y(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ye=!1,Le=new At,O=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ie)}};var ie=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){L(_)}var y=rt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ye=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Me(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{ge(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Me.aa.h.call(this)}}M(Me,re);var we={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function yn(c,y,_,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=z,this.key=++Je,this.da=this.fa=!1}function ti(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rn(c){this.src=c,this.g={},this.h=0}Rn.prototype.add=function(c,y,_,w,z){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=pi(c,y,w,z);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new yn(y,this.src,$,!!w,z),y.fa=_,c.push(y)),y};function mi(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],z=Array.prototype.indexOf.call(w,y,void 0),$;($=0<=z)&&Array.prototype.splice.call(w,z,1),$&&(ti(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function pi(c,y,_,w){for(var z=0;z<c.length;++z){var $=c[z];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==w)return z}return-1}var gi="closure_lm_"+(1e6*Math.random()|0),Sr={};function _a(c,y,_,w,z){if(Array.isArray(y)){for(var $=0;$<y.length;$++)_a(c,y[$],_,w,z);return null}return _=va(_),c&&c[pt]?c.K(y,_,g(w)?!!w.capture:!1,z):cn(c,y,_,!1,w,z)}function cn(c,y,_,w,z,$){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,qe=Rr(c);if(qe||(c[gi]=qe=new Rn(c)),_=qe.add(y,_,w,ae,$),_.proxy)return _;if(w=jo(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)me||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(Fi(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function jo(){function c(_){return y.call(c.src,c.listener,_)}const y=zo;return c}function Rs(c,y,_,w,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)Rs(c,y[$],_,w,z);else w=g(w)?!!w.capture:!!w,_=va(_),c&&c[pt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=pi($,_,w,z),-1<_&&(ti($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Rr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=pi(y,_,w,z)),(_=-1<c?y[c]:null)&&Ar(_))}function Ar(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[pt])mi(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(Fi(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Rr(y))?(mi(_,c),_.h==0&&(_.src=null,y[gi]=null)):ti(c)}}}function Fi(c){return c in Sr?Sr[c]:Sr[c]="on"+c}function zo(c,y){if(c.da)c=!0;else{y=new Me(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&Ar(c),c=_.call(w,y)}return c}function Rr(c){return c=c[gi],c instanceof Rn?c:null}var Is="__closure_events_fn_"+(1e9*Math.random()>>>0);function va(c){return typeof c=="function"?c:(c[Is]||(c[Is]=function(y){return c.handleEvent(y)}),c[Is])}function ut(){le.call(this),this.i=new Rn(this),this.M=this,this.F=null}M(ut,le),ut.prototype[pt]=!0,ut.prototype.removeEventListener=function(c,y,_,w){Rs(this,c,y,_,w)};function $e(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var z=y;y=new re(w,c),D(y,z)}if(z=!0,_)for(var $=_.length-1;0<=$;$--){var ae=y.g=_[$];z=hn(ae,w,!0,y)&&z}if(ae=y.g=c,z=hn(ae,w,!0,y)&&z,z=hn(ae,w,!1,y)&&z,_)for($=0;$<_.length;$++)ae=y.g=_[$],z=hn(ae,w,!1,y)&&z}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)ti(_[w]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ut.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function hn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,$=0;$<y.length;++$){var ae=y[$];if(ae&&!ae.da&&ae.capture==_){var qe=ae.listener,Vt=ae.ha||ae.src;ae.fa&&mi(c.i,ae),z=qe.call(Vt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Bt(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ea(c){c.g=Bt(()=>{c.g=null,c.i&&(c.i=!1,Ea(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ta extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ea(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(c){le.call(this),this.h=c,this.g={}}M(Gi,le);var yi=[];function _i(c){fe(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ar(y)},c),c.g={}}Gi.prototype.N=function(){Gi.aa.N.call(this),_i(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=m.JSON.stringify,F=m.JSON.parse,ue=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Te(){}Te.prototype.h=null;function Se(c){return c.h||(c.h=c.i())}function ve(){}var xe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _t(){re.call(this,"d")}M(_t,re);function _n(){re.call(this,"c")}M(_n,re);var Rt={},nn=null;function vn(){return nn=nn||new ut}Rt.La="serverreachability";function Cn(c){re.call(this,Rt.La,c)}M(Cn,re);function at(c){const y=vn();$e(y,new Cn(y))}Rt.STAT_EVENT="statevent";function vt(c,y){re.call(this,Rt.STAT_EVENT,c),this.stat=y}M(vt,re);function ct(c){const y=vn();$e(y,new vt(y,c))}Rt.Ma="timingevent";function Mt(c,y){re.call(this,Rt.Ma,c),this.size=y}M(Mt,re);function It(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function Bo(c,y,_,w,z,$){c.info(function(){if(c.g)if($)for(var ae="",qe=$.split("&"),Vt=0;Vt<qe.length;Vt++){var He=qe[Vt].split("=");if(1<He.length){var Ht=He[0];He=He[1];var Pt=Ht.split("_");ae=2<=Pt.length&&Pt[1]=="type"?ae+(Ht+"="+He+"&"):ae+(Ht+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+_+`
`+ae})}function _f(c,y,_,w,z,$,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+_+`
`+$+" "+ae})}function Ir(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Cs(c,_)+(w?" "+w:"")})}function Mu(c,y){c.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function Cs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return In(_)}catch{return y}}var Cr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vi;function Ei(){}M(Ei,Te),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},vi=new Ei;function fn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new Gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}var qo={},wa={};function ni(c,y,_){c.L=1,c.v=Ms(Nn(y)),c.m=_,c.P=!0,$i(c,null)}function $i(c,y){c.F=Date.now(),Ns(c),c.A=Nn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Qo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new Et,c.g=Yu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ta(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(yi[0]=z.toString()),z=yi);for(var $=0;$<z.length;$++){var ae=_a(_,z[$],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),at(),Bo(c.i,c.u,c.A,c.l,c.R,c.m)}fn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Hn(c)==3?y.j():this.Y(c)},fn.prototype.Y=function(c){try{if(c==this.g)e:{const Pt=Hn(this.g);var y=this.g.Ba();const tr=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Pt!=4||y==7||(y==8||0>=tr?at(3):at(2)),Nr(this);var _=this.g.Z();this.X=_;t:if(Vu(this)){var w=Bu(this.g);c="";var z=w.length,$=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),Ti(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!($&&y==z-1)});w.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,_f(this.i,this.u,this.A,this.l,this.R,Pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Vt=this.g;if((qe=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(qe)){var He=qe;break t}}He=null}if(_=He)Ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ds(this,_);else{this.o=!1,this.s=3,ct(12),Qt(this),Ti(this);break e}}if(this.P){_=!0;let Yt;for(;!this.J&&this.C<ae.length;)if(Yt=Pu(this,ae),Yt==wa){Pt==4&&(this.s=4,ct(14),_=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==qo){this.s=4,ct(15),Ir(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else Ir(this.i,this.l,Yt,null),Ds(this,Yt);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ae.length!=0||this.h.h||(this.s=1,ct(16),_=!1),this.o=this.o&&_,!_)Ir(this.i,this.l,ae,"[Invalid Chunked Response]"),Qt(this),Ti(this);else if(0<ae.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Bs(Ht),Ht.M=!0,ct(11))}}else Ir(this.i,this.l,ae,null),Ds(this,ae);Pt==4&&Qt(this),this.o&&!this.J&&(Pt==4?Ku(this.j,this):(this.o=!1,Ns(this)))}else bf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),Qt(this),Ti(this)}}}catch{}finally{}};function Vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?wa:(_=Number(y.substring(_,w)),isNaN(_)?qo:(w+=1,w+_>y.length?wa:(y=y.slice(w,w+_),c.C=w+_,y)))}fn.prototype.cancel=function(){this.J=!0,Qt(this)};function Ns(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=It(R(c.ba,c),y)}function Nr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Mu(this.i,this.A),this.L!=2&&(at(),ct(17)),Qt(this),this.s=2,Ti(this)):ku(this,this.S-c)};function Ti(c){c.j.G==0||c.J||Ku(c.j,c)}function Qt(c){Nr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,_i(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ds(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ho(_.h,c))){if(!c.K&&Ho(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Va(_),Oa(_);else break e;Jo(_),ct(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=It(R(_.Za,_),6e3));if(1>=Sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else er(_,11)}else if((c.K||_.g==c)&&Va(_),!se(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let He=z[y];if(_.T=He[0],He=He[1],_.G==2)if(He[0]=="c"){_.K=He[1],_.ia=He[2];const Ht=He[3];Ht!=null&&(_.la=Ht,_.j.info("VER="+_.la));const Pt=He[4];Pt!=null&&(_.Aa=Pt,_.j.info("SVER="+_.Aa));const tr=He[5];tr!=null&&typeof tr=="number"&&0<tr&&(w=1.5*tr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Yt=c.g;if(Yt){const Ci=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var $=w.h;$.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Aa($,$.h),$.h=null))}if(w.D){const tl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(w.ya=tl,et(w.I,w.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ae=c;if(w.qa=Qu(w,w.J?w.ia:null,w.W),ae.K){dn(w.h,ae);var qe=ae,Vt=w.L;Vt&&(qe.I=Vt),qe.B&&(Nr(qe),Ns(qe)),w.g=ae}else Fu(w);0<_.i.length&&Ma(_)}else He[0]!="stop"&&He[0]!="close"||er(_,7);else _.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?er(_,7):Wo(_):He[0]!="noop"&&_.l&&_.l.ta(He),_.v=0)}}at(4)}catch{}}var Lu=class{constructor(c,y){this.g=c,this.map=y}};function Qi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ba(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Sa(c){return c.h?1:c.g?c.g.size:0}function Ho(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Aa(c,y){c.g?c.g.add(y):c.h=y}function dn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qi.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function vf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Ra(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Go(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ra(c),w=vf(c),z=w.length,$=0;$<z;$++)y.call(void 0,w[$],_&&_[$],c)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ef(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),z=null;if(0<=w){var $=c[_].substring(0,w);z=c[_].substring(w+1)}else $=c[_];y($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ct(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ct){this.h=c.h,Os(this,c.j),this.o=c.o,this.g=c.g,Dr(this,c.s),this.l=c.l;var y=c.i,_=new Xi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Yi(this,_),this.m=c.m}else c&&(y=String(c).match(xs))?(this.h=!1,Os(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),Dr(this,y[4]),this.l=zn(y[5]||"",!0),Yi(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Xi(null,this.h))}Ct.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Vs(y,Ko,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Vs(y,Ko,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Vs(_,_.charAt(0)=="/"?Tf:$o,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Vs(_,Ia)),c.join("")};function Nn(c){return new Ct(c)}function Os(c,y,_){c.j=_?zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Dr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Yi(c,y,_){y instanceof Xi?(c.i=y,ju(c.i,c.h)):(_||(y=Vs(y,wf)),c.i=new Xi(y,c.h))}function et(c,y,_){c.i.set(y,_)}function Ms(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,$o=/[#\?:]/g,Tf=/[#\?]/g,wf=/[#\?@]/g,Ia=/#/g;function Xi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ef(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Xi.prototype,i.add=function(c,y){Bn(this),this.i=null,c=wi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Wi(c,y){Bn(c),y=wi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Zi(c,y){return Bn(c),y=wi(c,y),c.g.has(y)}i.forEach=function(c,y){Bn(this),this.g.forEach(function(_,w){_.forEach(function(z){c.call(y,z,w,this)},this)},this)},i.na=function(){Bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const z=c[w];for(let $=0;$<z.length;$++)_.push(y[w])}return _},i.V=function(c){Bn(this);let y=[];if(typeof c=="string")Zi(this,c)&&(y=y.concat(this.g.get(wi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Bn(this),this.i=null,c=wi(this,c),Zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Qo(c,y,_){Wi(c,y),0<_.length&&(c.i=null,c.g.set(wi(c,y),Q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const $=encodeURIComponent(String(w)),ae=this.V(w);for(w=0;w<ae.length;w++){var z=$;ae[w]!==""&&(z+="="+encodeURIComponent(String(ae[w]))),c.push(z)}}return this.i=c.join("&")};function wi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ju(c,y){y&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(_,w){var z=w.toLowerCase();w!=z&&(Wi(this,w),Qo(this,z,_))},c)),c.j=y}function Ps(c,y){const _=new jn;if(m.Image){const w=new Image;w.onload=P(qn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=P(qn,_,"TestLoadImage: error",!1,y,w),w.onabort=P(qn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=P(qn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function ii(c,y){const _=new jn,w=new AbortController,z=setTimeout(()=>{w.abort(),qn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(z),$.ok?qn(_,"TestPingServer: ok",!0,y):qn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),qn(_,"TestPingServer: error",!1,y)})}function qn(c,y,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function ks(){this.g=new ue}function bi(c,y,_){const w=_||"";try{Go(c,function(z,$){let ae=z;g(z)&&(ae=In(z)),y.push(w+$+"="+encodeURIComponent(ae))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(xr,Te),xr.prototype.g=function(){return new Ji(this.l,this.j)},xr.prototype.i=function(c){return function(){return c}}({});function Ji(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ji,ut),i=Ji.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Si(this):Ai(this),this.readyState==3&&Yo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Si(this))},i.Qa=function(c){this.g&&(this.response=c,Si(this))},i.ga=function(){this.g&&Si(this)};function Si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ai(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let y="";return fe(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function qt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Xo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):et(c,y,_))}function Ye(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ye,ut);var Ca=/^https?$/i,Ls=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vi.g(),this.v=this.o?Se(this.o):Se(vi),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){zu(this,$);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())_.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ls,y,void 0))||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of _)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(c),this.u=!1}catch($){zu(this,$)}};function zu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Na(c),Ri(c)}function Na(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),Ri(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},i.bb=function(){Da(this)};function Da(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Bt(c.Ea,0,c);else if($e(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=ae===0){var z=String(c.D).match(xs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!Ca.test(z?z.toLowerCase():"")}_=w}if(_)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var $=2<Hn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Na(c)}}finally{Ri(c)}}}}function Ri(c,y){if(c.g){Us(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||$e(c,"ready");try{_.onreadystatechange=w}catch{}}}function Us(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),F(y)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bf(c){const y={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(se(c[w]))continue;var _=V(c[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[z]||[];y[z]=$,$.push(_)}x(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function xa(c){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,c),this.cb=js("retryDelaySeedMs",1e4,c),this.Wa=js("forwardChannelMaxRetries",2,c),this.wa=js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(c&&c.concurrentRequestLimit),this.Da=new ks,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=xa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){ct(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Qu(this,null,this.W),Ma(this)};function Wo(c){if(qu(c),c.G==3){var y=c.U++,_=Nn(c.I);if(et(_,"SID",c.K),et(_,"RID",y),et(_,"TYPE","terminate"),zs(c,_),y=new fn(c,c.j,y),y.L=2,y.v=Ms(Nn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Yu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ns(y)}$u(c)}function Oa(c){c.g&&(Bs(c),c.g.cancel(),c.g=null)}function qu(c){Oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ma(c){if(!ba(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||O(),ye||(oe(),ye=!0),Le.add(y,c),c.B=0}}function Sf(c,y){return Sa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=It(R(c.Ga,c,y),el(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new fn(this,this.j,c);let $=this.o;if(this.S&&($?($=S($),D($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Hu(this,z,y),_=Nn(this.I),et(_,"RID",c),et(_,"CVER",22),this.D&&et(_,"X-HTTP-Session-Id",this.D),zs(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Xo($)))+"&"+y:this.m&&qt(_,this.m,$)),Aa(this.h,z),this.Ua&&et(_,"TYPE","init"),this.P?(et(_,"$req",y),et(_,"SID","null"),z.T=!0,ni(z,_,null)):ni(z,_,y),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||ba(this.h)||Zo(this))};function Zo(c,y){var _;y?_=y.l:_=c.U++;const w=Nn(c.I);et(w,"SID",c.K),et(w,"RID",_),et(w,"AID",c.T),zs(c,w),c.m&&c.o&&qt(w,c.m,c.o),_=new fn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Hu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Aa(c.h,_),ni(_,w,y)}function zs(c,y){c.H&&fe(c.H,function(_,w){et(y,w,_)}),c.l&&Go({},function(_,w){et(y,w,_)})}function Hu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?R(c.l.Na,c.l,c):null;e:{var z=c.i;let $=-1;for(;;){const ae=["count="+_];$==-1?0<_?($=z[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let qe=!0;for(let Vt=0;Vt<_;Vt++){let He=z[Vt].g;const Ht=z[Vt].map;if(He-=$,0>He)$=Math.max(0,z[Vt].g-100),qe=!1;else try{bi(Ht,ae,"req"+He+"_")}catch{w&&w(Ht)}}if(qe){w=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Fu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||O(),ye||(oe(),ye=!0),Le.add(y,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=It(R(c.Fa,c),el(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=It(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Oa(this),Gu(this))};function Bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Gu(c){c.g=new fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Nn(c.qa);et(y,"RID","rpc"),et(y,"SID",c.K),et(y,"AID",c.T),et(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(y,"TO",c.ja),et(y,"TYPE","xmlhttp"),zs(c,y),c.m&&c.o&&qt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ms(Nn(y)),_.m=null,_.P=!0,$i(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Oa(this),Jo(this),ct(19))};function Va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ku(c,y){var _=null;if(c.g==y){Va(c),Bs(c),c.g=null;var w=2}else if(Ho(c.h,y))_=y.D,dn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;w=vn(),$e(w,new Mt(w,_)),Ma(c)}else Fu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&Sf(c,y)||w==2&&Jo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:er(c,5);break;case 4:er(c,10);break;case 3:er(c,6);break;default:er(c,2)}}}function el(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function er(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),w=c.Xa;const z=!w;w=new Ct(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Os(w,"https"),Ms(w),z?Ps(w.toString(),_):ii(w.toString(),_)}else ct(2);c.G=0,c.l&&c.l.sa(y),$u(c),qu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function $u(c){if(c.G=0,c.ka=[],c.l){const y=Fo(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Qu(c,y,_){var w=_ instanceof Ct?Nn(_):new Ct(_);if(w.g!="")y&&(w.g=y+"."+w.g),Dr(w,w.s);else{var z=m.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var $=new Ct(null);w&&Os($,w),y&&($.g=y),z&&Dr($,z),_&&($.l=_),w=$}return _=c.D,y=c.ya,_&&y&&et(w,_,y),et(w,"VER",c.la),zs(c,w),w}function Yu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new xr({eb:_})):new Ye(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}i=Xu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Pa(){}Pa.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){ut.call(this),this.g=new xa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ii(this)}M(mn,ut),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Wo(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=In(c),c=_);y.i.push(new Lu(y.Ya++,c)),y.G==3&&Ma(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,mn.aa.N.call(this)};function Wu(c){_t.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Wu,_t);function Zu(){_n.call(this),this.status=1}M(Zu,_n);function Ii(c){this.g=c}M(Ii,Xu),Ii.prototype.ua=function(){$e(this.g,"a")},Ii.prototype.ta=function(c){$e(this.g,new Wu(c))},Ii.prototype.sa=function(c){$e(this.g,new Zu)},Ii.prototype.ra=function(){$e(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,lT=function(){return new Pa},oT=function(){return vn()},aT=Rt,Hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cr.NO_ERROR=0,Cr.TIMEOUT=8,Cr.HTTP_ERROR=6,lh=Cr,Ki.COMPLETE="complete",sT=Ki,ve.EventType=xe,xe.OPEN="a",xe.CLOSE="b",xe.ERROR="c",xe.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ql=ve,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,rT=Ye}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore",s0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Fh("@firebase/firestore");function ho(){return oa.logLevel}function ce(i,...e){if(oa.logLevel<=ze.DEBUG){const n=e.map(vp);oa.debug(`Firestore (${Do}): ${i}`,...n)}}function Er(i,...e){if(oa.logLevel<=ze.ERROR){const n=e.map(vp);oa.error(`Firestore (${Do}): ${i}`,...n)}}function wo(i,...e){if(oa.logLevel<=ze.WARN){const n=e.map(vp);oa.warn(`Firestore (${Do}): ${i}`,...n)}}function vp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i="Unexpected state"){const e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+i;throw Er(e),new Error(e)}function Xe(i,e){i||Ce()}function De(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(on.UNAUTHENTICATED))}shutdown(){}}class SI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AI{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new us;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new us,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new us)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string"),new uT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new on(e)}}class RI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class II{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new RI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Wn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new a0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new a0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=NI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function Fm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Pe(s,o);{const u=cT(),f=DI(u.encode(o0(i,n)),u.encode(o0(e,n)));return f!==0?f:Pe(s,o)}}n+=s>65535?2:1}return Pe(i.length,e.length)}function o0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function DI(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Pe(i[n],e[n]);return Pe(i.length,e.length)}function bo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-62135596800,u0=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*u0);return new jt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l0)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-l0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new jt(0,0))}static max(){return new Ne(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(),s===void 0?s=e.length-n:s>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class lt extends Vi{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const xI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Vi{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return xI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===c0}static keyField(){return new en([c0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(lt.fromString(e))}static fromName(e){return new Ee(lt.fromString(e).popFirst(5))}static empty(){return new Ee(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function OI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new jt(n+1,0):new jt(n,s));return new fs(o,Ee.empty(),e)}function MI(i){return new fs(i.readTime,i.key,au)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(Ne.min(),Ee.empty(),au)}static max(){return new fs(Ne.max(),Ee.empty(),au)}}function VI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==PI)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function LI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Gh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function Kh(i){return i==null}function wh(i){return i===0&&1/i==-1/0}function UI(i){return typeof i=="number"&&Number.isInteger(i)&&!wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="";function jI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=h0(e)),e=zI(i.get(n),e);return h0(e)}function zI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case fT:n+="";break;default:n+=u}}return n}function h0(i){return i+fT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function vs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function dT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new zt(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new mT("Invalid base64 string: "+u):u}}(e);return new tn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const BI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if(Xe(!!i),typeof i=="string"){let e=0;const n=BI.exec(i);if(Xe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ms(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="server_timestamp",gT="__type__",yT="__previous_value__",_T="__local_write_time__";function Tp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[gT])===null||n===void 0?void 0:n.stringValue)===pT}function $h(i){const e=i.mapValue.fields[yT];return Tp(e)?$h(e):e}function ou(i){const e=ds(i.mapValue.fields[_T].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const bh="(default)";class lu{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__type__",HI="__max__",th={mapValue:{}},ET="__vector__",Sh="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Tp(i)?4:GI(i)?9007199254740991:FI(i)?10:11:Ce()}function qi(i,e){if(i===e)return!0;const n=ps(i);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ou(i).isEqual(ou(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ds(o.timestampValue),m=ds(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),m=bt(u.doubleValue);return f===m?wh(f)===wh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return bo(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(f0(f)!==f0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!qi(f[p],m[p])))return!1;return!0}(i,e);default:return Ce()}}function uu(i,e){return(i.values||[]).find(n=>qi(n,e))!==void 0}function So(i,e){if(i===e)return 0;const n=ps(i),s=ps(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=bt(u.integerValue||u.doubleValue),p=bt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return m0(i.timestampValue,e.timestampValue);case 4:return m0(ou(i),ou(e));case 5:return Fm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=ms(u),p=ms(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pe(m[g],p[g]);if(E!==0)return E}return Pe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(bt(u.latitude),bt(f.latitude));return m!==0?m:Pe(bt(u.longitude),bt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return p0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const b=u.fields||{},R=f.fields||{},P=(m=b[Sh])===null||m===void 0?void 0:m.arrayValue,M=(p=R[Sh])===null||p===void 0?void 0:p.arrayValue,Q=Pe(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:p0(P,M)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const R=Fm(p[b],E[b]);if(R!==0)return R;const P=So(m[p[b]],g[E[b]]);if(P!==0)return P}return Pe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ce()}}function m0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=ds(i),s=ds(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function p0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function Ao(i){return Gm(i)}function Gm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ms(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ee.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Gm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Gm(n.fields[f])}`;return o+"}"}(i.mapValue):Ce()}function uh(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(i);return e?16+uh(e):16;case 5:return 2*i.stringValue.length;case 6:return ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+uh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return vs(s.fields,(u,f)=>{o+=u.length+uh(f)}),o}(i.mapValue);default:throw Ce()}}function g0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Km(i){return!!i&&"integerValue"in i}function wp(i){return!!i&&"arrayValue"in i}function y0(i){return!!i&&"nullValue"in i}function _0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ch(i){return!!i&&"mapValue"in i}function FI(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[vT])===null||n===void 0?void 0:n.stringValue)===ET}function Jl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return vs(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function GI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===HI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=en.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Jl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){vs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Sn(Jl(this.value))}}function TT(i){const e=[];return vs(i.fields,(n,s)=>{const o=new en([n]);if(ch(s)){const u=TT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,Ne.min(),Ne.min(),Ne.min(),Sn.empty(),0)}static newFoundDocument(e,n,s,o){return new ln(e,1,n,Ne.min(),s,o,0)}static newNoDocument(e,n){return new ln(e,2,n,Ne.min(),Ne.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ne.min(),Ne.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function v0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=So(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function E0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function KI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{}class Ot extends wT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new QI(e,n,s):n==="array-contains"?new WI(e,s):n==="in"?new ZI(e,s):n==="not-in"?new JI(e,s):n==="array-contains-any"?new e1(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new YI(e,s):new XI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(So(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends wT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ui(e,n)}matches(e){return bT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bT(i){return i.op==="and"}function ST(i){return $I(i)&&bT(i)}function $I(i){for(const e of i.filters)if(e instanceof ui)return!1;return!0}function $m(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+Ao(i.value);if(ST(i))return i.filters.map(e=>$m(e)).join(",");{const e=i.filters.map(n=>$m(n)).join(",");return`${i.op}(${e})`}}function AT(i,e){return i instanceof Ot?function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)}(i,e):i instanceof ui?function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&AT(f,o.filters[m]),!0):!1}(i,e):void Ce()}function RT(i){return i instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(i):i instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(RT).join(" ,")+"}"}(i):"Filter"}class QI extends Ot{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class YI extends Ot{constructor(e,n){super(e,"in",n),this.keys=IT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XI extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=IT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class WI extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&uu(n.arrayValue,this.value)}}class ZI extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class JI extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uu(this.value.arrayValue,n)}}class e1 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>uu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function T0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new t1(i,e,n,s,o,u,f)}function bp(i){const e=De(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>$m(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ao(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ao(s)).join(",")),e.le=n}return e.le}function Sp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!KI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!AT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!E0(i.startAt,e.startAt)&&E0(i.endAt,e.endAt)}function Qm(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function n1(i,e,n,s,o,u,f,m){return new Mo(i,e,n,s,o,u,f,m)}function Ap(i){return new Mo(i)}function w0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function CT(i){return i.collectionGroup!==null}function eu(i){const e=De(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new zt(en.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new cu(u,s))}),n.has(en.keyField().canonicalString())||e.he.push(new cu(en.keyField(),s))}return e.he}function Li(i){const e=De(i);return e.Pe||(e.Pe=i1(e,eu(i))),e.Pe}function i1(i,e){if(i.limitType==="F")return T0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new cu(o.field,u)});const n=i.endAt?new Ah(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ah(i.startAt.position,i.startAt.inclusive):null;return T0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ym(i,e){const n=i.filters.concat([e]);return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Xm(i,e,n){return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Qh(i,e){return Sp(Li(i),Li(e))&&i.limitType===e.limitType}function NT(i){return`${bp(Li(i))}|lt:${i.limitType}`}function fo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>RT(o)).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ao(o)).join(",")),`Target(${s})`}(Li(i))}; limitType=${i.limitType})`}function Yh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=v0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,eu(s),o)||s.endAt&&!function(f,m,p){const g=v0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,eu(s),o))}(i,e)}function r1(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function DT(i){return(e,n)=>{let s=!1;for(const o of eu(i)){const u=s1(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function s1(i,e,n){const s=i.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):Ce()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return dT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new mt(Ee.comparator);function Tr(){return a1}const xT=new mt(Ee.comparator);function Yl(...i){let e=xT;for(const n of i)e=e.insert(n.key,n);return e}function OT(i){let e=xT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function sa(){return tu()}function MT(){return tu()}function tu(){return new pa(i=>i.toString(),(i,e)=>i.isEqual(e))}const o1=new mt(Ee.comparator),l1=new zt(Ee.comparator);function Be(...i){let e=l1;for(const n of i)e=e.add(n);return e}const u1=new zt(Pe);function c1(){return u1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function VT(i){return{integerValue:""+i}}function PT(i,e){return UI(e)?VT(e):Rp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function h1(i,e,n){return i instanceof hu?function(o,u){const f={fields:{[gT]:{stringValue:pT},[_T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tp(u)&&(u=$h(u)),u&&(f.fields[yT]=u),{mapValue:f}}(n,e):i instanceof fu?LT(i,e):i instanceof du?UT(i,e):function(o,u){const f=kT(o,u),m=b0(f)+b0(o.Ie);return Km(f)&&Km(o.Ie)?VT(m):Rp(o.serializer,m)}(i,e)}function f1(i,e,n){return i instanceof fu?LT(i,e):i instanceof du?UT(i,e):n}function kT(i,e){return i instanceof mu?function(s){return Km(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class hu extends Xh{}class fu extends Xh{constructor(e){super(),this.elements=e}}function LT(i,e){const n=jT(e);for(const s of i.elements)n.some(o=>qi(o,s))||n.push(s);return{arrayValue:{values:n}}}class du extends Xh{constructor(e){super(),this.elements=e}}function UT(i,e){let n=jT(e);for(const s of i.elements)n=n.filter(o=>!qi(o,s));return{arrayValue:{values:n}}}class mu extends Xh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function b0(i){return bt(i.integerValue||i.doubleValue)}function jT(i){return wp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.field=e,this.transform=n}}function d1(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof fu&&o instanceof fu||s instanceof du&&o instanceof du?bo(s.elements,o.elements,qi):s instanceof mu&&o instanceof mu?qi(s.Ie,o.Ie):s instanceof hu&&o instanceof hu}(i.transform,e.transform)}class m1{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Wh{}function BT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ip(i.key,Jn.none()):new vu(i.key,i.data,Jn.none());{const n=i.data,s=Sn.empty();let o=new zt(en.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Es(i.key,s,new Ln(o.toArray()),Jn.none())}}function p1(i,e,n){i instanceof vu?function(o,u,f){const m=o.value.clone(),p=A0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Es?function(o,u,f){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=A0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(qT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function nu(i,e,n,s){return i instanceof vu?function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=u.value.clone(),E=R0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof Es?function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=R0(u.fieldTransforms,p,f),E=f.data;return E.setAll(qT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,n,s):function(u,f,m){return hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function g1(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=kT(s.transform,o||null);u!=null&&(n===null&&(n=Sn.empty()),n.set(s.field,u))}return n||null}function S0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&bo(s,o,(u,f)=>d1(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class vu extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function qT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function A0(i,e,n){const s=new Map;Xe(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,f1(f,m,n[o]))}return s}function R0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,h1(u,f,e))}return s}class Ip extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y1 extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&p1(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=MT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=BT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ne.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(n,s)=>S0(n,s))&&bo(this.baseMutations,e.baseMutations,(n,s)=>S0(n,s))}}class Cp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length);let o=function(){return o1}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Cp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Ge;function T1(i){switch(i){case te.OK:return Ce();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ce()}}function HT(i){if(i===void 0)return Er("GRPC error has no .code"),te.UNKNOWN;switch(i){case xt.OK:return te.OK;case xt.CANCELLED:return te.CANCELLED;case xt.UNKNOWN:return te.UNKNOWN;case xt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case xt.INTERNAL:return te.INTERNAL;case xt.UNAVAILABLE:return te.UNAVAILABLE;case xt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case xt.NOT_FOUND:return te.NOT_FOUND;case xt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case xt.ABORTED:return te.ABORTED;case xt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case xt.DATA_LOSS:return te.DATA_LOSS;default:return Ce()}}(Ge=xt||(xt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=new ls([4294967295,4294967295],0);function I0(i){const e=cT().encode(i),n=new iT;return n.update(e),new Uint8Array(n.digest())}function C0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class Np{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(s<0)throw new Xl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ls.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(w1)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=I0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Np(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=I0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(Ne.min(),o,new mt(Pe),Tr(),Be())}}class Eu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Eu(s,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class FT{constructor(e,n){this.targetId=e,this.ge=n}}class GT{constructor(e,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class N0{constructor(){this.pe=0,this.ye=D0(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Be(),n=Be(),s=Be();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ce()}}),new Eu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=D0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class b1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Tr(),this.$e=nh(),this.Ue=nh(),this.Ke=new mt(Pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Qm(u))if(s===0){const f=new Ee(u.path);this.ze(n,f,ln.newNoDocument(f,Ne.min()))}else Xe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ms(s).toUint8Array()}catch(p){if(p instanceof mT)return wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Np(f,o,u)}catch(p){return wo(p instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Qm(m.target)){const p=new Ee(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,ln.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Be();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Zh(e,n,this.Ke,this.Qe,s);return this.Qe=Tr(),this.$e=nh(),this.Ue=nh(),this.Ke=new mt(Pe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new N0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new zt(Pe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new zt(Pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new N0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function nh(){return new mt(Ee.comparator)}function D0(){return new mt(Ee.comparator)}const S1={asc:"ASCENDING",desc:"DESCENDING"},A1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R1={and:"AND",or:"OR"};class I1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(i,e){return i.useProto3Json||Kh(e)?e:{value:e}}function Rh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function C1(i,e){return Rh(i,e.toTimestamp())}function Ui(i){return Xe(!!i),Ne.fromTimestamp(function(n){const s=ds(n);return new jt(s.seconds,s.nanos)}(i))}function Dp(i,e){return Zm(i,e).canonicalString()}function Zm(i,e){const n=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function $T(i){const e=lt.fromString(i);return Xe(ZT(e)),e}function Jm(i,e){return Dp(i.databaseId,e.path)}function Rm(i,e){const n=$T(e);if(n.get(1)!==i.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(YT(n))}function QT(i,e){return Dp(i.databaseId,e)}function N1(i){const e=$T(i);return e.length===4?lt.emptyPath():YT(e)}function ep(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function YT(i){return Xe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function x0(i,e,n){return{name:Jm(i,e),fields:n.value.mapValue.fields}}function D1(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string"),tn.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),tn.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?te.UNKNOWN:HT(g.code);return new de(E,g.message||"")}(f);n=new GT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rm(i,s.document.name),u=Ui(s.document.updateTime),f=s.document.createTime?Ui(s.document.createTime):Ne.min(),m=new Sn({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new fh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Rm(i,s.document),u=s.readTime?Ui(s.readTime):Ne.min(),f=ln.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Rm(i,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new E1(o,u),m=s.targetId;n=new FT(m,f)}}return n}function x1(i,e){let n;if(e instanceof vu)n={update:x0(i,e.key,e.value)};else if(e instanceof Ip)n={delete:Jm(i,e.key)};else if(e instanceof Es)n={update:x0(i,e.key,e.data),updateMask:z1(e.fieldMask)};else{if(!(e instanceof y1))return Ce();n={verify:Jm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof hu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof du)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mu)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ce()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:C1(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce()}(i,e.precondition)),n}function O1(i,e){return i&&i.length>0?(Xe(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Ui(o.updateTime):Ui(u);return f.isEqual(Ne.min())&&(f=Ui(u)),new m1(f,o.transformResults||[])}(n,e))):[]}function M1(i,e){return{documents:[QT(i,e.path)]}}function V1(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=QT(i,o);const u=function(g){if(g.length!==0)return WT(ui.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:mo(R.field),direction:L1(R.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Wm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function P1(i){let e=N1(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const R=XT(b);return R instanceof ui&&ST(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(R=>function(M){return new cu(po(M.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(b){let R;return R=typeof b=="object"?b.value:b,Kh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(b){const R=!!b.before,P=b.values||[];return new Ah(P,R)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const R=!b.before,P=b.values||[];return new Ah(P,R)}(n.endAt)),n1(e,o,f,u,m,"F",p,g)}function k1(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=po(n.unaryFilter.field);return Ot.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(i):i.fieldFilter!==void 0?function(n){return Ot.create(po(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(s=>XT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(i):Ce()}function L1(i){return S1[i]}function U1(i){return A1[i]}function j1(i){return R1[i]}function mo(i){return{fieldPath:i.canonicalString()}}function po(i){return en.fromServerFormat(i.fieldPath)}function WT(i){return i instanceof Ot?function(n){if(n.op==="=="){if(_0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(y0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(y0(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:U1(n.op),value:n.value}}}(i):i instanceof ui?function(n){const s=n.getFilters().map(o=>WT(o));return s.length===1?s[0]:{compositeFilter:{op:j1(n.op),filters:s}}}(i):Ce()}function z1(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,s,o,u=Ne.min(),f=Ne.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.Tt=e}}function q1(i){const e=P1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.Tn=new F1}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(fs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class F1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new zt(lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new zt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(JT,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ro(0)}static Kn(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="LruGarbageCollector",G1=1048576;function V0([i,e],[n,s]){const o=Pe(i,n);return o===0?Pe(e,s):o}class K1{constructor(e){this.Hn=e,this.buffer=new zt(V0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();V0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(M0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ce(M0,"Ignoring IndexedDB error during garbage collection: ",n):await xo(n)}await this.er(3e5)})}}class Q1{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Gh.ae);const s=new K1(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(O0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),ho()<=ze.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function Y1(i,e){return new Q1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.changes=new pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&nu(s.mutation,o,Ln.empty(),jt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Be()){const o=sa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Yl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=sa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Be()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Tr();const f=tu(),m=function(){return tu()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Es)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),nu(E.mutation,g,E.mutation.getFieldMask(),jt.now())):f.set(g.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var b;return m.set(g,new W1(E,(b=f.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=tu();let o=new mt((f,m)=>f-m),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Ln.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Be()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=MT();E.forEach(R=>{if(!u.has(R)){const P=BT(n.get(R),s.get(R));P!==null&&b.set(R,P),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(sa());let m=au,p=u;return f.next(g=>ee.forEach(g,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Be())).next(E=>({batchId:m,changes:OT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Yl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(b,R){return new Mo(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,R)=>{f=f.insert(b,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,ln.newInvalidDocument(E)))});let m=Yl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&nu(E.mutation,g,Ln.empty(),jt.now()),Yh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:q1(o.bundledQuery),readTime:Ui(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.overlays=new mt(Ee.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=sa();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=sa(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new mt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=sa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new v1(n,s));let u=this.Rr.get(n);u===void 0&&(u=Be(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.Vr=new zt($t.mr),this.gr=new zt($t.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new $t(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new Ee(new lt([])),s=new $t(n,e),o=new $t(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ee(new lt([])),s=new $t(n,e),o=new $t(n,e+1);let u=Be();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new $t(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ee.comparator(e.key,n.key)||Pe(e.Cr,n.Cr)}static pr(e,n){return Pe(e.Cr,n.Cr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new zt($t.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new _1(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new $t(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Ep:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),o=new $t(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(Pe);return n.forEach(o=>{const u=new $t(o,0),f=new $t(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new $t(new Ee(u),0);let m=new zt(Pe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),ee.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Xe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new $t(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new $t(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.kr=e,this.docs=function(){return new mt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=Tr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Tr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||VI(MI(E),s)<=0||(o.has(E.key)||Yh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ce()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new rC(this)}getSize(e){return ee.resolve(this.size)}}class rC extends X1{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.persistence=e,this.Qr=new pa(n=>bp(n),Sp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.$r=0,this.Ur=new xp,this.targetCount=0,this.Kr=Ro.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Gh(0),this.zr=!1,this.zr=!0,this.jr=new tC,this.referenceDelegate=e(this),this.Hr=new sC(this),this.indexManager=new H1,this.remoteDocumentCache=function(o){return new iC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new B1(n),this.Yr=new J1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new nC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new aC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class aC extends kI{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.ti=new xp,this.ni=null}static ri(e){return new Op(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=Ee.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ne.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.oi=new pa(s=>jI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Y1(this,n)}static ri(e,n){return new Ih(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ne.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Mp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return tR()?8:LI(un())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new oC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(ho()<=ze.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(ho()<=ze.DEBUG&&ce("QueryEngine","Query:",fo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ho()<=ze.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):ee.resolve())}rs(e,n){if(w0(n))return ee.resolve(null);let s=Li(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),s=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Be(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Xm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return w0(n)||o.isEqual(Ne.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ee.resolve(null):(ho()<=ze.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fo(n)),this.hs(e,f,n,OI(o,au)).next(m=>m))})}cs(e,n){let s=new zt(DT(e));return n.forEach((o,u)=>{Yh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return ho()<=ze.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",fo(n)),this.ns.getDocumentsMatchingQuery(e,n,fs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="LocalStore",uC=3e8;class cC{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new mt(Pe),this.Is=new pa(u=>bp(u),Sp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function hC(i,e,n,s){return new cC(i,e,n,s)}async function tw(i,e){const n=De(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Be();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function fC(i,e){const n=De(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const b=g.batch,R=b.keys();let P=ee.resolve();return R.forEach(M=>{P=P.next(()=>E.getEntry(p,M)).next(Q=>{const q=g.docVersions.get(M);Xe(q!==null),Q.version.compareTo(q)<0&&(b.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Be();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function nw(i){const e=De(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function dC(i,e){const n=De(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const R=o.get(b);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,b)));let P=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(tn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(b,P),function(Q,q,Y){return Q.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=uC?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(R,P,E)&&m.push(n.Hr.updateTargetData(u,P))});let p=Tr(),g=Be();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(mC(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ne.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function mC(i,e,n){let s=Be(),o=Be();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=Tr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Vp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function pC(i,e){const n=De(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function gC(i,e){const n=De(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new rs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function tp(i,e,n){const s=De(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Oo(f))throw f;ce(Vp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function P0(i,e,n){const s=De(i);let o=Ne.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const b=De(p),R=b.Is.get(E);return R!==void 0?ee.resolve(b.Ts.get(R)):b.Hr.getTargetData(g,E)}(s,f,Li(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Ne.min(),n?u:Be())).next(m=>(yC(s,r1(e),m),{documents:m,gs:u})))}function yC(i,e,n){let s=i.Es.get(e)||Ne.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class k0{constructor(){this.activeTargetIds=c1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _C{constructor(){this.ho=new k0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new k0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="ConnectivityMonitor";class U0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(L0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(L0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function np(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="RestConnection",EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===bh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=np(),m=this.bo(e,n.toUriEncodedString());ce(Im,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ce(Im,`Received RPC '${e}' ${f}: `,g),g),g=>{throw wo(Im,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=EC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class bC extends TC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=np();return new Promise((f,m)=>{const p=new rT;p.setWithCredentials(!0),p.listenOnce(sT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const E=p.getResponseJson();ce(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case lh.TIMEOUT:ce(an,`RPC '${e}' ${u} timed out`),m(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const b=p.getStatus();if(ce(an,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R==null?void 0:R.error;if(P&&P.status&&P.message){const M=function(q){const Y=q.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Y)>=0?Y:te.UNKNOWN}(P.status);m(new de(M,P.message))}else m(new de(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(te.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ce(an,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(an,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=np(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=lT(),m=oT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(an,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);let R=!1,P=!1;const M=new wC({Fo:q=>{P?ce(an,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(ce(an,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ce(an,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),Q=(q,Y,se)=>{q.listen(Y,ne=>{try{se(ne)}catch(ge){setTimeout(()=>{throw ge},0)}})};return Q(b,Ql.EventType.OPEN,()=>{P||(ce(an,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),Q(b,Ql.EventType.CLOSE,()=>{P||(P=!0,ce(an,`RPC '${e}' stream ${o} transport closed`),M.Uo())}),Q(b,Ql.EventType.ERROR,q=>{P||(P=!0,wo(an,`RPC '${e}' stream ${o} transport errored:`,q),M.Uo(new de(te.UNAVAILABLE,"The operation could not be completed")))}),Q(b,Ql.EventType.MESSAGE,q=>{var Y;if(!P){const se=q.data[0];Xe(!!se);const ne=se,ge=(ne==null?void 0:ne.error)||((Y=ne[0])===null||Y===void 0?void 0:Y.error);if(ge){ce(an,`RPC '${e}' stream ${o} received error:`,ge);const he=ge.status;let fe=function(I){const D=xt[I];if(D!==void 0)return HT(D)}(he),x=ge.message;fe===void 0&&(fe=te.INTERNAL,x="Unknown error status: "+he+" with message "+ge.message),P=!0,M.Uo(new de(fe,x)),b.close()}else ce(an,`RPC '${e}' stream ${o} received:`,se),M.Ko(se)}}),Q(m,aT.STAT_EVENT,q=>{q.stat===Hm.PROXY?ce(an,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Hm.NOPROXY&&ce(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(i){return new I1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="PersistentStream";class rw{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new iw(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(j0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ce(j0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SC extends rw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=D1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ne.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ne.min():f.readTime?Ui(f.readTime):Ne.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=ep(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Qm(p)?{documents:M1(u,p)}:{query:V1(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=KT(u,f.resumeToken);const g=Wm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Rh(u,f.snapshotVersion.toTimestamp());const g=Wm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=k1(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.I_(n)}}class AC extends rw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=O1(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=ep(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>x1(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{}class IC extends RC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Zm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(te.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Zm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(te.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Er(n),this.N_=!1):ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class NC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ga(this)&&(ce(la,"Restarting streams for network reachability change."),await async function(p){const g=De(p);g.W_.add(4),await Tu(g),g.j_.set("Unknown"),g.W_.delete(4),await ef(g)}(this))})}),this.j_=new CC(s,o)}}async function ef(i){if(ga(i))for(const e of i.G_)await e(!0)}async function Tu(i){for(const e of i.G_)await e(!1)}function sw(i,e){const n=De(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Up(n)?Lp(n):Vo(n).c_()&&kp(n,e))}function Pp(i,e){const n=De(i),s=Vo(n);n.K_.delete(e),s.c_()&&aw(n,e),n.K_.size===0&&(s.c_()?s.P_():ga(n)&&n.j_.set("Unknown"))}function kp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(i).y_(e)}function aw(i,e){i.H_.Ne(e),Vo(i).w_(e)}function Lp(i){i.H_=new b1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Vo(i).start(),i.j_.B_()}function Up(i){return ga(i)&&!Vo(i).u_()&&i.K_.size>0}function ga(i){return De(i).W_.size===0}function ow(i){i.H_=void 0}async function DC(i){i.j_.set("Online")}async function xC(i){i.K_.forEach((e,n)=>{kp(i,e)})}async function OC(i,e){ow(i),Up(i)?(i.j_.q_(e),Lp(i)):i.j_.set("Unknown")}async function MC(i,e,n){if(i.j_.set("Online"),e instanceof GT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ce(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ch(i,s)}else if(e instanceof fh?i.H_.We(e):e instanceof FT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ne.min()))try{const s=await nw(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),aw(u,p);const b=new rs(E.target,p,g,E.sequenceNumber);kp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(la,"Failed to raise snapshot:",s),await Ch(i,s)}}async function Ch(i,e,n){if(!Oo(e))throw e;i.W_.add(1),await Tu(i),i.j_.set("Offline"),n||(n=()=>nw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(la,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await ef(i)})}function lw(i,e){return e().catch(n=>Ch(i,n,e))}async function tf(i){const e=De(i),n=gs(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ep;for(;VC(e);)try{const o=await pC(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,PC(e,o)}catch(o){await Ch(e,o)}uw(e)&&cw(e)}function VC(i){return ga(i)&&i.U_.length<10}function PC(i,e){i.U_.push(e);const n=gs(i);n.c_()&&n.S_&&n.b_(e.mutations)}function uw(i){return ga(i)&&!gs(i).u_()&&i.U_.length>0}function cw(i){gs(i).start()}async function kC(i){gs(i).C_()}async function LC(i){const e=gs(i);for(const n of i.U_)e.b_(n.mutations)}async function UC(i,e,n){const s=i.U_.shift(),o=Cp.from(s,e,n);await lw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await tf(i)}async function jC(i,e){e&&gs(i).S_&&await async function(s,o){if(function(f){return T1(f)&&f!==te.ABORTED}(o.code)){const u=s.U_.shift();gs(s).h_(),await lw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await tf(s)}}(i,e),uw(i)&&cw(i)}async function z0(i,e){const n=De(i);n.asyncQueue.verifyOperationInProgress(),ce(la,"RemoteStore received new credentials");const s=ga(n);n.W_.add(3),await Tu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await ef(n)}async function zC(i,e){const n=De(i);e?(n.W_.delete(2),await ef(n)):e||(n.W_.add(2),await Tu(n),n.j_.set("Unknown"))}function Vo(i){return i.J_||(i.J_=function(n,s,o){const u=De(n);return u.M_(),new SC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:DC.bind(null,i),No:xC.bind(null,i),Lo:OC.bind(null,i),p_:MC.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Up(i)?Lp(i):i.j_.set("Unknown")):(await i.J_.stop(),ow(i))})),i.J_}function gs(i){return i.Y_||(i.Y_=function(n,s,o){const u=De(n);return u.M_(),new AC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:kC.bind(null,i),Lo:jC.bind(null,i),D_:LC.bind(null,i),v_:UC.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await tf(i)):(await i.Y_.stop(),i.U_.length>0&&(ce(la,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new jp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(i,e){if(Er("AsyncQueue",`${e}: ${i}`),Oo(i))return new de(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new _o;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(){this.Z_=new mt(Ee.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Io{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Io(e,n,_o.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class qC{constructor(){this.queries=q0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=De(n),u=o.queries;o.queries=q0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function q0(){return new pa(i=>NT(i),Qh)}async function hw(i,e){const n=De(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new BC,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=zp(f,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Bp(n)}async function fw(i,e){const n=De(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function HC(i,e){const n=De(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Bp(n)}function FC(i,e,n){const s=De(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Bp(i){i.ia.forEach(e=>{e.next()})}var ip,H0;(H0=ip||(ip={}))._a="default",H0.Cache="cache";class dw{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.key=e}}class pw{constructor(e){this.key=e}}class GC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Be(),this.mutatedKeys=Be(),this.ya=DT(e),this.wa=new _o(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new B0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const R=o.get(E),P=Yh(this.query,b)?b:null,M=!!R&&this.mutatedKeys.has(R.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let q=!1;R&&P?R.data.isEqual(P.data)?M!==Q&&(s.track({type:3,doc:P}),q=!0):this.va(R,P)||(s.track({type:2,doc:P}),q=!0,(p&&this.ya(P,p)>0||g&&this.ya(P,g)<0)&&(m=!0)):!R&&P?(s.track({type:0,doc:P}),q=!0):R&&!P&&(s.track({type:1,doc:R}),q=!0,(p||g)&&(m=!0)),q&&(P?(f=f.add(P),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,b)=>function(P,M){const Q=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return Q(P)-Q(M)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new Io(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new B0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Be(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new pw(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new mw(s))}),n}Oa(e){this.fa=e.gs,this.pa=Be();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Io.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qp="SyncEngine";class KC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $C{constructor(e){this.key=e,this.Ba=!1}}class QC{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new pa(m=>NT(m),Qh),this.qa=new Map,this.Qa=new Set,this.$a=new mt(Ee.comparator),this.Ua=new Map,this.Ka=new xp,this.Wa={},this.Ga=new Map,this.za=Ro.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function YC(i,e,n=!0){const s=Tw(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await gw(s,e,n,!0),o}async function XC(i,e){const n=Tw(i);await gw(n,e,!0,!1)}async function gw(i,e,n,s){const o=await gC(i.localStore,Li(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await WC(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&sw(i.remoteStore,o),m}async function WC(i,e,n,s,o){i.Ha=(b,R,P)=>async function(Q,q,Y,se){let ne=q.view.ba(Y);ne.ls&&(ne=await P0(Q.localStore,q.query,!1).then(({documents:x})=>q.view.ba(x,ne)));const ge=se&&se.targetChanges.get(q.targetId),he=se&&se.targetMismatches.get(q.targetId)!=null,fe=q.view.applyChanges(ne,Q.isPrimaryClient,ge,he);return G0(Q,q.targetId,fe.Ma),fe.snapshot}(i,b,R,P);const u=await P0(i.localStore,e,!0),f=new GC(e,u.gs),m=f.ba(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);G0(i,n,g.Ma);const E=new KC(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function ZC(i,e,n){const s=De(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Qh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pp(s.remoteStore,o.targetId),rp(s,o.targetId)}).catch(xo)):(rp(s,o.targetId),await tp(s.localStore,o.targetId,!0))}async function JC(i,e){const n=De(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(n.remoteStore,s.targetId))}async function e2(i,e,n){const s=o2(i);try{const o=await function(f,m){const p=De(f),g=jt.now(),E=m.reduce((P,M)=>P.add(M.key),Be());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let M=Tr(),Q=Be();return p.ds.getEntries(P,E).next(q=>{M=q,M.forEach((Y,se)=>{se.isValidDocument()||(Q=Q.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,M)).next(q=>{b=q;const Y=[];for(const se of m){const ne=g1(se,b.get(se.key).overlayedDocument);ne!=null&&Y.push(new Es(se.key,ne,TT(ne.value.mapValue),Jn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,Y,m)}).next(q=>{R=q;const Y=q.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(P,q.batchId,Y)})}).then(()=>({batchId:R.batchId,changes:OT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new mt(Pe)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await wu(s,o.changes),await tf(s.remoteStore)}catch(o){const u=zp(o,"Failed to persist write");n.reject(u)}}async function yw(i,e){const n=De(i);try{const s=await dC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Xe(f.Ba):o.removedDocuments.size>0&&(Xe(f.Ba),f.Ba=!1))}),await wu(n,s,e)}catch(s){await xo(s)}}function F0(i,e,n){const s=De(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=De(f);p.onlineState=m;let g=!1;p.queries.forEach((E,b)=>{for(const R of b.ta)R.sa(m)&&(g=!0)}),g&&Bp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function t2(i,e,n){const s=De(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new mt(Ee.comparator);f=f.insert(u,ln.newNoDocument(u,Ne.min()));const m=Be().add(u),p=new Zh(Ne.min(),new Map,new mt(Pe),f,m);await yw(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Hp(s)}else await tp(s.localStore,e,!1).then(()=>rp(s,e,n)).catch(xo)}async function n2(i,e){const n=De(i),s=e.batch.batchId;try{const o=await fC(n.localStore,e);vw(n,s,null),_w(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wu(n,o)}catch(o){await xo(o)}}async function i2(i,e,n){const s=De(i);try{const o=await function(f,m){const p=De(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Xe(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);vw(s,e,n),_w(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wu(s,o)}catch(o){await xo(o)}}function _w(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function vw(i,e,n){const s=De(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function rp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||Ew(i,s)})}function Ew(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Pp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Hp(i))}function G0(i,e,n){for(const s of n)s instanceof mw?(i.Ka.addReference(s.key,e),r2(i,s)):s instanceof pw?(ce(qp,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||Ew(i,s.key)):Ce()}function r2(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ce(qp,"New document in limbo: "+n),i.Qa.add(s),Hp(i))}function Hp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new Ee(lt.fromString(e)),s=i.za.next();i.Ua.set(s,new $C(n)),i.$a=i.$a.insert(n,s),sw(i.remoteStore,new rs(Li(Ap(n.path)),s,"TargetPurposeLimboResolution",Gh.ae))}}async function wu(i,e,n){const s=De(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Mp.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=De(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ee.forEach(g,R=>ee.forEach(R.Hi,P=>E.persistence.referenceDelegate.addReference(b,R.targetId,P)).next(()=>ee.forEach(R.Ji,P=>E.persistence.referenceDelegate.removeReference(b,R.targetId,P)))))}catch(b){if(!Oo(b))throw b;ce(Vp,"Failed to update sequence numbers: "+b)}for(const b of g){const R=b.targetId;if(!b.fromCache){const P=E.Ts.get(R),M=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(M);E.Ts=E.Ts.insert(R,Q)}}}(s.localStore,u))}async function s2(i,e){const n=De(i);if(!n.currentUser.isEqual(e)){ce(qp,"User change. New user:",e.toKey());const s=await tw(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(te.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wu(n,s.Rs)}}function a2(i,e){const n=De(i),s=n.Ua.get(e);if(s&&s.Ba)return Be().add(s.key);{let o=Be();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function Tw(i){const e=De(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t2.bind(null,e),e.La.p_=HC.bind(null,e.eventManager),e.La.Ja=FC.bind(null,e.eventManager),e}function o2(i){const e=De(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i2.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return hC(this.persistence,new lC,e.initialUser,this.serializer)}Xa(e){return new ew(Op.ri,this.serializer)}Za(e){return new _C}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class l2 extends Nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Xe(this.persistence.referenceDelegate instanceof Ih);const s=this.persistence.referenceDelegate.garbageCollector;return new $1(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new ew(s=>Ih.ri(s,n),this.serializer)}}class sp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>F0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=s2.bind(null,this.syncEngine),await zC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qC}()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=function(u){return new bC(u)}(e.databaseInfo);return function(u,f,m,p){return new IC(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new NC(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>F0(this.syncEngine,n,0),function(){return U0.D()?new U0:new vC}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const b=new QC(o,u,f,m,p,g);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=De(o);ce(la,"RemoteStore shutting down."),u.W_.add(5),await Tu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}sp.provider={build:()=>new sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class u2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=hT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(ys,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(ys,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=zp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(ys,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function K0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await c2(i);ce(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>z0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>z0(e.remoteStore,o)),i._onlineComponents=e}async function c2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(ys,"Using user provided OfflineComponentProvider");try{await Nm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await Nm(i,new Nh)}}else ce(ys,"Using default OfflineComponentProvider"),await Nm(i,new l2(void 0));return i._offlineComponents}async function bw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(ys,"Using user provided OnlineComponentProvider"),await K0(i,i._uninitializedComponentsProvider._online)):(ce(ys,"Using default OnlineComponentProvider"),await K0(i,new sp))),i._onlineComponents}function h2(i){return bw(i).then(e=>e.syncEngine)}async function ap(i){const e=await bw(i),n=e.eventManager;return n.onListen=YC.bind(null,e.syncEngine),n.onUnlisten=ZC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JC.bind(null,e.syncEngine),n}function f2(i,e,n={}){const s=new us;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new ww({next:R=>{E.su(),f.enqueueAndForget(()=>fw(u,b)),R.fromCache&&p.source==="server"?g.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new dw(m,E,{includeMetadataChanges:!0,Ta:!0});return hw(u,b)}(await ap(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(i,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function d2(i,e,n,s){if(e===!0&&s===!0)throw new de(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Q0(i){if(!Ee.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Y0(i){if(Ee.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ce()}function ei(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(i);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firestore.googleapis.com",X0=!0;class W0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rw,this.ssl=X0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:X0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<G1)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new bI;switch(s.type){case"firstParty":return new II(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=$0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),$0.delete(n),s.terminate())}(this),Promise.resolve()}}function m2(i,e,n,s={}){var o;const u=(i=ei(i,rf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Rw&&u.host!==m&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!hs(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=on.MOCK_USER;else{g=YA(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new on(b)}i._authCredentials=new SI(new uT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class gn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class cs extends Ts{constructor(e,n,s){super(e,n,Ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Ee(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function ki(i,e,...n){if(i=St(i),Aw("collection","path",e),i instanceof rf){const s=lt.fromString(e,...n);return Y0(s),new cs(i,null,s)}{if(!(i instanceof gn||i instanceof cs))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...n));return Y0(s),new cs(i.firestore,null,s)}}function Pi(i,e,...n){if(i=St(i),arguments.length===1&&(e=hT.newId()),Aw("doc","path",e),i instanceof rf){const s=lt.fromString(e,...n);return Q0(s),new gn(i,null,new Ee(s))}{if(!(i instanceof gn||i instanceof cs))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...n));return Q0(s),new gn(i.firestore,i instanceof cs?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="AsyncQueue";class J0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new iw(this,"async_queue_retry"),this.Su=()=>{const s=Cm();s&&ce(Z0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new us;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Oo(e))throw e;ce(Z0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Er("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=jp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function eE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class _s extends rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new J0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J0(e),this._firestoreClient=void 0,await e}}}function p2(i,e){const n=typeof i=="object"?i:_p(),s=typeof i=="string"?i:bh,o=ma(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$A("firestore");u&&m2(o,...u)}return o}function Fp(i){if(i._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||g2(i),i._firestoreClient}function g2(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new qI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Sw(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new u2(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Co(tn.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Co(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=/^__.*__$/;class _2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class Iw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Cw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class $p{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new $p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Cw(this.Lu)&&y2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class v2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}ju(e,n,s,o=!1){return new $p({Lu:e,methodName:n,zu:s,path:en.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function af(i){const e=i._freezeSettings(),n=Jh(i._databaseId);return new v2(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Nw(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);Xp("Data must be an object, but it was:",f,s);const m=Dw(s,f);let p,g;if(u.merge)p=new Ln(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const R=op(e,b,n);if(!f.contains(R))throw new de(te.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Ow(E,R)||E.push(R)}p=new Ln(E),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new _2(new Sn(m),p,g)}class of extends bu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}class Qp extends bu{_toFieldTransform(e){return new zT(e.path,new hu)}isEqual(e){return e instanceof Qp}}class Yp extends bu{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new mu(e.serializer,PT(e.serializer,this.Ju));return new zT(e.path,n)}isEqual(e){return e instanceof Yp&&this.Ju===e.Ju}}function E2(i,e,n,s){const o=i.ju(1,e,n);Xp("Data must be an object, but it was:",o,s);const u=[],f=Sn.empty();vs(s,(p,g)=>{const E=Wp(e,p,n);g=St(g);const b=o.Uu(E);if(g instanceof of)u.push(E);else{const R=Su(g,b);R!=null&&(u.push(E),f.set(E,R))}});const m=new Ln(u);return new Iw(f,m,o.fieldTransforms)}function T2(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[op(e,s,n)],p=[o];if(u.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(op(e,u[R])),p.push(u[R+1]);const g=[],E=Sn.empty();for(let R=m.length-1;R>=0;--R)if(!Ow(g,m[R])){const P=m[R];let M=p[R];M=St(M);const Q=f.Uu(P);if(M instanceof of)g.push(P);else{const q=Su(M,Q);q!=null&&(g.push(P),E.set(P,q))}}const b=new Ln(g);return new Iw(E,b,f.fieldTransforms)}function w2(i,e,n,s=!1){return Su(n,i.ju(s?4:3,e))}function Su(i,e){if(xw(i=St(i)))return Xp("Unsupported field value:",e,i),Dw(i,e);if(i instanceof bu)return function(s,o){if(!Cw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Su(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=St(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=jt.fromDate(s);return{timestampValue:Rh(o.serializer,u)}}if(s instanceof jt){const u=new jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(s instanceof Gp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Co)return{bytesValue:KT(o.serializer,s._byteString)};if(s instanceof gn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Kp)return function(f,m){return{mapValue:{fields:{[vT]:{stringValue:ET},[Sh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Rp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${nf(s)}`)}(i,e)}function Dw(i,e){const n={};return dT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(i,(s,o)=>{const u=Su(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function xw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof jt||i instanceof Gp||i instanceof Co||i instanceof gn||i instanceof bu||i instanceof Kp)}function Xp(i,e,n){if(!xw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=nf(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function op(i,e,n){if((e=St(e))instanceof sf)return e._internalPath;if(typeof e=="string")return Wp(i,e);throw Dh("Field path arguments must be of type string or ",i,!1,void 0,n)}const b2=new RegExp("[~\\*/\\[\\]]");function Wp(i,e,n){if(e.search(b2)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new sf(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Dh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(te.INVALID_ARGUMENT,m+i+p)}function Ow(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S2 extends Mw{data(){return super.data()}}function lf(i,e){return typeof e=="string"?Wp(i,e):e instanceof sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class Pw extends Zp{}function Wl(i,e,...n){let s=[];e instanceof Zp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Jp).length,m=u.filter(p=>p instanceof uf).length;if(f>1||f>0&&m>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class uf extends Pw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new uf(e,n,s)}_apply(e){const n=this._parse(e);return kw(e._query,n),new Ts(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=af(e.firestore);return function(u,f,m,p,g,E,b){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){nE(b,E);const M=[];for(const Q of b)M.push(tE(p,u,Q));R={arrayValue:{values:M}}}else R=tE(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||nE(b,E),R=w2(m,f,b,E==="in"||E==="not-in");return Ot.create(g,E,R)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rh(i,e,n){const s=e,o=lf("where",i);return uf._create(o,s,n)}class Jp extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)kw(f,p),f=Ym(f,p)}(e._query,n),new Ts(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eg extends Pw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cu(u,f)}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Mo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function A2(i,e="asc"){const n=e,s=lf("orderBy",i);return eg._create(s,n)}function tE(i,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CT(e)&&n.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!Ee.isDocumentKey(s))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return g0(i,new Ee(s))}if(n instanceof gn)return g0(i,n._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function nE(i,e){if(!Array.isArray(i)||i.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class R2{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Sh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>bt(f.doubleValue));return new Kp(u)}convertGeoPoint(e){return new Gp(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=$h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=ds(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);Xe(ZT(s));const o=new lu(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||Er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uw extends Mw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(lf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class dh extends Uw{data(e={}){return super.data(e)}}class jw{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:I2(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function I2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class tg extends R2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function ra(i){i=ei(i,Ts);const e=ei(i.firestore,_s),n=Fp(e),s=new tg(e);return Vw(i._query),f2(n,i._query).then(o=>new jw(e,s,i,o))}function C2(i,e,n){i=ei(i,gn);const s=ei(i.firestore,_s),o=Lw(i.converter,e,n);return cf(s,[Nw(af(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Jn.none())])}function zw(i,e,n,...s){i=ei(i,gn);const o=ei(i.firestore,_s),u=af(o);let f;return f=typeof(e=St(e))=="string"||e instanceof sf?T2(u,"updateDoc",i._key,e,n,s):E2(u,"updateDoc",i._key,e),cf(o,[f.toMutation(i._key,Jn.exists(!0))])}function xh(i){return cf(ei(i.firestore,_s),[new Ip(i._key,Jn.none())])}function lp(i,e){const n=ei(i.firestore,_s),s=Pi(i),o=Lw(i.converter,e);return cf(n,[Nw(af(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Jn.exists(!1))]).then(()=>s)}function N2(i,...e){var n,s,o;i=St(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||eE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(eE(e[f])){const b=e[f];e[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[f+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,E;if(i instanceof gn)g=ei(i.firestore,_s),E=Ap(i._key.path),p={next:b=>{e[f]&&e[f](D2(g,i,b))},error:e[f+1],complete:e[f+2]};else{const b=ei(i,Ts);g=ei(b.firestore,_s),E=b._query;const R=new tg(g);p={next:P=>{e[f]&&e[f](new jw(g,R,b,P))},error:e[f+1],complete:e[f+2]},Vw(i._query)}return function(R,P,M,Q){const q=new ww(Q),Y=new dw(P,q,M);return R.asyncQueue.enqueueAndForget(async()=>hw(await ap(R),Y)),()=>{q.su(),R.asyncQueue.enqueueAndForget(async()=>fw(await ap(R),Y))}}(Fp(g),E,m,p)}function cf(i,e){return function(s,o){const u=new us;return s.asyncQueue.enqueueAndForget(async()=>e2(await h2(s),o,u)),u.promise}(Fp(i),e)}function D2(i,e,n){const s=n.docs.get(e._key),o=new tg(i);return new Uw(i,o,e._key,s,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}function iE(){return new Qp("serverTimestamp")}function sh(i){return new Yp("increment",i)}(function(e,n=!0){(function(o){Do=o})(No),Bi(new li("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _s(new AI(s.getProvider("auth-internal")),new CI(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Zn(r0,s0,e),Zn(r0,s0,"esm2017")})();const Bw="@firebase/installations",ng="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=1e4,Hw=`w:${ng}`,Fw="FIS_v2",x2="https://firebaseinstallations.googleapis.com/v1",O2=60*60*1e3,M2="installations",V2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ua=new da(M2,V2,P2);function Gw(i){return i instanceof fi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw({projectId:i}){return`${x2}/projects/${i}/installations`}function $w(i){return{token:i.token,requestStatus:2,expiresIn:L2(i.expiresIn),creationTime:Date.now()}}async function Qw(i,e){const s=(await e.json()).error;return ua.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Yw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function k2(i,{refreshToken:e}){const n=Yw(i);return n.append("Authorization",U2(e)),n}async function Xw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function L2(i){return Number(i.replace("s","000"))}function U2(i){return`${Fw} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=Kw(i),o=Yw(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:Fw,appId:i.appId,sdkVersion:Hw},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await Xw(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:$w(g.authToken)}}else throw await Qw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=/^[cdef][\w-]{21}$/,up="";function q2(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=H2(i);return B2.test(n)?n:up}catch{return up}}function H2(i){return z2(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=new Map;function Jw(i,e){const n=hf(i);eb(n,e),F2(n,e)}function eb(i,e){const n=Zw.get(i);if(n)for(const s of n)s(e)}function F2(i,e){const n=G2();n&&n.postMessage({key:i,fid:e}),K2()}let aa=null;function G2(){return!aa&&"BroadcastChannel"in self&&(aa=new BroadcastChannel("[Firebase] FID Change"),aa.onmessage=i=>{eb(i.data.key,i.data.fid)}),aa}function K2(){Zw.size===0&&aa&&(aa.close(),aa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="firebase-installations-database",Q2=1,ca="firebase-installations-store";let Dm=null;function ig(){return Dm||(Dm=JE($2,Q2,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ca)}}})),Dm}async function Oh(i,e){const n=hf(i),o=(await ig()).transaction(ca,"readwrite"),u=o.objectStore(ca),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&Jw(i,e.fid),e}async function tb(i){const e=hf(i),s=(await ig()).transaction(ca,"readwrite");await s.objectStore(ca).delete(e),await s.done}async function ff(i,e){const n=hf(i),o=(await ig()).transaction(ca,"readwrite"),u=o.objectStore(ca),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&Jw(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(i){let e;const n=await ff(i.appConfig,s=>{const o=Y2(s),u=X2(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===up?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Y2(i){const e=i||{fid:q2(),registrationStatus:0};return nb(e)}function X2(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ua.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=W2(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Z2(i)}:{installationEntry:e}}async function W2(i,e){try{const n=await j2(i,e);return Oh(i.appConfig,n)}catch(n){throw Gw(n)&&n.customData.serverCode===409?await tb(i.appConfig):await Oh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Z2(i){let e=await rE(i.appConfig);for(;e.registrationStatus===1;)await Ww(100),e=await rE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await rg(i);return s||n}return e}function rE(i){return ff(i,e=>{if(!e)throw ua.create("installation-not-found");return nb(e)})}function nb(i){return J2(i)?{fid:i.fid,registrationStatus:0}:i}function J2(i){return i.registrationStatus===1&&i.registrationTime+qw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN({appConfig:i,heartbeatServiceProvider:e},n){const s=tN(i,n),o=k2(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:Hw,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await Xw(()=>fetch(s,m));if(p.ok){const g=await p.json();return $w(g)}else throw await Qw("Generate Auth Token",p)}function tN(i,{fid:e}){return`${Kw(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(i,e=!1){let n;const s=await ff(i.appConfig,u=>{if(!ib(u))throw ua.create("not-registered");const f=u.authToken;if(!e&&rN(f))return u;if(f.requestStatus===1)return n=nN(i,e),u;{if(!navigator.onLine)throw ua.create("app-offline");const m=aN(u);return n=iN(i,m),m}});return n?await n:s.authToken}async function nN(i,e){let n=await sE(i.appConfig);for(;n.authToken.requestStatus===1;)await Ww(100),n=await sE(i.appConfig);const s=n.authToken;return s.requestStatus===0?sg(i,e):s}function sE(i){return ff(i,e=>{if(!ib(e))throw ua.create("not-registered");const n=e.authToken;return oN(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function iN(i,e){try{const n=await eN(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Oh(i.appConfig,s),n}catch(n){if(Gw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await tb(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Oh(i.appConfig,s)}throw n}}function ib(i){return i!==void 0&&i.registrationStatus===2}function rN(i){return i.requestStatus===2&&!sN(i)}function sN(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+O2}function aN(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function oN(i){return i.requestStatus===1&&i.requestTime+qw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(i){const e=i,{installationEntry:n,registrationPromise:s}=await rg(e);return s?s.catch(console.error):sg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(i,e=!1){const n=i;return await cN(n),(await sg(n,e)).token}async function cN(i){const{registrationPromise:e}=await rg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(i){if(!i||!i.options)throw xm("App Configuration");if(!i.name)throw xm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw xm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function xm(i){return ua.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="installations",fN="installations-internal",dN=i=>{const e=i.getProvider("app").getImmediate(),n=hN(e),s=ma(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},mN=i=>{const e=i.getProvider("app").getImmediate(),n=ma(e,rb).getImmediate();return{getId:()=>lN(n),getToken:o=>uN(n,o)}};function pN(){Bi(new li(rb,dN,"PUBLIC")),Bi(new li(fN,mN,"PRIVATE"))}pN();Zn(Bw,ng);Zn(Bw,ng,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="analytics",gN="firebase_id",yN="origin",_N=60*1e3,vN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ag="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An=new Fh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new da("analytics","Analytics",EN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(i){if(!i.startsWith(ag)){const e=Un.create("invalid-gtag-resource",{gtagURL:i});return An.warn(e.message),""}return i}function sb(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function wN(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function bN(i,e){const n=wN("firebase-js-sdk-policy",{createScriptURL:TN}),s=document.createElement("script"),o=`${ag}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function SN(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function AN(i,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await sb(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){An.error(m)}i("config",o,u)}async function RN(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await sb(n);for(const p of f){const g=m.find(b=>b.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){An.error(u)}}function IN(i,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await RN(i,e,n,m,p)}else if(u==="config"){const[m,p]=f;await AN(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){An.error(m)}}return o}function CN(i,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=IN(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function NN(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ag)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=30,xN=1e3;class ON{constructor(e={},n=xN){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const ab=new ON;function MN(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function VN(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:MN(s)},u=vN.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function PN(i,e=ab,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Un.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Un.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new UN;return setTimeout(async()=>{m.abort()},_N),ob({appId:s,apiKey:o,measurementId:u},f,m,e)}async function ob(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=ab){var u;const{appId:f,measurementId:m}=i;try{await kN(s,e)}catch(p){if(m)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await VN(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!LN(g)){if(o.deleteThrottleMetadata(f),m)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?Qv(n,o.intervalMillis,DN):Qv(n,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,b),An.debug(`Calling attemptFetch again in ${E} millis`),ob(i,b,s,o)}}function kN(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function LN(i){if(!(i instanceof fi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class UN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function jN(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(){if(YE())try{await XE()}catch(i){return An.warn(Un.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return An.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function BN(i,e,n,s,o,u,f){var m;const p=PN(i);p.then(P=>{n[P.measurementId]=P.appId,i.options.measurementId&&P.measurementId!==i.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${P.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(P=>An.error(P)),e.push(p);const g=zN().then(P=>{if(P)return s.getId()}),[E,b]=await Promise.all([p,g]);NN(u)||bN(u,E.measurementId),o("js",new Date);const R=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return R[yN]="firebase",R.update=!0,b!=null&&(R[gN]=b),o("config",E.measurementId,R),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.app=e}_delete(){return delete iu[this.app.options.appId],Promise.resolve()}}let iu={},aE=[];const oE={};let Om="dataLayer",HN="gtag",lE,lb,uE=!1;function FN(){const i=[];if(QE()&&i.push("This is a browser extension environment."),nR()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Un.create("invalid-analytics-context",{errorInfo:e});An.warn(n.message)}}function GN(i,e,n){FN();const s=i.options.appId;if(!s)throw Un.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(iu[s]!=null)throw Un.create("already-exists",{id:s});if(!uE){SN(Om);const{wrappedGtag:u,gtagCore:f}=CN(iu,aE,oE,Om,HN);lb=u,lE=f,uE=!0}return iu[s]=BN(i,aE,oE,e,lE,Om,n),new qN(i)}function KN(i=_p()){i=St(i);const e=ma(i,Mh);return e.isInitialized()?e.getImmediate():$N(i)}function $N(i,e={}){const n=ma(i,Mh);if(n.isInitialized()){const o=n.getImmediate();if(hs(e,n.getOptions()))return o;throw Un.create("already-initialized")}return n.initialize({options:e})}function QN(i,e,n,s){i=St(i),jN(lb,iu[i.app.options.appId],e,n,s).catch(o=>An.error(o))}const cE="@firebase/analytics",hE="0.10.12";function YN(){Bi(new li(Mh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return GN(s,o,n)},"PUBLIC")),Bi(new li("analytics-internal",i,"PRIVATE")),Zn(cE,hE),Zn(cE,hE,"esm2017");function i(e){try{const n=e.getProvider(Mh).getImmediate();return{logEvent:(s,o,u)=>QN(n,s,o,u)}}catch(n){throw Un.create("interop-component-reg-failed",{reason:n})}}}YN();const XN={apiKey:"AIzaSyCcU19CezeaWVKy_av4QHTBFNiPngIcRRA",authDomain:"showswatched2.firebaseapp.com",projectId:"showswatched2",storageBucket:"showswatched2.appspot.com",messagingSenderId:"936739771540",appId:"1:936739771540:web:2fcfeee905ff3f6fdd9081",measurementId:"G-DLKLNE1VQL"},og=eT(XN),Ut=p2(og);KN(og);var Hl={},fE;function WN(){if(fE)return Hl;fE=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=f,Hl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,P){const M=new u,Q=R.length;if(Q<2)return M;const q=(P==null?void 0:P.decode)||E;let Y=0;do{const se=R.indexOf("=",Y);if(se===-1)break;const ne=R.indexOf(";",Y),ge=ne===-1?Q:ne;if(se>ge){Y=R.lastIndexOf(";",se-1)+1;continue}const he=m(R,Y,se),fe=p(R,se,he),x=R.slice(he,fe);if(M[x]===void 0){let S=m(R,se+1,ge),I=p(R,ge,S);const D=q(R.slice(S,I));M[x]=D}Y=ge+1}while(Y<Q);return M}function m(R,P,M){do{const Q=R.charCodeAt(P);if(Q!==32&&Q!==9)return P}while(++P<M);return M}function p(R,P,M){for(;P>M;){const Q=R.charCodeAt(--P);if(Q!==32&&Q!==9)return P+1}return M}function g(R,P,M){const Q=(M==null?void 0:M.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const q=Q(P);if(!e.test(q))throw new TypeError(`argument val is invalid: ${P}`);let Y=R+"="+q;if(!M)return Y;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);Y+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);Y+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);Y+="; Path="+M.path}if(M.expires){if(!b(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);Y+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(Y+="; HttpOnly"),M.secure&&(Y+="; Secure"),M.partitioned&&(Y+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return Y}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return o.call(R)==="[object Date]"}return Hl}WN();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dE="popstate";function ZN(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return cp("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:pu(o)}return eD(e,n,null,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ci(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JN(){return Math.random().toString(36).substring(2,10)}function mE(i,e){return{usr:i.state,key:i.key,idx:e}}function cp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Po(e):e,state:n,key:e&&e.key||s||JN()}}function pu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Po(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function eD(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=E(),Y=q==null?null:q-g;g=q,p&&p({action:m,location:Q.location,delta:Y})}function R(q,Y){m="PUSH";let se=cp(Q.location,q,Y);g=E()+1;let ne=mE(se,g),ge=Q.createHref(se);try{f.pushState(ne,"",ge)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(ge)}u&&p&&p({action:m,location:Q.location,delta:1})}function P(q,Y){m="REPLACE";let se=cp(Q.location,q,Y);g=E();let ne=mE(se,g),ge=Q.createHref(se);f.replaceState(ne,"",ge),u&&p&&p({action:m,location:Q.location,delta:0})}function M(q){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,se=typeof q=="string"?q:pu(q);return se=se.replace(/ $/,"%20"),ft(Y,`No window.location.(origin|href) available to create URL for href: ${se}`),new URL(se,Y)}let Q={get action(){return m},get location(){return i(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(dE,b),p=q,()=>{o.removeEventListener(dE,b),p=null}},createHref(q){return e(o,q)},createURL:M,encodeLocation(q){let Y=M(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:P,go(q){return f.go(q)}};return Q}function ub(i,e,n="/"){return tD(i,e,n,!1)}function tD(i,e,n,s){let o=typeof e=="string"?Po(e):e,u=wr(o.pathname||"/",n);if(u==null)return null;let f=cb(i);nD(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=dD(u);m=hD(f[p],g,s)}return m}function cb(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ft(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=yr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),cb(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:uD(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of hb(u.path))o(u,f,p)}),e}function hb(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=hb(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function nD(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:cD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var iD=/^:[\w-]+$/,rD=3,sD=2,aD=1,oD=10,lD=-2,pE=i=>i==="*";function uD(i,e){let n=i.split("/"),s=n.length;return n.some(pE)&&(s+=lD),e&&(s+=sD),n.filter(o=>!pE(o)).reduce((o,u)=>o+(iD.test(u)?rD:u===""?aD:oD),s)}function cD(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function hD(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:yr([u,b.pathname]),pathnameBase:yD(yr([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=yr([u,b.pathnameBase]))}return f}function Vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=fD(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},R)=>{if(E==="*"){let M=m[R]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const P=m[R];return b&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function fD(i,e=!1,n=!0){ci(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dD(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function wr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function mD(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Po(i):i;return{pathname:n?n.startsWith("/")?n:pD(n,e):e,search:_D(s),hash:vD(o)}}function pD(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Mm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gD(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lg(i){let e=gD(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ug(i,e,n,s=!1){let o;typeof i=="string"?o=Po(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),Mm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Mm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Mm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}m=b>=0?e[b]:"/"}let p=mD(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var yr=i=>i.join("/").replace(/\/\/+/g,"/"),yD=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),_D=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,vD=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ED(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var fb=["POST","PUT","PATCH","DELETE"];new Set(fb);var TD=["GET",...fb];new Set(TD);var ko=U.createContext(null);ko.displayName="DataRouter";var df=U.createContext(null);df.displayName="DataRouterState";var db=U.createContext({isTransitioning:!1});db.displayName="ViewTransition";var wD=U.createContext(new Map);wD.displayName="Fetchers";var bD=U.createContext(null);bD.displayName="Await";var di=U.createContext(null);di.displayName="Navigation";var Au=U.createContext(null);Au.displayName="Location";var Hi=U.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var cg=U.createContext(null);cg.displayName="RouteError";function SD(i,{relative:e}={}){ft(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(di),{hash:o,pathname:u,search:f}=Iu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:yr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Lo(){return U.useContext(Au)!=null}function ws(){return ft(Lo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Au).location}var mb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pb(i){U.useContext(di).static||U.useLayoutEffect(i)}function Ru(){let{isDataRoute:i}=U.useContext(Hi);return i?LD():AD()}function AD(){ft(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(ko),{basename:e,navigator:n}=U.useContext(di),{matches:s}=U.useContext(Hi),{pathname:o}=ws(),u=JSON.stringify(lg(s)),f=U.useRef(!1);return pb(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(ci(f.current,mb),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ug(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:yr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}U.createContext(null);function Iu(i,{relative:e}={}){let{matches:n}=U.useContext(Hi),{pathname:s}=ws(),o=JSON.stringify(lg(n));return U.useMemo(()=>ug(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function RD(i,e){return gb(i,e)}function gb(i,e,n,s){var se;ft(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=U.useContext(di),{matches:f}=U.useContext(Hi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ne=b&&b.path||"";yb(g,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let R=ws(),P;if(e){let ne=typeof e=="string"?Po(e):e;ft(E==="/"||((se=ne.pathname)==null?void 0:se.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),P=ne}else P=R;let M=P.pathname||"/",Q=M;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Q="/"+M.replace(/^\//,"").split("/").slice(ne.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:ub(i,{pathname:Q});ci(b||q!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),ci(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=xD(q&&q.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:yr([E,o.encodeLocation?o.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:yr([E,o.encodeLocation?o.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),f,n,s);return e&&Y?U.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Y):Y}function ID(){let i=kD(),e=ED(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var CD=U.createElement(ID,null),ND=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?U.createElement(Hi.Provider,{value:this.props.routeContext},U.createElement(cg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DD({routeContext:i,match:e,children:n}){let s=U.useContext(ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Hi.Provider,{value:i},n)}function xD(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:b}=n,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,R=!1,P=null,M=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||CD,f&&(m<0&&E===0?(yb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,M=null):m===E&&(R=!0,M=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),q=()=>{let Y;return b?Y=P:R?Y=M:g.route.Component?Y=U.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,U.createElement(DD,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?U.createElement(ND,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:q(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):q()},null)}function hg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OD(i){let e=U.useContext(ko);return ft(e,hg(i)),e}function MD(i){let e=U.useContext(df);return ft(e,hg(i)),e}function VD(i){let e=U.useContext(Hi);return ft(e,hg(i)),e}function fg(i){let e=VD(i),n=e.matches[e.matches.length-1];return ft(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function PD(){return fg("useRouteId")}function kD(){var s;let i=U.useContext(cg),e=MD("useRouteError"),n=fg("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function LD(){let{router:i}=OD("useNavigate"),e=fg("useNavigate"),n=U.useRef(!1);return pb(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{ci(n.current,mb),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var gE={};function yb(i,e,n){!e&&!gE[i]&&(gE[i]=!0,ci(!1,n))}U.memo(UD);function UD({routes:i,future:e,state:n}){return gb(i,void 0,n,e)}function dg({to:i,replace:e,state:n,relative:s}){ft(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(di);ci(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Hi),{pathname:f}=ws(),m=Ru(),p=ug(i,lg(u),f,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function go(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jD({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ft(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Po(n));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:R="default"}=n,P=U.useMemo(()=>{let M=wr(p,f);return M==null?null:{location:{pathname:M,search:g,hash:E,state:b,key:R},navigationType:s}},[f,p,g,E,b,R,s]);return ci(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(di.Provider,{value:m},U.createElement(Au.Provider,{children:e,value:P}))}function zD({children:i,location:e}){return RD(hp(i),e)}function hp(i,e=[]){let n=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,hp(s.props.children,u));return}ft(s.type===go,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=hp(s.props.children,u)),n.push(f)}),n}var mh="get",ph="application/x-www-form-urlencoded";function mf(i){return i!=null&&typeof i.tagName=="string"}function BD(i){return mf(i)&&i.tagName.toLowerCase()==="button"}function qD(i){return mf(i)&&i.tagName.toLowerCase()==="form"}function HD(i){return mf(i)&&i.tagName.toLowerCase()==="input"}function FD(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function GD(i,e){return i.button===0&&(!e||e==="_self")&&!FD(i)}var ah=null;function KD(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var $D=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vm(i){return i!=null&&!$D.has(i)?(ci(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):i}function QD(i,e){let n,s,o,u,f;if(qD(i)){let m=i.getAttribute("action");s=m?wr(m,e):null,n=i.getAttribute("method")||mh,o=Vm(i.getAttribute("enctype"))||ph,u=new FormData(i)}else if(BD(i)||HD(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?wr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||mh,o=Vm(i.getAttribute("formenctype"))||Vm(m.getAttribute("enctype"))||ph,u=new FormData(m,i),!KD()){let{name:g,type:E,value:b}=i;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,b)}}else{if(mf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,s=null,o=ph,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function mg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function YD(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XD(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function WD(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await YD(u,n);return f.links?f.links():[]}return[]}));return tx(s.flat(1).filter(XD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yE(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function ZD(i,e,{includeHydrateFallback:n}={}){return JD(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JD(i){return[...new Set(i)]}function ex(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function tx(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(ex(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var nx=new Set([100,101,204,205]);function ix(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&wr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _b(){let i=U.useContext(ko);return mg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function rx(){let i=U.useContext(df);return mg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var pg=U.createContext(void 0);pg.displayName="FrameworkContext";function vb(){let i=U.useContext(pg);return mg(i,"You must render this element inside a <HydratedRouter> element"),i}function sx(i,e){let n=U.useContext(pg),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,R=U.useRef(null);U.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=Y=>{Y.forEach(se=>{f(se.isIntersecting)})},q=new IntersectionObserver(Q,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[i]),U.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let P=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,R,{}]:[u,R,{onFocus:Fl(m,P),onBlur:Fl(p,M),onMouseEnter:Fl(g,P),onMouseLeave:Fl(E,M),onTouchStart:Fl(b,P)}]:[!1,R,{}]}function Fl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function ax({page:i,...e}){let{router:n}=_b(),s=U.useMemo(()=>ub(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?U.createElement(lx,{page:i,matches:s,...e}):null}function ox(i){let{manifest:e,routeModules:n}=vb(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return WD(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function lx({page:i,matches:e,...n}){let s=ws(),{manifest:o,routeModules:u}=vb(),{basename:f}=_b(),{loaderData:m,matches:p}=rx(),g=U.useMemo(()=>yE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=U.useMemo(()=>yE(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let M=new Set,Q=!1;if(e.forEach(Y=>{var ne;let se=o.routes[Y.route.id];!se||!se.hasLoader||(!g.some(ge=>ge.route.id===Y.route.id)&&Y.route.id in m&&((ne=u[Y.route.id])!=null&&ne.shouldRevalidate)||se.hasClientLoader?Q=!0:M.add(Y.route.id))}),M.size===0)return[];let q=ix(i,f);return Q&&M.size>0&&q.searchParams.set("_routes",e.filter(Y=>M.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,e,i,u]),R=U.useMemo(()=>ZD(E,o),[E,o]),P=ox(E);return U.createElement(U.Fragment,null,b.map(M=>U.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),R.map(M=>U.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),P.map(({key:M,link:Q})=>U.createElement("link",{key:M,...Q})))}function ux(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Eb&&(window.__reactRouterVersion="7.5.1")}catch{}function cx({basename:i,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=ZN({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(jD,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var Tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gg=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...R},P){let{basename:M}=U.useContext(di),Q=typeof g=="string"&&Tb.test(g),q,Y=!1;if(typeof g=="string"&&Q&&(q=g,Eb))try{let I=new URL(window.location.href),D=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=wr(D.pathname,M);D.origin===I.origin&&V!=null?g=V+D.search+D.hash:Y=!0}catch{ci(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=SD(g,{relative:o}),[ne,ge,he]=sx(s,R),fe=mx(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function x(I){e&&e(I),I.defaultPrevented||fe(I)}let S=U.createElement("a",{...R,...he,href:q||se,onClick:Y||u?e:x,ref:ux(P,ge),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ne&&!Q?U.createElement(U.Fragment,null,S,U.createElement(ax,{page:se})):S});gg.displayName="Link";var hx=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let b=Iu(f,{relative:g.relative}),R=ws(),P=U.useContext(df),{navigator:M,basename:Q}=U.useContext(di),q=P!=null&&vx(b)&&m===!0,Y=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,se=R.pathname,ne=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(se=se.toLowerCase(),ne=ne?ne.toLowerCase():null,Y=Y.toLowerCase()),ne&&Q&&(ne=wr(ne,Q)||ne);const ge=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let he=se===Y||!o&&se.startsWith(Y)&&se.charAt(ge)==="/",fe=ne!=null&&(ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(Y.length)==="/"),x={isActive:he,isPending:fe,isTransitioning:q},S=he?e:void 0,I;typeof s=="function"?I=s(x):I=[s,he?"active":null,fe?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(x):u;return U.createElement(gg,{...g,"aria-current":S,className:I,ref:E,style:D,to:f,viewTransition:m},typeof p=="function"?p(x):p)});hx.displayName="NavLink";var fx=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=mh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...R},P)=>{let M=yx(),Q=_x(m,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&Tb.test(m),se=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let ge=ne.nativeEvent.submitter,he=(ge==null?void 0:ge.getAttribute("formmethod"))||f;M(ge||ne.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return U.createElement("form",{ref:P,method:q,action:Q,onSubmit:s?p:se,...R,"data-discover":!Y&&i==="render"?"true":void 0})});fx.displayName="Form";function dx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wb(i){let e=U.useContext(ko);return ft(e,dx(i)),e}function mx(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Ru(),p=ws(),g=Iu(i,{relative:u});return U.useCallback(E=>{if(GD(E,e)){E.preventDefault();let b=n!==void 0?n:pu(p)===pu(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var px=0,gx=()=>`__${String(++px)}__`;function yx(){let{router:i}=wb("useSubmit"),{basename:e}=U.useContext(di),n=PD();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=QD(s,e);if(o.navigate===!1){let E=o.fetcherKey||gx();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function _x(i,{relative:e}={}){let{basename:n}=U.useContext(di),s=U.useContext(Hi);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Iu(i||".",{relative:e})},f=ws();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yr([n,u.pathname])),pu(u)}function vx(i,e={}){let n=U.useContext(db);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wb("useViewTransitionState"),o=Iu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=wr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=wr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vh(o.pathname,f)!=null||Vh(o.pathname,u)!=null}new TextEncoder;[...nx];var Ex=BE();const _E=zE(Ex);function yg(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tx=bb,Sb=new da("auth","Firebase",bb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Fh("@firebase/auth");function wx(i,...e){Ph.logLevel<=ze.WARN&&Ph.warn(`Auth (${No}): ${i}`,...e)}function gh(i,...e){Ph.logLevel<=ze.ERROR&&Ph.error(`Auth (${No}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(i,...e){throw _g(i,...e)}function ji(i,...e){return _g(i,...e)}function Ab(i,e,n){const s=Object.assign(Object.assign({},Tx()),{[e]:n});return new da("auth","Firebase",s).create(e,{appName:i.name})}function _r(i){return Ab(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _g(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Sb.create(i,...e)}function Re(i,e,...n){if(!i)throw _g(e,...n)}function pr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw gh(e),new Error(e)}function br(i,e){i||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function bx(){return vE()==="http:"||vE()==="https:"}function vE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bx()||QE()||"connection"in navigator)?navigator.onLine:!0}function Ax(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=XA()||JA()}get(){return Sx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(i,e){br(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cx=new Cu(3e4,6e4);function bs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ss(i,e,n,s,o={}){return Ib(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=_u(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return ZA()||(g.referrerPolicy="no-referrer"),Rb.fetch()(await Cb(i,i.config.apiHost,n,m),g)})}async function Ib(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Rx),e);try{const o=new Dx(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw oh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw oh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw oh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ab(i,E,g);hi(i,E)}}catch(o){if(o instanceof fi)throw o;hi(i,"network-request-failed",{message:String(o)})}}async function Nu(i,e,n,s,o={}){const u=await Ss(i,e,n,s,o);return"mfaPendingCredential"in u&&hi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Cb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?vg(i.config,o):`${i.config.apiScheme}://${o}`;return Ix.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Nx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ji(this.auth,"network-request-failed")),Cx.get())})}}function oh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ji(i,e,s);return o.customData._tokenResponse=n,o}function EE(i){return i!==void 0&&i.enterprise!==void 0}class xx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Nx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ox(i,e){return Ss(i,"GET","/v2/recaptchaConfig",bs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(i,e){return Ss(i,"POST","/v1/accounts:delete",e)}async function kh(i,e){return Ss(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Vx(i,e=!1){const n=St(i),s=await n.getIdToken(e),o=Eg(s);Re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ru(Pm(o.auth_time)),issuedAtTime:ru(Pm(o.iat)),expirationTime:ru(Pm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Pm(i){return Number(i)*1e3}function Eg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const o=FE(n);return o?JSON.parse(o):(gh("Failed to decode base64 JWT payload"),null)}catch(o){return gh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function TE(i){const e=Eg(i);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fi&&Px(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Px({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await gu(i,kh(n,{idToken:s}));Re(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Nb(u.providerUserInfo):[],m=Ux(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new dp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function Lx(i){const e=St(i);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ux(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Nb(i){return i.map(e=>{var{providerId:n}=e,s=yg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(i,e){const n=await Ib(i,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Cb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Rb.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zx(i,e){return Ss(i,"POST","/v2/accounts:revokeToken",bs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):TE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=TE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await jx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new vo;return s&&(Re(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Re(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Re(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(i,e){Re(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class oi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=yg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new dp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Vx(this,e)}reload(){return Lx(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(_r(this.auth));const e=await this.getIdToken();return await gu(this,Mx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,se=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:ge,isAnonymous:he,providerData:fe,stsTokenManager:x}=n;Re(ne&&x,e,"internal-error");const S=vo.fromJSON(this.name,x);Re(typeof ne=="string",e,"internal-error"),Jr(b,e.name),Jr(R,e.name),Re(typeof ge=="boolean",e,"internal-error"),Re(typeof he=="boolean",e,"internal-error"),Jr(P,e.name),Jr(M,e.name),Jr(Q,e.name),Jr(q,e.name),Jr(Y,e.name),Jr(se,e.name);const I=new oi({uid:ne,auth:e,email:R,emailVerified:ge,displayName:b,isAnonymous:he,photoURL:M,phoneNumber:P,tenantId:Q,stsTokenManager:S,createdAt:Y,lastLoginAt:se});return fe&&Array.isArray(fe)&&(I.providerData=fe.map(D=>Object.assign({},D))),q&&(I._redirectEventId=q),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new vo;o.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Lh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Re(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Nb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new vo;m.updateFromIdToken(s);const p=new oi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function gr(i){br(i instanceof Function,"Expected a class definition");let e=wE.get(i);return e?(br(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,wE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Db.type="NONE";const bE=Db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(i,e,n){return`firebase:${i}:${e}:${n}`}class Eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=yh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Eo(gr(bE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||gr(bE);const f=yh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const R=await kh(e,{idToken:E}).catch(()=>{});if(!R)break;b=await oi._fromGetAccountInfoResponse(e,R,E)}else b=oi._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Eo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Eo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kb(e))return"Blackberry";if(Lb(e))return"Webos";if(Ob(e))return"Safari";if((e.includes("chrome/")||Mb(e))&&!e.includes("edge/"))return"Chrome";if(Pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function xb(i=un()){return/firefox\//i.test(i)}function Ob(i=un()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mb(i=un()){return/crios\//i.test(i)}function Vb(i=un()){return/iemobile/i.test(i)}function Pb(i=un()){return/android/i.test(i)}function kb(i=un()){return/blackberry/i.test(i)}function Lb(i=un()){return/webos/i.test(i)}function Tg(i=un()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Bx(i=un()){var e;return Tg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qx(){return eR()&&document.documentMode===10}function Ub(i=un()){return Tg(i)||Pb(i)||Lb(i)||kb(i)||/windows phone/i.test(i)||Vb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(i,e=[]){let n;switch(i){case"Browser":n=SE(un());break;case"Worker":n=`${SE(un())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${No}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(i,e={}){return Ss(i,"GET","/v2/passwordPolicy",bs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=6;class Kx{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:Gx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AE(this),this.idTokenSubscription=new AE(this),this.beforeStateQueue=new Hx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),s=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ax()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(_r(this));const n=e?St(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fx(this),n=new Kx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new da("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await zx(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ya(i){return St(i)}class AE{constructor(e){this.auth=e,this.observer=null,this.addObserver=oR(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qx(i){pf=i}function zb(i){return pf.loadJS(i)}function Yx(){return pf.recaptchaEnterpriseScript}function Xx(){return pf.gapiScript}function Wx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Zx{constructor(){this.enterprise=new Jx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Jx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const eO="recaptcha-enterprise",Bb="NO_RECAPTCHA";class tO{constructor(e){this.type=eO,this.auth=ya(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Ox(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new xx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;EE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(Bb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&EE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Yx();p.length!==0&&(p+=m),zb(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function RE(i,e,n,s=!1,o=!1){const u=new tO(i);let f;if(o)f=Bb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function mp(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await RE(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await RE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(i,e){const n=ma(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(hs(u,e??{}))return o;hi(o,"already-initialized")}return n.initialize({options:e})}function iO(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function rO(i,e,n){const s=ya(i);Re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=qb(e),{host:f,port:m}=sO(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Re(hs(g,s.config.emulator)&&hs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,aO()}function qb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function sO(i){const e=qb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:IE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:IE(f)}}}function IE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function aO(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function oO(i,e){return Ss(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lO(i,e){return Nu(i,"POST","/v1/accounts:signInWithPassword",bs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO(i,e){return Nu(i,"POST","/v1/accounts:signInWithEmailLink",bs(i,e))}async function cO(i,e){return Nu(i,"POST","/v1/accounts:signInWithEmailLink",bs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends wg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new yu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,n,"signInWithPassword",lO);case"emailLink":return uO(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mp(e,s,"signUpPassword",oO);case"emailLink":return cO(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i,e){return Nu(i,"POST","/v1/accounts:signInWithIdp",bs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="http://localhost";class ha extends wg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=yg(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ha(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,To(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:hO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dO(i){const e=Kl($l(i)).link,n=e?Kl($l(e)).deep_link_id:null,s=Kl($l(i)).deep_link_id;return(s?Kl($l(s)).link:null)||s||n||e||i}class bg{constructor(e){var n,s,o,u,f,m;const p=Kl($l(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=fO((o=p.mode)!==null&&o!==void 0?o:null);Re(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=dO(e);try{return new bg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=bg.parseLink(n);return Re(s,"argument-error"),yu._fromEmailAndCode(e,s.code,s.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Hb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Du{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Du{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Du{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(i,e){return Nu(i,"POST","/v1/accounts:signUp",bs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await oi._fromIdTokenResponse(e,s,o),f=CE(s);return new fa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=CE(s);return new fa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function CE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends fi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Uh(e,n,s,o)}}function Fb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(i,u,e,s):u})}async function pO(i,e,n=!1){const s=await gu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return fa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(i,e,n=!1){const{auth:s}=i;if(Wn(s.app))return Promise.reject(_r(s));const o="reauthenticate";try{const u=await gu(i,Fb(s,o,e,i),n);Re(u.idToken,s,"internal-error");const f=Eg(u.idToken);Re(f,s,"internal-error");const{sub:m}=f;return Re(i.uid===m,s,"user-mismatch"),fa._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(i,e,n=!1){if(Wn(i.app))return Promise.reject(_r(i));const s="signIn",o=await Fb(i,s,e),u=await fa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function yO(i,e){return Gb(ya(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kb(i){const e=ya(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _O(i,e,n){if(Wn(i.app))return Promise.reject(_r(i));const s=ya(i),f=await mp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Kb(i),p}),m=await fa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function vO(i,e,n){return Wn(i.app)?Promise.reject(_r(i)):yO(St(i),Uo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Kb(i),s})}function EO(i,e,n,s){return St(i).onIdTokenChanged(e,n,s)}function TO(i,e,n){return St(i).beforeAuthStateChanged(e,n)}function wO(i,e,n,s){return St(i).onAuthStateChanged(e,n,s)}function bO(i){return St(i).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=1e3,AO=10;class Qb extends $b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);qx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,AO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},SO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Qb.type="LOCAL";const RO=Qb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb extends $b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yb.type="SESSION";const Xb=Yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new gf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await IO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Sg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function NO(i){zi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function DO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function OO(){return Wb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="firebaseLocalStorageDb",MO=1,zh="firebaseLocalStorage",Jb="fbase_key";class xu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(i,e){return i.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function VO(){const i=indexedDB.deleteDatabase(Zb);return new xu(i).toPromise()}function pp(){const i=indexedDB.open(Zb,MO);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(zh,{keyPath:Jb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(zh)?e(s):(s.close(),await VO(),e(await pp()))})})}async function NE(i,e,n){const s=yf(i,!0).put({[Jb]:e,value:n});return new xu(s).toPromise()}async function PO(i,e){const n=yf(i,!1).get(e),s=await new xu(n).toPromise();return s===void 0?null:s.value}function DE(i,e){const n=yf(i,!0).delete(e);return new xu(n).toPromise()}const kO=800,LO=3;class eS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>LO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(OO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DO(),!this.activeServiceWorker)return;this.sender=new CO(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await NE(e,jh,"1"),await DE(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>NE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yf(o,!1).getAll();return new xu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eS.type="LOCAL";const UO=eS;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(i,e){return e?gr(e):(Re(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends wg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zO(i){return Gb(i.auth,new Ag(i),i.bypassAuthState)}function BO(i){const{auth:e,user:n}=i;return Re(n,e,"internal-error"),gO(n,new Ag(i),i.bypassAuthState)}async function qO(i){const{auth:e,user:n}=i;return Re(n,e,"internal-error"),pO(n,new Ag(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zO;case"linkViaPopup":case"linkViaRedirect":return qO;case"reauthViaPopup":case"reauthViaRedirect":return BO;default:hi(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new Cu(2e3,1e4);class yo extends tS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HO.get())};e()}}yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="pendingRedirect",_h=new Map;class GO extends tS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const s=await KO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KO(i,e){const n=YO(e),s=QO(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function $O(i,e){_h.set(i._key(),e)}function QO(i){return gr(i._redirectPersistence)}function YO(i){return yh(FO,i.config.apiKey,i.name)}async function XO(i,e,n=!1){if(Wn(i.app))return Promise.reject(_r(i));const s=ya(i),o=jO(s,e),f=await new GO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=10*60*1e3;class ZO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!nS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ji(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WO&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function nS({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(i,e={}){return Ss(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nM=/^https?/;async function iM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await eM(i);for(const n of e)try{if(rM(n))return}catch{}hi(i,"unauthorized-domain")}function rM(i){const e=fp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!nM.test(n))return!1;if(tM.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new Cu(3e4,6e4);function OE(){const i=zi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function aM(i){return new Promise((e,n)=>{var s,o,u;function f(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),n(ji(i,"network-request-failed"))},timeout:sM.get()})}if(!((o=(s=zi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=zi().gapi)===null||u===void 0)&&u.load)f();else{const m=Wx("iframefcb");return zi()[m]=()=>{gapi.load?f():n(ji(i,"network-request-failed"))},zb(`${Xx()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw vh=null,e})}let vh=null;function oM(i){return vh=vh||aM(i),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new Cu(5e3,15e3),uM="__/auth/iframe",cM="emulator/auth/iframe",hM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dM(i){const e=i.config;Re(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?vg(e,cM):`https://${i.config.authDomain}/${uM}`,s={apiKey:e.apiKey,appName:i.name,v:No},o=fM.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${_u(s).slice(1)}`}async function mM(i){const e=await oM(i),n=zi().gapi;return Re(n,i,"internal-error"),e.open({where:document.body,url:dM(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ji(i,"network-request-failed"),m=zi().setTimeout(()=>{u(f)},lM.get());function p(){zi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gM=500,yM=600,_M="_blank",vM="http://localhost";class ME{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EM(i,e,n,s=gM,o=yM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},pM),{width:s.toString(),height:o.toString(),top:u,left:f}),g=un().toLowerCase();n&&(m=Mb(g)?_M:n),xb(g)&&(e=e||vM,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[P,M])=>`${R}${P}=${M},`,"");if(Bx(g)&&m!=="_self")return TM(e||"",m),new ME(null);const b=window.open(e||"",m,E);Re(b,i,"popup-blocked");try{b.focus()}catch{}return new ME(b)}function TM(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="__/auth/handler",bM="emulator/auth/handler",SM=encodeURIComponent("fac");async function VE(i,e,n,s,o,u){Re(i.config.authDomain,i,"auth-domain-config-required"),Re(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:No,eventId:o};if(e instanceof Hb){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",aR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof Du){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${SM}=${encodeURIComponent(p)}`:"";return`${AM(i)}?${_u(m).slice(1)}${g}`}function AM({config:i}){return i.emulator?vg(i,bM):`https://${i.authDomain}/${wM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class RM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xb,this._completeRedirectFn=XO,this._overrideRedirectResult=$O}async _openPopup(e,n,s,o){var u;br((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await VE(e,n,s,fp(),o);return EM(e,f,Sg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await VE(e,n,s,fp(),o);return NO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mM(e),s=new ZO(e);return n.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[km];f!==void 0&&n(!!f),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ub()||Ob()||Tg()}}const IM=RM;var PE="@firebase/auth",kE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DM(i){Bi(new li("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Re(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jb(i)},g=new $x(s,o,u,p);return iO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Bi(new li("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(s=>new CM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(PE,kE,NM(i)),Zn(PE,kE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=5*60,OM=$E("authIdTokenMaxAge")||xM;let LE=null;const MM=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>OM)return;const o=n==null?void 0:n.token;LE!==o&&(LE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VM(i=_p()){const e=ma(i,"auth");if(e.isInitialized())return e.getImmediate();const n=nO(i,{popupRedirectResolver:IM,persistence:[UO,RO,Xb]}),s=$E("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=MM(u.toString());TO(n,f,()=>f(n.currentUser)),EO(n,m=>f(m))}}const o=GE("auth");return o&&rO(n,`http://${o}`),n}function PM(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}Qx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ji("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",PM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DM("Browser");const iS=U.createContext();function As(){return U.useContext(iS)}function kM({children:i}){const[e,n]=U.useState(null),[s,o]=U.useState(!0),u=VM(og);U.useEffect(()=>wO(u,b=>{n(b),o(!1)}),[u]);const g={currentUser:e,signup:(E,b)=>_O(u,E,b),login:(E,b)=>vO(u,E,b),logout:()=>bO(u)};return A.jsx(iS.Provider,{value:g,children:!s&&i})}function LM(){const i=U.useRef(),e=U.useRef(),{login:n}=As(),[s,o]=U.useState(""),[u,f]=U.useState(!1),m=Ru();async function p(g){g.preventDefault(),o(""),f(!0);try{await n(i.current.value,e.current.value),m("/dashboard")}catch(E){o(E.message||"Failed to log in")}f(!1)}return A.jsx("div",{className:"auth-bg",children:A.jsxs("div",{className:"auth-container",children:[A.jsx("div",{className:"auth-logo-row",children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/100/ffffff/movie-projector.png",alt:"App Logo",className:"auth-logo"})}),A.jsx("div",{className:"auth-subtitle",children:"Track your favorite shows and movies"}),A.jsx("h2",{className:"auth-title",children:"Sign In"}),s&&A.jsx("div",{className:"auth-error",children:s}),A.jsxs("form",{className:"auth-form",onSubmit:p,children:[A.jsx("label",{htmlFor:"email",className:"auth-label",children:"Email *"}),A.jsx("input",{id:"email",type:"email",ref:i,placeholder:"Email",required:!0,className:"auth-input"}),A.jsx("label",{htmlFor:"password",className:"auth-label",children:"Password *"}),A.jsx("input",{id:"password",type:"password",ref:e,placeholder:"Password",required:!0,className:"auth-input"}),A.jsx("button",{disabled:u,type:"submit",className:"auth-btn",children:"SIGN IN"})]}),A.jsx("div",{className:"auth-link-row",children:A.jsxs("span",{children:["Don't have an account? ",A.jsx("a",{href:"/showswatched2/signup",className:"auth-link",children:"Sign up"})]})})]})})}function UM(){const i=U.useRef(),e=U.useRef(),n=U.useRef(),{signup:s}=As(),[o,u]=U.useState(""),[f,m]=U.useState(!1),p=Ru();async function g(E){if(E.preventDefault(),e.current.value!==n.current.value){u("Passwords do not match");return}u(""),m(!0);try{await s(i.current.value,e.current.value),p("/dashboard",{replace:!0})}catch(b){u(b.message||"Failed to create an account")}m(!1)}return A.jsx("div",{className:"auth-bg",children:A.jsxs("div",{className:"auth-container",children:[A.jsx("div",{className:"auth-logo-row",children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/100/ffffff/movie-projector.png",alt:"App Logo",className:"auth-logo"})}),A.jsx("div",{className:"auth-subtitle",children:"Track your favorite shows and movies"}),A.jsx("h2",{className:"auth-title",children:"Sign Up"}),o&&A.jsx("div",{className:"auth-error",children:o}),A.jsxs("form",{className:"auth-form",onSubmit:g,children:[A.jsx("label",{htmlFor:"email",className:"auth-label",children:"Email *"}),A.jsx("input",{id:"email",type:"email",ref:i,placeholder:"Email",required:!0,className:"auth-input"}),A.jsx("label",{htmlFor:"password",className:"auth-label",children:"Password *"}),A.jsx("input",{id:"password",type:"password",ref:e,placeholder:"Password",required:!0,className:"auth-input"}),A.jsx("label",{htmlFor:"passwordConfirm",className:"auth-label",children:"Confirm Password *"}),A.jsx("input",{id:"passwordConfirm",type:"password",ref:n,placeholder:"Confirm Password",required:!0,className:"auth-input"}),A.jsx("button",{disabled:f,type:"submit",className:"auth-btn",children:"Sign Up"})]}),A.jsx("div",{className:"auth-link-row",children:A.jsxs("span",{children:["Already have an account? ",A.jsx("a",{href:"/showswatched2/login",className:"auth-link",children:"Sign In"})]})})]})})}function jM({children:i}){const{currentUser:e}=As();return e?i:A.jsx(dg,{to:"/login"})}function zM({show:i}){const[e,n]=U.useState(!1),[s,o]=U.useState([]),[u,f]=U.useState(null),[m,p]=U.useState([]),[g,E]=U.useState(!1),[b,R]=U.useState(""),P=async()=>{if(!e&&i.tmdbId){E(!0),R("");try{const Q=`https://api.themoviedb.org/3/tv/${i.tmdbId}?api_key=ca9a91468bb700f84faf986252bc3fe6`,Y=await(await fetch(Q)).json();o(Y.seasons||[]),Y.seasons&&Y.seasons.length>0&&f(Y.seasons[0].season_number)}catch{R("Failed to load seasons.")}E(!1)}n(M=>!M)};return U.useEffect(()=>{(async()=>{if(i.tmdbId&&u!=null){E(!0),R("");try{const q=`https://api.themoviedb.org/3/tv/${i.tmdbId}/season/${u}?api_key=ca9a91468bb700f84faf986252bc3fe6`,se=await(await fetch(q)).json();p(se.episodes||[])}catch{R("Failed to load episodes.")}E(!1)}})()},[i.tmdbId,u]),A.jsxs("div",{style:{marginTop:"0.7em",marginBottom:"0.3em",textAlign:"left"},children:[A.jsx("button",{onClick:P,className:"dashboard-diary-collapse-btn",style:{minWidth:140,fontWeight:"bold",background:"#ffe066",color:"#205a7a",border:"2px solid #205a7a",fontSize:"1.08rem",boxShadow:"0 2px 8px #0005",marginBottom:6},children:e?"Hide Episodes":" Show Episodes"}),e&&A.jsx("div",{className:"episodes-list",style:{marginTop:10,marginBottom:8,background:"#f8f9fa",borderRadius:8,padding:"10px 16px",boxShadow:"0 1px 6px #0002"},children:g?A.jsx("div",{children:"Loading..."}):b?A.jsx("div",{style:{color:"red"},children:b}):A.jsxs(A.Fragment,{children:[s.length>0&&A.jsxs("div",{style:{marginBottom:10},children:[A.jsx("label",{htmlFor:"season-select",style:{fontWeight:600,color:"#205a7a",marginRight:8},children:"Season:"}),A.jsx("select",{id:"season-select",value:u||"",onChange:M=>f(Number(M.target.value)),style:{fontWeight:600,fontSize:"1rem",padding:"0.3em 0.7em",borderRadius:5,border:"1px solid #205a7a",color:"#205a7a",background:"#fff"},children:s.map(M=>A.jsx("option",{value:M.season_number,children:M.name||`Season ${M.season_number}`},M.id||M.season_number))})]}),m.length>0?A.jsx("ul",{style:{paddingLeft:18,marginBottom:0},children:m.map(M=>A.jsxs("li",{style:{marginBottom:3,color:"#205a7a",fontWeight:500},children:[A.jsxs("strong",{children:["Ep ",M.episode_number,":"]})," ",M.name," ",M.air_date?A.jsxs("span",{style:{color:"#888",fontWeight:400},children:["(",M.air_date,")"]}):""]},M.id||M.episode_number))}):A.jsx("div",{children:"No episodes found."})]})})]})}function BM(){const{currentUser:i}=As(),[e,n]=U.useState([]),[s,o]=U.useState([]),[u,f]=U.useState(!0),[m,p]=U.useState("");U.useEffect(()=>{async function E(){f(!0),p("");try{const b=await ra(ki(Ut,"users")),R=await ra(ki(Ut,"shows"));n(b.docs.map(P=>({id:P.id,...P.data()}))),o(R.docs.map(P=>({id:P.id,...P.data()})))}catch{p("Failed to load admin data.")}f(!1)}E()},[]);async function g(E){p("");try{await xh(Pi(Ut,"shows",E)),o(s.filter(b=>b.id!==E))}catch{p("Failed to delete show.")}}return A.jsxs("div",{className:"admin-dashboard",children:[A.jsx("h2",{children:"Admin Dashboard"}),m&&A.jsx("div",{className:"error",children:m}),u?A.jsx("p",{children:"Loading..."}):A.jsxs(A.Fragment,{children:[A.jsx("h3",{children:"All Users"}),A.jsx("ul",{children:e.length===0?A.jsx("li",{children:"No users found."}):e.map(E=>A.jsx("li",{children:E.email||E.id},E.id))}),A.jsx("h3",{children:"All Shows"}),A.jsx("ul",{children:s.length===0?A.jsx("li",{children:"No shows found."}):s.map(E=>A.jsxs("li",{children:[A.jsx("strong",{children:E.title})," (User: ",E.uid,")",A.jsx("button",{onClick:()=>g(E.id),style:{marginLeft:"1em"},children:"Delete"})]},E.id))})]})]})}const qM=[{icon:A.jsx("span",{style:{fontSize:"2.4rem",color:"#fff",display:"flex",justifyContent:"center"},children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ffffff/tv.png",alt:"Track Shows",style:{height:"44px",marginBottom:"8px"}})}),title:"Track Your Shows & Movies",desc:"Log every movie and TV show you've watched or want to see."},{icon:A.jsx("span",{style:{fontSize:"2.4rem",color:"#5fe05f",display:"flex",justifyContent:"center"},children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/5fe05f/bookmark-ribbon.png",alt:"Diary",style:{height:"44px",marginBottom:"8px"}})}),title:"Personal Diary",desc:"Keep a private journal of your viewing journey."},{icon:A.jsx("span",{style:{fontSize:"2.4rem",color:"#ff7ab2",display:"flex",justifyContent:"center"},children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ff7ab2/search--v1.png",alt:"Search",style:{height:"44px",marginBottom:"8px"}})}),title:"Discover & Search",desc:"Find new favorites using real-time TMDb search."},{icon:A.jsx("span",{style:{fontSize:"2.4rem",color:"#ffc43d",display:"flex",justifyContent:"center"},children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ffc43d/clapperboard.png",alt:"Streaming Info",style:{height:"44px",marginBottom:"8px"}})}),title:"Streaming Info",desc:"See where to watch, with up-to-date streaming info."}],HM=[{icon:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ffffff/search--v1.png",alt:"Search",style:{height:"38px",marginBottom:"8px"}}),title:"1. Search",desc:"Find any movie or TV show instantly."},{icon:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/7ed6ff/plus-math.png",alt:"Add to Diary",style:{height:"38px",marginBottom:"8px"}}),title:"2. Add to Diary",desc:"Save to your personal diary with one click."},{icon:A.jsx("img",{src:"https://img.icons8.com/ios-filled/60/7ed6ff/checked-checkbox.png",alt:"Mark as Watched",style:{height:"38px",marginBottom:"8px"}}),title:"3. Mark as Watched",desc:"Toggle watched/unwatched as you go."}],FM="https://image.tmdb.org/t/p/w500";function GM(){const{currentUser:i}=As(),[e,n]=U.useState([]),[s,o]=U.useState(!0),[u,f]=U.useState("");return U.useEffect(()=>{async function m(){o(!0),f("");try{const p=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=ca9a91468bb700f84faf986252bc3fe6");if(!p.ok)throw new Error("Failed to fetch trending movies");const g=await p.json();n(g.results.slice(0,10))}catch{f("Could not load trending movies.")}o(!1)}m()},[]),i?A.jsx(dg,{to:"/dashboard"}):A.jsx("div",{className:"sw-bg",children:A.jsxs("div",{className:"sw-container",children:[A.jsxs("div",{className:"sw-header-box sw-header-custom",children:[A.jsx("div",{className:"sw-logo-row",children:A.jsx("div",{className:"sw-header-logo-bg",children:A.jsx("img",{src:"https://img.icons8.com/ios-filled/100/000000/movie-projector.png",alt:"logo",className:"sw-header-logo"})})}),A.jsx("h1",{className:"sw-main-title sw-header-title-custom",children:"ShowsWatched.com"}),A.jsx("p",{className:"sw-main-sub sw-header-sub-custom",children:"Track What You Watch. Discover Whats Next."}),A.jsx(gg,{to:"/login",children:A.jsx("button",{className:"sw-main-btn sw-header-btn-custom",children:"Get Started"})})]}),A.jsxs("div",{className:"sw-section",children:[A.jsx("h2",{className:"sw-section-title",style:{textAlign:"center"},children:"Features"}),A.jsx("div",{className:"sw-feature-grid sw-feature-custom-grid",children:qM.map((m,p)=>A.jsxs("div",{className:"sw-feature-card sw-feature-custom-card",children:[A.jsx("div",{className:"sw-feature-icon sw-feature-custom-icon",children:m.icon}),A.jsx("div",{className:"sw-feature-title sw-feature-custom-title",children:m.title}),A.jsx("div",{className:"sw-feature-desc sw-feature-custom-desc",children:m.desc})]},p))})]}),A.jsxs("div",{className:"sw-section",children:[A.jsx("h2",{className:"sw-section-title",style:{textAlign:"center"},children:"How It Works"}),A.jsx("div",{className:"sw-hiw-grid sw-hiw-custom-grid",children:HM.map((m,p)=>A.jsxs("div",{className:"sw-hiw-card sw-hiw-custom-card",children:[A.jsx("div",{className:"sw-hiw-icon sw-hiw-custom-icon",children:m.icon}),A.jsx("div",{className:"sw-hiw-title sw-hiw-custom-title",children:m.title}),A.jsx("div",{className:"sw-hiw-desc sw-hiw-custom-desc",children:m.desc})]},p))})]}),A.jsxs("div",{className:"sw-section",children:[A.jsx("h2",{className:"sw-section-title",style:{textAlign:"center"},children:"Trending Now"}),A.jsx("div",{className:"sw-trending-grid sw-trending-custom-grid",children:s?A.jsx("div",{className:"sw-trending-placeholder",children:"Loading trending movies..."}):u?A.jsx("div",{className:"sw-trending-placeholder",children:u}):e.length===0?A.jsx("div",{className:"sw-trending-placeholder",children:"No trending movies found."}):e.slice(0,6).map(m=>A.jsxs("div",{className:"sw-trending-card sw-trending-custom-card",children:[A.jsx("img",{src:m.poster_path?`${FM}${m.poster_path}`:"https://placehold.co/120x160?text=No+Image",alt:m.title,className:"sw-trending-img sw-trending-custom-img"}),A.jsx("div",{className:"sw-trending-title sw-trending-custom-title",children:m.title}),A.jsx("div",{className:"sw-trending-year sw-trending-custom-year",children:m.release_date?m.release_date.slice(0,4):""})]},m.id))})]})]})})}function KM({entryId:i}){console.log("entryId:",i);const{currentUser:e}=As(),[n,s]=U.useState([]),[o,u]=U.useState(!0),[f,m]=U.useState(""),[p,g]=U.useState(null),[E,b]=U.useState(""),[R,P]=U.useState({}),[M,Q]=U.useState(!0),q=U.useRef(null);U.useEffect(()=>{const fe=Wl(ki(Ut,`discussions/${i}/comments`),A2("timestamp","asc")),x=N2(fe,S=>{const I=S.docs.map(D=>({id:D.id,...D.data()}));if(console.log("Fetched comments:",I),s(I),e){const D={};I.forEach(V=>{V.votes&&V.votes[e.uid]&&(D[V.id]=V.votes[e.uid])}),P(D)}u(!1)});return()=>x()},[i,e]);const Y=async fe=>{fe.preventDefault(),f.trim()&&(await lp(ki(Ut,`discussions/${i}/comments`),{text:f,author:e?e.email:"Anonymous",authorUid:e?e.uid:null,timestamp:iE(),parentId:null,upvotes:0,downvotes:0,votes:{},replies:[]}),m(""),q.current&&q.current.focus())},se=async fe=>{E.trim()&&(await lp(ki(Ut,`discussions/${i}/comments`),{text:E,author:e?e.email:"Anonymous",authorUid:e?e.uid:null,timestamp:iE(),parentId:fe,upvotes:0,downvotes:0,votes:{},replies:[]}),g(null),b(""))},ne=async(fe,x)=>{if(!e)return;const S=Pi(Ut,`discussions/${i}/comments`,fe),I=n.find(L=>L.id===fe);if(!I)return;const D=I.votes?I.votes[e.uid]:void 0;if(D===x)return;let V={};x==="up"?V={upvotes:sh(1),...D==="down"?{downvotes:sh(-1)}:{},[`votes.${e.uid}`]:"up"}:x==="down"&&(V={downvotes:sh(1),...D==="up"?{upvotes:sh(-1)}:{},[`votes.${e.uid}`]:"down"}),await zw(S,V)},ge=async fe=>{if(!e)return;const x=n.find(I=>I.id===fe);if(!x||x.authorUid!==e.uid)return;const S=async I=>{const D=n.filter(L=>L.parentId===I);for(const L of D)L.authorUid===e.uid&&await S(L.id);const V=n.find(L=>L.id===I);V&&V.authorUid===e.uid&&await xh(Pi(Ut,`discussions/${i}/comments`,I))};await S(fe)},he=(fe=null,x=0)=>n.filter(S=>S.parentId===fe).map(S=>{var I,D,V,L;return A.jsxs("div",{className:`discussion-comment${x>0?" discussion-reply":""}`,style:{marginLeft:x*32},children:[A.jsxs("div",{className:"discussion-header",children:[A.jsx("span",{className:"discussion-author",children:S.author}),A.jsx("span",{className:"discussion-date",children:((L=(D=(I=S.timestamp)==null?void 0:I.toDate)==null?void 0:(V=D.call(I)).toLocaleString)==null?void 0:L.call(V))||""})]}),A.jsx("div",{className:"discussion-body",children:S.text}),A.jsxs("div",{className:"discussion-actions",children:[A.jsxs("button",{className:`discussion-vote${R[S.id]==="up"?" voted":""}`,onClick:()=>ne(S.id,"up"),title:"Thumbs up",disabled:R[S.id]==="up",children:[" ",S.upvotes||0]}),A.jsxs("button",{className:`discussion-vote${R[S.id]==="down"?" voted":""}`,onClick:()=>ne(S.id,"down"),title:"Thumbs down",disabled:R[S.id]==="down",children:[" ",S.downvotes||0]}),A.jsx("button",{className:"discussion-reply-btn",onClick:()=>g(S.id),children:"Reply"}),S.authorUid===(e==null?void 0:e.uid)&&A.jsx("button",{className:"discussion-delete-btn",onClick:()=>ge(S.id),title:"Delete",children:""})]}),p===S.id&&A.jsxs("div",{className:"discussion-reply-form",children:[A.jsx("input",{type:"text",value:E,onChange:N=>b(N.target.value),placeholder:"Write a reply...",autoFocus:!0}),A.jsx("button",{onClick:()=>se(S.id),children:"Send"}),A.jsx("button",{onClick:()=>g(null),children:"Cancel"})]}),he(S.id,x+1)]},S.id)});return A.jsxs("div",{className:"discussion-section",children:[A.jsx("button",{className:"discussion-collapse-btn",onClick:()=>Q(fe=>!fe),style:{marginBottom:M?0:10},children:M?"Show Discussion":"Hide Discussion"}),!M&&A.jsxs(A.Fragment,{children:[A.jsx("h4",{children:"Discussion"}),A.jsxs("form",{onSubmit:Y,className:"discussion-form",children:[A.jsx("input",{type:"text",ref:q,value:f,onChange:fe=>m(fe.target.value),placeholder:"Add a comment..."}),A.jsx("button",{type:"submit",children:"Send"})]}),A.jsx("div",{className:"discussion-comments",children:o?A.jsx("div",{children:"Loading..."}):he()})]})]})}var rS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UE=ss.createContext&&ss.createContext(rS),$M=["attr","size","title"];function QM(i,e){if(i==null)return{};var n=YM(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function YM(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Bh(){return Bh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Bh.apply(this,arguments)}function jE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function qh(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jE(Object(n),!0).forEach(function(s){XM(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function XM(i,e,n){return e=WM(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function WM(i){var e=ZM(i,"string");return typeof e=="symbol"?e:e+""}function ZM(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function sS(i){return i&&i.map((e,n)=>ss.createElement(e.tag,qh({key:n},e.attr),sS(e.child)))}function Ou(i){return e=>ss.createElement(JM,Bh({attr:qh({},i.attr)},e),sS(i.child))}function JM(i){var e=n=>{var{attr:s,size:o,title:u}=i,f=QM(i,$M),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),ss.createElement("svg",Bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:qh(qh({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ss.createElement("title",null,u),i.children)};return UE!==void 0?ss.createElement(UE.Consumer,null,n=>e(n)):e(rS)}function eV(i){return Ou({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(i)}function tV(i){return Ou({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(i)}function nV(i){return Ou({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(i)}function iV(i){return Ou({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function rV(i){return Ou({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(i)}const co="ca9a91468bb700f84faf986252bc3fe6",Gl="https://api.themoviedb.org/3",Lm="US";function sV(){const{currentUser:i,logout:e}=As(),n=Ru(),[s,o]=U.useState("movie"),[u,f]=U.useState(""),[m,p]=U.useState([]),[g,E]=U.useState(!1),[b,R]=U.useState(""),[P,M]=U.useState("all"),[Q,q]=U.useState([]),[Y,se]=U.useState({}),ne=U.useRef(null),ge=U.useRef(""),[he,fe]=U.useState(null),[x,S]=U.useState(""),I=U.useRef({}),[D,V]=U.useState(!1),[L,N]=U.useState(null),[At,rt]=U.useState(""),[X,oe]=U.useState(!1),[ye,Le]=U.useState(""),[O,ie]=U.useState(!1),[le,re]=U.useState(""),[me,Me]=U.useState("movie"),[we,pt]=U.useState([]),[Je,yn]=U.useState(!0),[ti,Rn]=U.useState(""),[mi,pi]=U.useState(1);U.useEffect(()=>{pt([]),pi(1),yn(!0),Rn("")},[me]),U.useEffect(()=>{let F=!0;async function ue(Te=1){yn(!0),Rn("");try{const Se=await fetch(`https://api.themoviedb.org/3/trending/${me}/week?api_key=${co}&page=${Te}`);if(!Se.ok)throw new Error("Failed to fetch trending");const ve=await Se.json();F&&pt(Te===1?ve.results:xe=>{const _t=new Set(xe.map(_n=>_n.id));return[...xe,...ve.results.filter(_n=>!_t.has(_n.id))]})}catch{F&&Rn("Could not load trending.")}F&&yn(!1)}return ue(mi),()=>{F=!1}},[me,mi]),U.useEffect(()=>{we.filter(ue=>!Q.some(Te=>Te.id===ue.id&&Te.media_type===me)).length<12&&we.length<100&&pi(ue=>ue+1)},[we,Q,me]),U.useEffect(()=>{if(!i)return;async function F(){const ue=Wl(ki(Ut,"diary"),rh("uid","==",i.uid));let Se=(await ra(ue)).docs.map(ve=>({...ve.data(),docId:ve.id}));Se=Se.sort((ve,xe)=>new Date(xe.createdAt)-new Date(ve.createdAt)),q(Se);for(const ve of Se)gi(ve)}F()},[i]),U.useEffect(()=>{if(!i){rt(""),Le("");return}let F=!1;async function ue(){const Te=await getDoc(Pi(Ut,"users",i.uid));let Se="";Te.exists()?Se=Te.data().displayName||i.displayName||(i.email?i.email.split("@")[0]:i.uid):Se=i.displayName||(i.email?i.email.split("@")[0]:i.uid),F||(rt(Se),Le(Se))}return ue(),()=>{F=!0}},[i&&i.uid]);async function gi(F){var Te;if(Y[F.id])return;let ue="";F.media_type==="movie"?ue=`${Gl}/movie/${F.id}/watch/providers?api_key=${co}`:ue=`${Gl}/tv/${F.id}/watch/providers?api_key=${co}`;try{const xe=((Te=(await(await fetch(ue)).json()).results)==null?void 0:Te[Lm])||{};se(_t=>({..._t,[F.id]:xe}))}catch{se(ve=>({...ve,[F.id]:{}}))}}async function Sr(F,ue){if(!F.trim()){p([]),R(""),E(!1);return}E(!0),R(""),p([]);try{const Se=`${Gl}${ue==="movie"?"/search/movie":"/search/tv"}?api_key=${co}&query=${encodeURIComponent(F)}`,xe=await(await fetch(Se)).json();xe.results?p(xe.results):(p([]),R("No results found."))}catch{R("Failed to fetch results.")}E(!1)}U.useEffect(()=>{if(!(u.trim()===""||u===ge.current))return ne.current&&clearTimeout(ne.current),ne.current=setTimeout(()=>{Sr(u,s)},400),()=>clearTimeout(ne.current)},[u,s]);async function _a(F){F.preventDefault(),ge.current=u,await Sr(u,s)}async function cn(F){if(!i||Q.some(xe=>xe.id===F.id&&xe.media_type===(F.media_type||s)))return;const ue={uid:i.uid,id:F.id,title:F.title||F.name,date:(F.release_date||F.first_air_date||"").slice(0,10),poster:F.poster_path?`https://image.tmdb.org/t/p/w200${F.poster_path}`:"https://placehold.co/120x170?text=No+Image",desc:F.overview||"No description.",watched:!1,media_type:F.media_type||s,createdAt:new Date().toISOString()};await lp(ki(Ut,"diary"),ue);const Te=Wl(ki(Ut,"diary"),rh("uid","==",i.uid));let ve=(await ra(Te)).docs.map(xe=>({...xe.data(),docId:xe.id}));ve=ve.sort((xe,_t)=>new Date(_t.createdAt)-new Date(xe.createdAt)),q(ve),gi(ue),p([]),f("")}async function jo(F){q(ue=>ue.filter(Te=>Te.docId!==F)),fe(null);try{await xh(Pi(Ut,"diary",F));const ue=Wl(ki(Ut,"diary"),rh("uid","==",i.uid));let Se=(await ra(ue)).docs.map(ve=>({...ve.data(),docId:ve.id}));Se=Se.sort((ve,xe)=>new Date(xe.createdAt)-new Date(ve.createdAt)),q(Se)}catch{window.alert("Failed to remove entry. Please try again.")}}async function Rs(){if(i){q([]);try{const F=Wl(ki(Ut,"diary"),rh("uid","==",i.uid)),Te=(await ra(F)).docs.map(xe=>xh(Pi(Ut,"diary",xe.id)));await Promise.all(Te);let ve=(await ra(F)).docs.map(xe=>({...xe.data(),docId:xe.id}));ve=ve.sort((xe,_t)=>new Date(_t.createdAt)-new Date(xe.createdAt)),q(ve)}catch{window.alert("Failed to remove all entries. Please try again.")}}}async function Ar(F,ue){q(Te=>Te.map(Se=>Se.docId===F?{...Se,watched:!ue}:Se)),fe(Te=>Te&&Te.docId===F?{...Te,watched:!ue}:Te);try{await zw(Pi(Ut,"diary",F),{watched:!ue})}catch{q(Se=>Se.map(ve=>ve.docId===F?{...ve,watched:ue}:ve)),fe(Se=>Se&&Se.docId===F?{...Se,watched:ue}:Se),window.alert("Failed to update watched status. Please try again.")}}function Fi(F){window.alert(`Share this: ${F.title}`)}async function zo(){try{await e(),n("/")}catch{alert("Failed to sign out")}}async function Rr(){if(!ye.trim()){re("Display name cannot be empty.");return}ie(!0),re("");try{await C2(Pi(Ut,"users",i.uid),{displayName:ye.trim()},{merge:!0}),rt(ye.trim()),oe(!1);const F=await getDoc(Pi(Ut,"users",i.uid));if(F.exists()){const ue=F.data().displayName||i.displayName||(i.email?i.email.split("@")[0]:i.uid);rt(ue),Le(ue)}}catch{re("Failed to update display name.")}ie(!1)}function Is(){Le(At),oe(!0),re("")}function va(){oe(!1),re("")}async function ut(F){var ue,Te,Se,ve,xe,_t;if(!F)return"";try{if(F.media_type==="movie"){const Rt=await(await fetch(`${Gl}/movie/${F.id}/release_dates?api_key=${co}`)).json(),nn=((ue=Rt.results)==null?void 0:ue.find(Cn=>Cn.iso_3166_1===Lm))||((Te=Rt.results)==null?void 0:Te[0]);return((ve=(Se=nn==null?void 0:nn.release_dates)==null?void 0:Se.find(Cn=>Cn.certification))==null?void 0:ve.certification)||""}else if(F.media_type==="tv"){const Rt=await(await fetch(`${Gl}/tv/${F.id}/content_ratings?api_key=${co}`)).json(),nn=((xe=Rt.results)==null?void 0:xe.find(vn=>vn.iso_3166_1===Lm))||((_t=Rt.results)==null?void 0:_t[0]);return(nn==null?void 0:nn.rating)||""}}catch{return""}return""}function $e(F){fe(F),S(""),ut(F).then(ue=>S(ue||""))}function hn({entry:F,providersMap:ue,onClose:Te,onShare:Se,onToggleWatched:ve,onRemove:xe,diary:_t,contentRating:_n}){if(!F)return null;const Rt=ue[F.id]||{},nn=Rt.flatrate||[],vn=Rt.rent||[],Cn=Rt.buy||[],at=F;return _E.createPortal(A.jsx("div",{className:"dashboard-modal-overlay",onClick:Te,children:A.jsxs("div",{className:"dashboard-modal-content",onClick:vt=>vt.stopPropagation(),children:[A.jsx("button",{className:"dashboard-modal-close",onClick:Te,"aria-label":"Close modal",type:"button",children:""}),A.jsxs("div",{className:"dashboard-modal-body",children:[A.jsx("img",{className:"dashboard-diary-poster",src:at.poster_path?`https://image.tmdb.org/t/p/w300${at.poster_path}`:at.poster||"https://placehold.co/120x170?text=No+Image",alt:at.title,style:{marginBottom:"1rem"}}),A.jsx("div",{className:"dashboard-diary-movie-title",children:at.title}),A.jsxs("div",{className:"dashboard-diary-date",children:[at.release_date?at.release_date.slice(0,4):at.date||"",_n&&A.jsx("span",{style:{marginLeft:8,color:"#ffe066",fontWeight:600},children:_n})]}),A.jsx("div",{className:"dashboard-diary-desc",children:at.overview||at.desc||""}),A.jsxs("div",{className:"dashboard-diary-providers-modal",children:[A.jsxs("div",{className:"dashboard-diary-providers-group",children:[A.jsx("div",{className:"dashboard-diary-providers-label",children:"Streaming:"}),A.jsx("div",{className:"dashboard-diary-providers-icons",children:nn.length===0?A.jsx("span",{style:{color:"#888"},children:"N/A"}):nn.map(vt=>A.jsx("img",{src:`https://image.tmdb.org/t/p/w45${vt.logo_path}`,alt:vt.provider_name,title:vt.provider_name,className:"dashboard-provider-icon-sm"},vt.provider_id))})]}),A.jsxs("div",{className:"dashboard-diary-providers-group",children:[A.jsx("div",{className:"dashboard-diary-providers-label",children:"Rent:"}),A.jsx("div",{className:"dashboard-diary-providers-icons",children:vn.length===0?A.jsx("span",{style:{color:"#888"},children:"N/A"}):vn.map(vt=>A.jsx("img",{src:`https://image.tmdb.org/t/p/w45${vt.logo_path}`,alt:vt.provider_name,title:vt.provider_name,className:"dashboard-provider-icon-sm"},vt.provider_id))})]}),A.jsxs("div",{className:"dashboard-diary-providers-group",children:[A.jsx("div",{className:"dashboard-diary-providers-label",children:"Buy:"}),A.jsx("div",{className:"dashboard-diary-providers-icons",children:Cn.length===0?A.jsx("span",{style:{color:"#888"},children:"N/A"}):Cn.map(vt=>A.jsx("img",{src:`https://image.tmdb.org/t/p/w45${vt.logo_path}`,alt:vt.provider_name,title:vt.provider_name,className:"dashboard-provider-icon-sm"},vt.provider_id))})]})]}),F.media_type==="tv"&&(F.tmdbId||F.id)&&A.jsx("div",{style:{margin:"1.2rem 0 0.8rem 0",display:"flex",justifyContent:"center"},children:A.jsx(zM,{show:{...F,tmdbId:F.tmdbId||F.id}})}),A.jsxs("div",{className:"dashboard-diary-btn-row dashboard-diary-btn-row--modal",children:[A.jsx("button",{className:"dashboard-diary-share",onClick:()=>Se(at),children:"SHARE"}),A.jsx("button",{className:at.watched?"dashboard-diary-watched":"dashboard-diary-unwatched",onClick:()=>ve(at.docId,at.watched),children:at.watched?"WATCHED":"UNWATCHED"}),A.jsx("button",{className:"dashboard-diary-remove",onClick:()=>xe(at.docId),children:"REMOVE"})]}),A.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",borderRadius:"10px",background:"rgba(30,32,38,0.85)",boxShadow:"0 1px 8px #0002",border:"1px solid #2f3138",width:"calc(100% + 80px)",maxWidth:"none",marginLeft:"-40px",marginRight:"-40px"},children:[A.jsx("h3",{style:{marginTop:0,marginBottom:"1rem"},children:"Discussion"}),A.jsx(KM,{entryId:at.id})]})]})]})}),document.getElementById("modal-root"))}const Bt=ss.memo(hn);function Ea(){const F={};return Q.filter(ue=>ue.media_type===s).forEach(ue=>{const Te=Y[ue.id];Te&&[...Te.flatrate||[],...Te.rent||[],...Te.buy||[]].forEach(Se=>{F[Se.provider_id]=Se})}),Object.values(F)}const Ta=L?Q.filter(F=>{if(F.media_type!==s)return!1;const ue=Y[F.id];return ue?[...ue.flatrate||[],...ue.rent||[],...ue.buy||[]].some(Te=>Te.provider_id===L.provider_id):!1}):Q.filter(F=>F.media_type===s);function Gi({open:F,onClose:ue,providers:Te,onSelect:Se}){return F?_E.createPortal(A.jsx("div",{className:"dashboard-modal-overlay",onClick:ue,children:A.jsxs("div",{className:"dashboard-modal-content",onClick:ve=>ve.stopPropagation(),style:{maxWidth:440,padding:24},children:[A.jsx("button",{className:"dashboard-modal-close",onClick:ue,"aria-label":"Close modal",type:"button",children:""}),A.jsx("h2",{style:{color:"#fff",textAlign:"center",marginBottom:18},children:"All Providers"}),A.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:14,justifyContent:"center"},children:Te.map(ve=>A.jsx("img",{src:`https://image.tmdb.org/t/p/w45${ve.logo_path}`,alt:ve.provider_name,title:ve.provider_name,className:"dashboard-provider-icon-sm",style:{cursor:"pointer",border:L&&L.provider_id===ve.provider_id?"2px solid #8fc7ff":"2px solid transparent"},onClick:()=>Se(ve)},ve.provider_id))}),L&&A.jsx("button",{style:{margin:"18px auto 0",display:"block"},onClick:()=>N(null),children:"Show All Entries"}),A.jsx("div",{style:{marginTop:24},children:Ta.length===0?A.jsx("div",{style:{color:"#aaa",textAlign:"center"},children:"No entries for this provider."}):A.jsx("div",{className:"provider-modal-cards-row",style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"1.2rem",justifyItems:"center",alignItems:"stretch",marginTop:"1rem",width:"100%",overflowX:"auto",boxSizing:"border-box"},children:Ta.map(ve=>A.jsxs("section",{className:"dashboard-diary-card collapsed",style:{width:"100%",maxWidth:"120px",minHeight:"210px",background:"#23242a",borderRadius:"10px",boxShadow:"0 2px 8px #0003",display:"flex",flexDirection:"column",alignItems:"center",padding:"20px 0.2rem 0.9rem 0.2rem",margin:0,boxSizing:"border-box",justifySelf:"center"},children:[A.jsx("div",{className:"dashboard-diary-poster-col collapsed",style:{width:"100%",display:"flex",justifyContent:"center"},children:A.jsx("img",{src:ve.poster,alt:ve.title,className:"dashboard-diary-poster collapsed",style:{width:"100px",height:"145px",objectFit:"cover",borderRadius:"7px",marginBottom:"0.5rem"}})}),A.jsx("div",{className:"dashboard-diary-movie-title collapsed",style:{textAlign:"center",color:"#fff",fontSize:"1.02rem",fontWeight:600,marginTop:"0.2rem",marginBottom:"0.1rem",wordBreak:"break-word",width:"100%"},children:ve.title})]},ve.docId))})})]})}),document.getElementById("modal-root")):null}const yi=Q.filter(F=>P==="all"?F.media_type===s:P==="watched"?F.media_type===s&&F.watched:P==="unwatched"?F.media_type===s&&!F.watched:!1);function _i(F){Me(F)}function In(F){cn({id:F.id,title:F.title||F.name,poster_path:F.poster_path,release_date:F.release_date||F.first_air_date,overview:F.overview,media_type:me}),pt(ue=>ue.filter(Te=>Te.id!==F.id))}return A.jsxs("div",{className:"dashboard-bg",children:[A.jsxs("div",{className:"dashboard-content-wrapper",children:[A.jsx("div",{className:"dashboard-banner",children:A.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:16},children:[A.jsx(rV,{size:48,style:{color:"#fff",marginBottom:12}}),A.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:8},children:[A.jsx("span",{style:{color:"#fff",fontWeight:500,fontSize:"1.13rem",marginRight:6},children:"Display Name:"}),X?A.jsxs(A.Fragment,{children:[A.jsx("input",{type:"text",value:ye,onChange:F=>Le(F.target.value),style:{fontWeight:700,color:"#25609c",background:"#23242a",border:"1px solid #2f3138",borderRadius:6,padding:"5px 10px",fontSize:"1.13rem",outline:"none",width:140},disabled:O,autoFocus:!0}),A.jsx("button",{onClick:Rr,disabled:O,style:{background:"none",border:"none",color:"#35b36b",cursor:"pointer",fontSize:20,marginLeft:6},title:"Save",children:A.jsx(eV,{})}),A.jsx("button",{onClick:va,disabled:O,style:{background:"none",border:"none",color:"#ff5a5a",cursor:"pointer",fontSize:20,marginLeft:2},title:"Cancel",children:A.jsx(iV,{})})]}):A.jsxs(A.Fragment,{children:[A.jsx("span",{style:{fontWeight:700,color:"#35b36b",fontSize:"1.13rem",background:"#23242a",border:"1px solid #2f3138",borderRadius:6,padding:"5px 10px",minWidth:80,display:"inline-block"},children:At}),A.jsx("button",{onClick:Is,style:{background:"none",border:"none",color:"#8fc7ff",cursor:"pointer",fontSize:18,marginLeft:6},title:"Edit",children:A.jsx(nV,{})})]})]}),le&&A.jsx("div",{style:{color:"#ff5a5a",marginTop:4},children:le}),A.jsx("button",{onClick:zo,style:{marginTop:12,background:"#fff",color:"#18191d",fontWeight:700,fontSize:"1.1rem",borderRadius:8,border:"none",padding:"10px 32px",boxShadow:"0 2px 10px #205a7a33",cursor:"pointer",transition:"background 0.18s, color 0.18s"},children:"LOG OUT"})]})}),A.jsxs("div",{className:"dashboard-search-section",children:[A.jsx("img",{src:"https://img.icons8.com/ios-filled/100/ffffff/movie-projector.png",alt:"App Icon",className:"dashboard-logo"}),A.jsx("div",{className:"dashboard-search-title",children:"Search for Movies / Tv Shows"}),A.jsx("div",{className:"dashboard-search-instructions",children:"NEED INSTRUCTIONS?"}),A.jsxs("div",{className:"dashboard-search-toggle-row",children:[A.jsx("button",{className:s==="movie"?"dashboard-toggle active":"dashboard-toggle",onClick:()=>o("movie"),children:"MOVIE"}),A.jsx("button",{className:s==="tv"?"dashboard-toggle active":"dashboard-toggle",onClick:()=>o("tv"),children:"TV SHOW"})]}),A.jsxs("form",{className:"dashboard-search-bar-row",onSubmit:_a,children:[A.jsx("input",{className:"dashboard-search-bar",placeholder:"Type to search for movies or shows*",value:u,onChange:F=>f(F.target.value)}),A.jsx("button",{className:"dashboard-search-btn",type:"submit",disabled:g||!u.trim(),children:g?"SEARCHING...":"SEARCH"})]}),A.jsxs("div",{className:"dashboard-search-results",children:[b&&A.jsx("div",{className:"auth-error",style:{marginTop:"1rem"},children:b}),!b&&m.length>0&&A.jsx("div",{className:"dashboard-trending-row",style:{marginTop:"1.4rem"},children:m.map(F=>A.jsxs("div",{className:"dashboard-trending-card",children:[A.jsx("img",{src:F.poster_path?`https://image.tmdb.org/t/p/w200${F.poster_path}`:"https://placehold.co/120x170?text=No+Image",alt:F.title||F.name,className:"dashboard-trending-poster"}),A.jsx("div",{className:"dashboard-trending-movie-title",children:F.title||F.name}),A.jsx("div",{className:"dashboard-trending-year",children:(F.release_date||F.first_air_date||"").slice(0,4)}),A.jsx("div",{className:"dashboard-trending-desc",children:F.overview?F.overview.slice(0,90)+(F.overview.length>90?"":""):"No description."}),A.jsx("button",{className:"dashboard-trending-add",onClick:()=>cn(F),children:Q.some(ue=>ue.id===F.id)?"IN DIARY":"ADD TO DIARY"})]},F.id))})]})]}),A.jsxs("div",{className:"dashboard-diary-section",children:[A.jsx("div",{className:"dashboard-diary-title",children:"My Diary"}),A.jsxs("div",{className:"dashboard-diary-filter-row",children:[A.jsxs("div",{className:"dashboard-diary-filter-group",children:[A.jsx("button",{className:P==="all"?"dashboard-diary-filter active":"dashboard-diary-filter",onClick:()=>M("all"),children:"ALL"}),A.jsx("button",{className:P==="watched"?"dashboard-diary-filter active":"dashboard-diary-filter",onClick:()=>M("watched"),children:"WATCHED"})]}),A.jsx("div",{className:"dashboard-diary-filter-group dashboard-diary-filter-group--unwatched",children:A.jsx("button",{className:P==="unwatched"?"dashboard-diary-filter active":"dashboard-diary-filter",onClick:()=>M("unwatched"),children:"UNWATCHED"})})]}),A.jsxs("div",{className:"dashboard-diary-providers-row",children:[A.jsx("button",{className:"dashboard-providers-btn",onClick:()=>V(!0),children:"ALL PROVIDERS"}),A.jsx("button",{className:"dashboard-remove-all-btn",onClick:Rs,children:"REMOVE ALL"})]}),yi.length===0?A.jsx("div",{style:{color:"#aaa",margin:"2rem 0",textAlign:"center"},children:"No entries in your diary."}):A.jsx("div",{className:"dashboard-diary-cards-row",children:yi.map(F=>(I.current[F.docId]||(I.current[F.docId]=U.createRef()),A.jsxs("section",{ref:ue=>I.current[F.docId]=ue,className:"dashboard-diary-card collapsed",children:[A.jsx("div",{className:"dashboard-diary-poster-col collapsed",children:A.jsx("img",{src:F.poster,alt:F.title,className:"dashboard-diary-poster collapsed"})}),A.jsx("div",{className:"dashboard-diary-movie-title collapsed",children:F.title}),A.jsxs("button",{className:"dashboard-diary-showmore",onClick:()=>$e(F),children:["Show More ",A.jsx(tV,{})]})]},F.docId)))})]}),A.jsx("div",{style:{width:"100%",height:"10px",background:"#fff",borderRadius:"2px",margin:"2.5rem 0 2.2rem 0",boxShadow:"0 1px 8px #0002"}}),A.jsxs("div",{className:"dashboard-trending-section",children:[A.jsxs("div",{className:"dashboard-trending-title",style:{textAlign:"center",fontSize:"1.7rem",fontWeight:700,marginBottom:"1.2rem",color:"#fff"},children:["Trending ",me==="movie"?"Movies":"TV Shows"]}),A.jsxs("div",{className:"dashboard-trending-toggle-row",style:{display:"flex",alignItems:"center",gap:12,justifyContent:"center",marginBottom:"1.2rem"},children:[A.jsx("button",{className:me==="movie"?"dashboard-toggle active":"dashboard-toggle",style:{fontSize:"0.97rem",padding:"0.4em 1.2em"},onClick:()=>_i("movie"),children:"Movies"}),A.jsx("button",{className:me==="tv"?"dashboard-toggle active":"dashboard-toggle",style:{fontSize:"0.97rem",padding:"0.4em 1.2em"},onClick:()=>_i("tv"),children:"TV Shows"})]}),A.jsx("div",{className:"dashboard-trending-row",style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"1.2rem",justifyItems:"center",alignItems:"stretch",marginTop:"0.5rem"},children:Je?A.jsx("div",{style:{color:"#aaa",margin:"2rem 0",textAlign:"center",gridColumn:"1 / -1"},children:"Loading"}):ti?A.jsx("div",{style:{color:"#ff5a5a",margin:"2rem 0",textAlign:"center",gridColumn:"1 / -1"},children:ti}):we.filter(F=>!Q.some(ue=>ue.id===F.id&&ue.media_type===me)).slice(0,10).map(F=>A.jsxs("div",{className:"dashboard-trending-card",children:[A.jsx("img",{src:F.poster_path?`https://image.tmdb.org/t/p/w200${F.poster_path}`:"https://placehold.co/120x170?text=No+Image",alt:F.title||F.name,className:"dashboard-trending-poster"}),A.jsx("div",{className:"dashboard-trending-movie-title",children:F.title||F.name}),A.jsx("div",{className:"dashboard-trending-year",children:(F.release_date||F.first_air_date||"").slice(0,4)}),A.jsx("div",{className:"dashboard-trending-desc",children:F.overview?F.overview.slice(0,90)+(F.overview.length>90?"":""):"No description."}),A.jsx("button",{className:"dashboard-trending-add",onClick:()=>In(F),children:"ADD TO DIARY"})]},F.id))})]})]}),he&&A.jsx(Bt,{entry:he,providersMap:Y,onClose:()=>fe(null),onShare:Fi,onToggleWatched:Ar,onRemove:jo,diary:Q,contentRating:x}),A.jsx(Gi,{open:D,onClose:()=>{V(!1),N(null)},providers:Ea(),onSelect:F=>N(F)})]})}function aV(){const{currentUser:i}=As();return A.jsxs(zD,{children:[A.jsx(go,{path:"/login",element:A.jsx(LM,{})}),A.jsx(go,{path:"/signup",element:A.jsx(UM,{})}),A.jsx(go,{path:"/admin",element:A.jsx(jM,{children:A.jsx(BM,{})})}),A.jsx(go,{path:"/dashboard",element:A.jsx(sV,{})}),A.jsx(go,{path:"/",element:i?A.jsx(dg,{to:"/dashboard"}):A.jsx(GM,{})})]})}UA.createRoot(document.getElementById("root")).render(A.jsx(U.StrictMode,{children:A.jsx(cx,{basename:"/showswatched2",children:A.jsx(kM,{children:A.jsx(aV,{})})})}));
