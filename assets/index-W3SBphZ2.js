(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function LT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var um={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function SS(){if(Vv)return Ml;Vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var Pv;function RS(){return Pv||(Pv=1,um.exports=SS()),um.exports}var N=RS(),cm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function IS(){if(kv)return Ne;kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=A&&x[A]||x["@@iterator"],typeof x=="function"?x:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,Q={};function H(x,ie,ue){this.props=x,this.context=ie,this.refs=Q,this.updater=ue||V}H.prototype.isReactComponent={},H.prototype.setState=function(x,ie){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,ie,"setState")},H.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function X(){}X.prototype=H.prototype;function se(x,ie,ue){this.props=x,this.context=ie,this.refs=Q,this.updater=ue||V}var ne=se.prototype=new X;ne.constructor=se,k(ne,H.prototype),ne.isPureReactComponent=!0;var pe=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function O(x,ie,ue,re,_e,$){return ue=$.ref,{$$typeof:i,type:x,key:ie,ref:ue!==void 0?ue:null,props:$}}function b(x,ie){return O(x.type,ie,void 0,void 0,void 0,x.props)}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function D(x){var ie={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ue){return ie[ue]})}var M=/\/+/g;function L(x,ie){return typeof x=="object"&&x!==null&&x.key!=null?D(""+x.key):ie.toString(36)}function C(){}function Et(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(C,C):(x.status="pending",x.then(function(ie){x.status==="pending"&&(x.status="fulfilled",x.value=ie)},function(ie){x.status==="pending"&&(x.status="rejected",x.reason=ie)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function rt(x,ie,ue,re,_e){var $=typeof x;($==="undefined"||$==="boolean")&&(x=null);var oe=!1;if(x===null)oe=!0;else switch($){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(x.$$typeof){case i:case e:oe=!0;break;case E:return oe=x._init,rt(oe(x._payload),ie,ue,re,_e)}}if(oe)return _e=_e(x),oe=re===""?"."+L(x,0):re,pe(_e)?(ue="",oe!=null&&(ue=oe.replace(M,"$&/")+"/"),rt(_e,ie,ue,"",function(Pe){return Pe})):_e!=null&&(R(_e)&&(_e=b(_e,ue+(_e.key==null||x&&x.key===_e.key?"":(""+_e.key).replace(M,"$&/")+"/")+oe)),ie.push(_e)),1;oe=0;var Re=re===""?".":re+":";if(pe(x))for(var Ee=0;Ee<x.length;Ee++)re=x[Ee],$=Re+L(re,Ee),oe+=rt(re,ie,ue,$,_e);else if(Ee=S(x),typeof Ee=="function")for(x=Ee.call(x),Ee=0;!(re=x.next()).done;)re=re.value,$=Re+L(re,Ee++),oe+=rt(re,ie,ue,$,_e);else if($==="object"){if(typeof x.then=="function")return rt(Et(x),ie,ue,re,_e);throw ie=String(x),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return oe}function Y(x,ie,ue){if(x==null)return x;var re=[],_e=0;return rt(x,re,"","",function($){return ie.call(ue,$,_e++)}),re}function le(x){if(x._status===-1){var ie=x._result;ie=ie(),ie.then(function(ue){(x._status===0||x._status===-1)&&(x._status=1,x._result=ue)},function(ue){(x._status===0||x._status===-1)&&(x._status=2,x._result=ue)}),x._status===-1&&(x._status=0,x._result=ie)}if(x._status===1)return x._result.default;throw x._result}var ge=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function qe(){}return Ne.Children={map:Y,forEach:function(x,ie,ue){Y(x,function(){ie.apply(this,arguments)},ue)},count:function(x){var ie=0;return Y(x,function(){ie++}),ie},toArray:function(x){return Y(x,function(ie){return ie})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ne.Component=H,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=se,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(x){return he.H.useMemoCache(x)}},Ne.cache=function(x){return function(){return x.apply(null,arguments)}},Ne.cloneElement=function(x,ie,ue){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var re=k({},x.props),_e=x.key,$=void 0;if(ie!=null)for(oe in ie.ref!==void 0&&($=void 0),ie.key!==void 0&&(_e=""+ie.key),ie)!fe.call(ie,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&ie.ref===void 0||(re[oe]=ie[oe]);var oe=arguments.length-2;if(oe===1)re.children=ue;else if(1<oe){for(var Re=Array(oe),Ee=0;Ee<oe;Ee++)Re[Ee]=arguments[Ee+2];re.children=Re}return O(x.type,_e,void 0,void 0,$,re)},Ne.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ne.createElement=function(x,ie,ue){var re,_e={},$=null;if(ie!=null)for(re in ie.key!==void 0&&($=""+ie.key),ie)fe.call(ie,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(_e[re]=ie[re]);var oe=arguments.length-2;if(oe===1)_e.children=ue;else if(1<oe){for(var Re=Array(oe),Ee=0;Ee<oe;Ee++)Re[Ee]=arguments[Ee+2];_e.children=Re}if(x&&x.defaultProps)for(re in oe=x.defaultProps,oe)_e[re]===void 0&&(_e[re]=oe[re]);return O(x,$,void 0,void 0,null,_e)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(x){return{$$typeof:m,render:x}},Ne.isValidElement=R,Ne.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:le}},Ne.memo=function(x,ie){return{$$typeof:g,type:x,compare:ie===void 0?null:ie}},Ne.startTransition=function(x){var ie=he.T,ue={};he.T=ue;try{var re=x(),_e=he.S;_e!==null&&_e(ue,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(qe,ge)}catch($){ge($)}finally{he.T=ie}},Ne.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ne.use=function(x){return he.H.use(x)},Ne.useActionState=function(x,ie,ue){return he.H.useActionState(x,ie,ue)},Ne.useCallback=function(x,ie){return he.H.useCallback(x,ie)},Ne.useContext=function(x){return he.H.useContext(x)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(x,ie){return he.H.useDeferredValue(x,ie)},Ne.useEffect=function(x,ie,ue){var re=he.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(x,ie)},Ne.useId=function(){return he.H.useId()},Ne.useImperativeHandle=function(x,ie,ue){return he.H.useImperativeHandle(x,ie,ue)},Ne.useInsertionEffect=function(x,ie){return he.H.useInsertionEffect(x,ie)},Ne.useLayoutEffect=function(x,ie){return he.H.useLayoutEffect(x,ie)},Ne.useMemo=function(x,ie){return he.H.useMemo(x,ie)},Ne.useOptimistic=function(x,ie){return he.H.useOptimistic(x,ie)},Ne.useReducer=function(x,ie,ue){return he.H.useReducer(x,ie,ue)},Ne.useRef=function(x){return he.H.useRef(x)},Ne.useState=function(x){return he.H.useState(x)},Ne.useSyncExternalStore=function(x,ie,ue){return he.H.useSyncExternalStore(x,ie,ue)},Ne.useTransition=function(){return he.H.useTransition()},Ne.version="19.1.0",Ne}var Lv;function hp(){return Lv||(Lv=1,cm.exports=IS()),cm.exports}var B=hp();const Fr=LT(B);var hm={exports:{}},Vl={},fm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function CS(){return Uv||(Uv=1,function(i){function e(Y,le){var ge=Y.length;Y.push(le);e:for(;0<ge;){var qe=ge-1>>>1,x=Y[qe];if(0<o(x,le))Y[qe]=le,Y[ge]=x,ge=qe;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var le=Y[0],ge=Y.pop();if(ge!==le){Y[0]=ge;e:for(var qe=0,x=Y.length,ie=x>>>1;qe<ie;){var ue=2*(qe+1)-1,re=Y[ue],_e=ue+1,$=Y[_e];if(0>o(re,ge))_e<x&&0>o($,re)?(Y[qe]=$,Y[_e]=ge,qe=_e):(Y[qe]=re,Y[ue]=ge,qe=ue);else if(_e<x&&0>o($,ge))Y[qe]=$,Y[_e]=ge,qe=_e;else break e}}return le}function o(Y,le){var ge=Y.sortIndex-le.sortIndex;return ge!==0?ge:Y.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,S=3,V=!1,k=!1,Q=!1,H=!1,X=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function pe(Y){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=Y)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function he(Y){if(Q=!1,pe(Y),!k)if(n(p)!==null)k=!0,fe||(fe=!0,L());else{var le=n(g);le!==null&&rt(he,le.startTime-Y)}}var fe=!1,O=-1,b=5,R=-1;function D(){return H?!0:!(i.unstable_now()-R<b)}function M(){if(H=!1,fe){var Y=i.unstable_now();R=Y;var le=!0;try{e:{k=!1,Q&&(Q=!1,se(O),O=-1),V=!0;var ge=S;try{t:{for(pe(Y),A=n(p);A!==null&&!(A.expirationTime>Y&&D());){var qe=A.callback;if(typeof qe=="function"){A.callback=null,S=A.priorityLevel;var x=qe(A.expirationTime<=Y);if(Y=i.unstable_now(),typeof x=="function"){A.callback=x,pe(Y),le=!0;break t}A===n(p)&&s(p),pe(Y)}else s(p);A=n(p)}if(A!==null)le=!0;else{var ie=n(g);ie!==null&&rt(he,ie.startTime-Y),le=!1}}break e}finally{A=null,S=ge,V=!1}le=void 0}}finally{le?L():fe=!1}}}var L;if(typeof ne=="function")L=function(){ne(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Et=C.port2;C.port1.onmessage=M,L=function(){Et.postMessage(null)}}else L=function(){X(M,0)};function rt(Y,le){O=X(function(){Y(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var ge=S;S=le;try{return Y()}finally{S=ge}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=S;S=Y;try{return le()}finally{S=ge}},i.unstable_scheduleCallback=function(Y,le,ge){var qe=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?qe+ge:qe):ge=qe,Y){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ge+x,Y={id:E++,callback:le,priorityLevel:Y,startTime:ge,expirationTime:x,sortIndex:-1},ge>qe?(Y.sortIndex=ge,e(g,Y),n(p)===null&&Y===n(g)&&(Q?(se(O),O=-1):Q=!0,rt(he,ge-qe))):(Y.sortIndex=x,e(p,Y),k||V||(k=!0,fe||(fe=!0,L()))),Y},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(Y){var le=S;return function(){var ge=S;S=le;try{return Y.apply(this,arguments)}finally{S=ge}}}}(dm)),dm}var jv;function NS(){return jv||(jv=1,fm.exports=CS()),fm.exports}var mm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function DS(){if(zv)return Xt;zv=1;var i=hp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var Bv;function UT(){if(Bv)return mm.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=DS(),mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function OS(){if(qv)return Vl;qv=1;var i=NS(),e=hp(),n=UT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case H:return"Profiler";case Q:return"StrictMode";case he:return"Suspense";case fe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case pe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:Et(t.type)||"Memo";case b:r=t._payload,t=t._init;try{return Et(t(r))}catch{}}return null}var rt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},qe=[],x=-1;function ie(t){return{current:t}}function ue(t){0>x||(t.current=qe[x],qe[x]=null,x--)}function re(t,r){x++,qe[x]=t.current,t.current=r}var _e=ie(null),$=ie(null),oe=ie(null),Re=ie(null);function Ee(t,r){switch(re(oe,r),re($,t),re(_e,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?lv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=lv(r),t=uv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(_e),re(_e,t)}function Pe(){ue(_e),ue($),ue(oe)}function tt(t){t.memoizedState!==null&&re(Re,t);var r=_e.current,a=uv(r,t.type);r!==a&&(re($,t),re(_e,a))}function an(t){$.current===t&&(ue(_e),ue($)),Re.current===t&&(ue(Re),Cl._currentValue=ge)}var zn=Object.prototype.hasOwnProperty,ti=i.unstable_scheduleCallback,ni=i.unstable_cancelCallback,ur=i.unstable_shouldYield,ht=i.unstable_requestPaint,$e=i.unstable_now,uf=i.unstable_getCurrentPriorityLevel,Ro=i.unstable_ImmediatePriority,sa=i.unstable_UserBlockingPriority,cs=i.unstable_NormalPriority,cf=i.unstable_LowPriority,aa=i.unstable_IdlePriority,Io=i.log,Au=i.unstable_setDisableYieldValue,ft=null,Qe=null;function pn(t){if(typeof Io=="function"&&Au(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ft,t)}catch{}}var Qt=Math.clz32?Math.clz32:hs,bu=Math.log,hf=Math.LN2;function hs(t){return t>>>=0,t===0?32:31-(bu(t)/hf|0)|0}var fs=256,ds=4194304;function Bn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oa(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Bn(l):(v&=T,v!==0?h=Bn(v):a||(a=T&~t,a!==0&&(h=Bn(a))))):(T=l&~d,T!==0?h=Bn(T):v!==0?h=Bn(v):a||(a=l&~t,a!==0&&(h=Bn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ms(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Co(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var t=fs;return fs<<=1,(fs&4194048)===0&&(fs=256),t}function Do(){var t=ds;return ds<<=1,(ds&62914560)===0&&(ds=4194304),t}function Ci(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ni(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oo(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-Qt(a),J=1<<W;T[W]=0,I[W]=-1;var F=q[W];if(F!==null)for(q[W]=null,W=0;W<F.length;W++){var G=F[W];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&ii(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function ii(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Qt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function xo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Qt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function cr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function la(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function Su(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var at=Math.random().toString(36).slice(2),It="__reactFiber$"+at,Tt="__reactProps$"+at,Rn="__reactContainer$"+at,Mo="__reactEvents$"+at,ff="__reactListeners$"+at,fr="__reactHandles$"+at,Ru="__reactResources$"+at,ps="__reactMarker$"+at;function dr(t){delete t[It],delete t[Tt],delete t[Mo],delete t[ff],delete t[fr]}function Di(t){var r=t[It];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Rn]||a[It]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=dv(t);t!==null;){if(a=t[It])return a;t=dv(t)}return r}t=a,a=t.parentNode}return null}function ri(t){if(t=t[It]||t[Rn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function si(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function tn(t){var r=t[Ru];return r||(r=t[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(t){t[ps]=!0}var Vo=new Set,ua={};function qn(t,r){Oi(t,r),Oi(t+"Capture",r)}function Oi(t,r){for(ua[t]=r,t=0;t<r.length;t++)Vo.add(r[t])}var Iu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cu={},gs={};function Nu(t){return zn.call(gs,t)?!0:zn.call(Cu,t)?!1:Iu.test(t)?gs[t]=!0:(Cu[t]=!0,!1)}function mr(t,r,a){if(Nu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ai(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function zt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ys,Du;function xi(t){if(ys===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ys=r&&r[1]||"",Du=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+t+Du}var ca=!1;function ha(t,r){if(!t||ca)return"";ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var F=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){F=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){F=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),q=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var W=`
`+I[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{ca=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xi(a):""}function Po(t){switch(t.tag){case 26:case 27:case 5:return xi(t.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return ha(t.type,!1);case 11:return ha(t.type.render,!1);case 1:return ha(t.type,!0);case 31:return xi("Activity");default:return""}}function fa(t){try{var r="";do r+=Po(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ko(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function df(t){var r=ko(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function da(t){t._valueTracker||(t._valueTracker=df(t))}function Lo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=ko(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function _s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mf=/[\n"\\]/g;function wt(t){return t.replace(mf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function gn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+nn(r)):t.value!==""+nn(r)&&(t.value=""+nn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?pr(t,v,nn(r)):a!=null?pr(t,v,nn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nn(T):t.removeAttribute("name")}function vs(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function pr(t,r,a){r==="number"&&_s(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Mi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function We(t,r,a){if(r!=null&&(r=""+nn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+nn(a):""}function Es(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function In(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ou(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ts.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Uo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Ou(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Ou(t,d,r[d])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return gf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vi=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,ki=null;function zo(t){var r=ri(t);if(r&&(t=r.stateNode)){var a=t[Tt]||null;e:switch(t=r.stateNode,r.type){case"input":if(gn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Tt]||null;if(!h)throw Error(s(90));gn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Lo(l)}break e;case"textarea":We(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Mi(t,!!a.multiple,r,!1)}}}var oi=!1;function xu(t,r,a){if(oi)return t(r,a);oi=!0;try{var l=t(r);return l}finally{if(oi=!1,(Pi!==null||ki!==null)&&(Sc(),Pi&&(r=Pi,t=ki,ki=Pi=null,zo(r),t)))for(r=0;r<t.length;r++)zo(t[r])}}function ws(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Hn)try{var As={};Object.defineProperty(As,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Nn=!1}var li=null,gr=null,Li=null;function Bo(){if(Li)return Li;var t,r=gr,a=r.length,l,h="value"in li?li.value:li.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Li=h.slice(t,1<l?1-l:void 0)}function ui(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ci(){return!0}function qo(){return!1}function Vt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ci:qo,this.isPropagationStopped=qo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Vt(Ge),bs=E({},Ge,{view:0,detail:0}),Mu=Vt(bs),ga,ya,hi,Ss=E({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(ga=t.screenX-hi.screenX,ya=t.screenY-hi.screenY):ya=ga=0,hi=t),ga)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Dn=Vt(Ss),Vu=E({},Ss,{dataTransfer:0}),yf=Vt(Vu),Rs=E({},bs,{relatedTarget:0}),_a=Vt(Rs),Ho=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),va=Vt(Ho),Pu=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ea=Vt(Pu),_f=E({},Ge,{data:0}),Fo=Vt(_f),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Lu[t])?!!r[t]:!1}function Cs(){return Go}var Uu=E({},bs,{key:function(t){if(t.key){var r=Is[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ui(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(t){return t.type==="keypress"?ui(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ui(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ta=Vt(Uu),ju=E({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=Vt(ju),Ui=E({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),zu=Vt(Ui),Bu=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),qu=Vt(Bu),Hu=E({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=Vt(Hu),rn=E({},Ge,{newState:0,oldState:0}),Fu=Vt(rn),Gu=[9,13,27,32],fi=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,_=Hn&&(!fi||c&&8<c&&11>=c),w=" ",j=!1;function K(t,r){switch(t){case"keyup":return Gu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Ct(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(j=!0,w);case"textInput":return t=r.data,t===w&&j?null:t;default:return null}}function je(t,r){if(Ue)return t==="compositionend"||!fi&&K(t,r)?(t=Bo(),Li=gr=li=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Pt[t.type]:r==="textarea"}function ji(t,r,a,l){Pi?ki?ki.push(l):ki=[l]:Pi=l,r=Oc(r,"onChange"),0<r.length&&(a=new pa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Bt=null,di=null;function $o(t){iv(t,0)}function Ku(t){var r=si(t);if(Lo(r))return t}function bg(t,r){if(t==="change")return r}var Sg=!1;if(Hn){var vf;if(Hn){var Ef="oninput"in document;if(!Ef){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Ef=typeof Rg.oninput=="function"}vf=Ef}else vf=!1;Sg=vf&&(!document.documentMode||9<document.documentMode)}function Ig(){Bt&&(Bt.detachEvent("onpropertychange",Cg),di=Bt=null)}function Cg(t){if(t.propertyName==="value"&&Ku(di)){var r=[];ji(r,di,t,Cn(t)),xu($o,r)}}function tb(t,r,a){t==="focusin"?(Ig(),Bt=r,di=a,Bt.attachEvent("onpropertychange",Cg)):t==="focusout"&&Ig()}function nb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(di)}function ib(t,r){if(t==="click")return Ku(r)}function rb(t,r){if(t==="input"||t==="change")return Ku(r)}function sb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var yn=typeof Object.is=="function"?Object.is:sb;function Qo(t,r){if(yn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!zn.call(r,h)||!yn(t[h],r[h]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,r){var a=Ng(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ng(a)}}function Og(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Og(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=_s(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=_s(t.document)}return r}function Tf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var ab=Hn&&"documentMode"in document&&11>=document.documentMode,Aa=null,wf=null,Yo=null,Af=!1;function Mg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||Aa==null||Aa!==_s(l)||(l=Aa,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=Oc(wf,"onSelect"),0<l.length&&(r=new pa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Aa)))}function Ns(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ba={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},bf={},Vg={};Hn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ds(t){if(bf[t])return bf[t];if(!ba[t])return t;var r=ba[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Vg)return bf[t]=r[a];return t}var Pg=Ds("animationend"),kg=Ds("animationiteration"),Lg=Ds("animationstart"),ob=Ds("transitionrun"),lb=Ds("transitionstart"),ub=Ds("transitioncancel"),Ug=Ds("transitionend"),jg=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function Fn(t,r){jg.set(t,r),qn(r,[t])}var zg=new WeakMap;function On(t,r){if(typeof t=="object"&&t!==null){var a=zg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:fa(r)},zg.set(t,r),r)}return{value:t,source:r,stack:fa(r)}}var xn=[],Sa=0,Rf=0;function $u(){for(var t=Sa,r=Rf=Sa=0;r<t;){var a=xn[r];xn[r++]=null;var l=xn[r];xn[r++]=null;var h=xn[r];xn[r++]=null;var d=xn[r];if(xn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Bg(a,h,d)}}function Qu(t,r,a,l){xn[Sa++]=t,xn[Sa++]=r,xn[Sa++]=a,xn[Sa++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,r,a,l){return Qu(t,r,a,l),Yu(t)}function Ra(t,r){return Qu(t,null,null,r),Yu(t)}function Bg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Yu(t){if(50<El)throw El=0,Md=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ia={};function cb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,r,a,l){return new cb(t,r,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zi(t,r){var a=t.alternate;return a===null?(a=_n(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Xu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Cf(t)&&(v=1);else if(typeof t=="string")v=fS(t,a,_e.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=_n(31,a,r,h),t.elementType=R,t.lanes=d,t;case k:return Os(a.children,h,d,r);case Q:v=8,h|=24;break;case H:return t=_n(12,a,r,h|2),t.elementType=H,t.lanes=d,t;case he:return t=_n(13,a,r,h),t.elementType=he,t.lanes=d,t;case fe:return t=_n(19,a,r,h),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case ne:v=10;break e;case se:v=9;break e;case pe:v=11;break e;case O:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=_n(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Os(t,r,a,l){return t=_n(7,t,l,r),t.lanes=a,t}function Nf(t,r,a){return t=_n(6,t,null,r),t.lanes=a,t}function Df(t,r,a){return r=_n(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ca=[],Na=0,Wu=null,Zu=0,Mn=[],Vn=0,xs=null,Bi=1,qi="";function Ms(t,r){Ca[Na++]=Zu,Ca[Na++]=Wu,Wu=t,Zu=r}function Hg(t,r,a){Mn[Vn++]=Bi,Mn[Vn++]=qi,Mn[Vn++]=xs,xs=t;var l=Bi;t=qi;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Bi=1<<32-Qt(r)+h|a<<h|l,qi=d+t}else Bi=1<<d|a<<h|l,qi=t}function Of(t){t.return!==null&&(Ms(t,1),Hg(t,1,0))}function xf(t){for(;t===Wu;)Wu=Ca[--Na],Ca[Na]=null,Zu=Ca[--Na],Ca[Na]=null;for(;t===xs;)xs=Mn[--Vn],Mn[Vn]=null,qi=Mn[--Vn],Mn[Vn]=null,Bi=Mn[--Vn],Mn[Vn]=null}var sn=null,dt=null,Fe=!1,Vs=null,mi=!1,Mf=Error(s(519));function Ps(t){var r=Error(s(418,""));throw Zo(On(r,t)),Mf}function Fg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[It]=t,r[Tt]=l,a){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(a=0;a<wl.length;a++)Ve(wl[a],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),vs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),da(r);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Es(r,l.value,l.defaultValue,l.children),da(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||ov(r.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),l.onScroll!=null&&Ve("scroll",r),l.onScrollEnd!=null&&Ve("scrollend",r),l.onClick!=null&&(r.onclick=xc),r=!0):r=!1,r||Ps(t)}function Gg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:sn=sn.return}}function Xo(t){if(t!==sn)return!1;if(!Fe)return Gg(t),Fe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Yd(t.type,t.memoizedProps)),a=!a),a&&dt&&Ps(t),Gg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){dt=Kn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}dt=null}}else r===27?(r=dt,xr(t.type)?(t=Jd,Jd=null,dt=t):dt=r):dt=sn?Kn(t.stateNode.nextSibling):null;return!0}function Wo(){dt=sn=null,Fe=!1}function Kg(){var t=Vs;return t!==null&&(un===null?un=t:un.push.apply(un,t),Vs=null),t}function Zo(t){Vs===null?Vs=[t]:Vs.push(t)}var Vf=ie(null),ks=null,Hi=null;function yr(t,r,a){re(Vf,r._currentValue),r._currentValue=a}function Fi(t){t._currentValue=Vf.current,ue(Vf)}function Pf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function kf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Pf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Pf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Jo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;yn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Re.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&kf(r,t,a,l),r.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ls(t){ks=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return $g(ks,t)}function ec(t,r){return ks===null&&Ls(t),$g(t,r)}function $g(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(s(308));Hi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Hi=Hi.next=r;return a}var hb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},fb=i.unstable_scheduleCallback,db=i.unstable_NormalPriority,Dt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new hb,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&fb(db,function(){t.controller.abort()})}var tl=null,Uf=0,Da=0,Oa=null;function mb(t,r){if(tl===null){var a=tl=[];Uf=0,Da=zd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,r.then(Qg,Qg),r}function Qg(){if(--Uf===0&&tl!==null){Oa!==null&&(Oa.status="fulfilled");var t=tl;tl=null,Da=0,Oa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function pb(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Yg=Y.S;Y.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&mb(t,r),Yg!==null&&Yg(t,r)};var Us=ie(null);function jf(){var t=Us.current;return t!==null?t:it.pooledCache}function tc(t,r){r===null?re(Us,Us.current):re(Us,r.pool)}function Xg(){var t=jf();return t===null?null:{parent:Dt._currentValue,pool:t}}var nl=Error(s(460)),Wg=Error(s(474)),nc=Error(s(542)),zf={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ic(){}function Jg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ic,ic),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ty(t),t;default:if(typeof r.status=="string")r.then(ic,ic);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ty(t),t}throw il=r,nl}}var il=null;function ey(){if(il===null)throw Error(s(459));var t=il;return il=null,t}function ty(t){if(t===nl||t===nc)throw Error(s(483))}var _r=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Er(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Yu(t),Bg(t,null,a),r}return Qu(t,l,r,a),Yu(t)}function rl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,xo(t,a)}}function Hf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Ff=!1;function sl(){if(Ff){var t=Oa;if(t!==null)throw t}}function al(t,r,a,l){Ff=!1;var h=t.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=q:T.next=q,W.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,W=q=I=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(ze&F)===F:(l&F)===F){F!==0&&F===Da&&(Ff=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var be=t,Te=T;F=r;var et=a;switch(Te.tag){case 1:if(be=Te.payload,typeof be=="function"){J=be.call(et,J,F);break e}J=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,F=typeof be=="function"?be.call(et,J,F):be,F==null)break e;J=E({},J,F);break e;case 2:_r=!0}}F=T.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(q=W=G,I=J):W=W.next=G,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);W===null&&(I=J),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Cr|=v,t.lanes=v,t.memoizedState=J}}function ny(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function iy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ny(a[t],r)}var xa=ie(null),rc=ie(0);function ry(t,r){t=Wi,re(rc,t),re(xa,r),Wi=t|r.baseLanes}function Gf(){re(rc,Wi),re(xa,xa.current)}function Kf(){Wi=rc.current,ue(xa),ue(rc)}var Tr=0,De=null,Ze=null,At=null,sc=!1,Ma=!1,js=!1,ac=0,ol=0,Va=null,gb=0;function gt(){throw Error(s(321))}function $f(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!yn(t[a],r[a]))return!1;return!0}function Qf(t,r,a,l,h,d){return Tr=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?By:qy,js=!1,d=a(l,h),js=!1,Ma&&(d=ay(r,a,l,h)),sy(t),d}function sy(t){Y.H=fc;var r=Ze!==null&&Ze.next!==null;if(Tr=0,At=Ze=De=null,sc=!1,ol=0,Va=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&Ju(t)&&(kt=!0))}function ay(t,r,a,l){De=t;var h=0;do{if(Ma&&(Va=null),ol=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,At=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Ab,d=r(a,l)}while(Ma);return d}function yb(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?ll(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(De.flags|=1024),r}function Yf(){var t=ac!==0;return ac=0,t}function Xf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Wf(t){if(sc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}sc=!1}Tr=0,At=Ze=De=null,Ma=!1,ol=ac=0,Va=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?De.memoizedState=At=t:At=At.next=t,At}function bt(){if(Ze===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=At===null?De.memoizedState:At.next;if(r!==null)At=r,Ze=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?De.memoizedState=At=t:At=At.next=t}return At}function Zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var r=ol;return ol+=1,Va===null&&(Va=[]),t=Jg(Va,t,r),r=De,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?By:qy),t}function oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===ne)return Yt(t)}throw Error(s(438,String(t)))}function Jf(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Zf(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=D;return r.index++,a}function Gi(t,r){return typeof r=="function"?r(t):r}function lc(t){var r=bt();return ed(r,Ze,t)}function ed(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,I=null,q=r,W=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(ze&J)===J:(Tr&J)===J){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Da&&(W=!0);else if((Tr&F)===F){q=q.next,F===Da&&(W=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,De.lanes|=F,Cr|=F;J=q.action,js&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else F={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=F,v=d):I=I.next=F,De.lanes|=J,Cr|=J;q=q.next}while(q!==null&&q!==r);if(I===null?v=d:I.next=T,!yn(d,t.memoizedState)&&(kt=!0,W&&(a=Oa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);yn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function oy(t,r,a){var l=De,h=bt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!yn((Ze||h).memoizedState,a);v&&(h.memoizedState=a,kt=!0),h=h.queue;var T=cy.bind(null,l,h,t);if(ul(2048,8,T,[t]),h.getSnapshot!==r||v||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Pa(9,uc(),uy.bind(null,l,h,a,r),null),it===null)throw Error(s(349));d||(Tr&124)!==0||ly(l,r,a)}return a}function ly(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=Zf(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function uy(t,r,a,l){r.value=a,r.getSnapshot=l,hy(r)&&fy(t)}function cy(t,r,a){return a(function(){hy(r)&&fy(t)})}function hy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!yn(t,a)}catch{return!0}}function fy(t){var r=Ra(t,2);r!==null&&An(r,t,2)}function nd(t){var r=on();if(typeof t=="function"){var a=t;if(t=a(),js){pn(!0);try{a()}finally{pn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},r}function dy(t,r,a,l){return t.baseState=a,ed(t,Ze,typeof l=="function"?l:Gi)}function _b(t,r,a,l,h){if(hc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,my(r,d)):(d.next=a.next,r.pending=a.next=d)}}function my(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),I=Y.S;I!==null&&I(v,T),py(t,r,T)}catch(q){id(t,r,q)}finally{Y.T=d}}else try{d=a(h,l),py(t,r,d)}catch(q){id(t,r,q)}}function py(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gy(t,r,l)},function(l){return id(t,r,l)}):gy(t,r,a)}function gy(t,r,a){r.status="fulfilled",r.value=a,yy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,my(t,a)))}function id(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,yy(r),r=r.next;while(r!==l)}t.action=null}function yy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function _y(t,r){return r}function vy(t,r){if(Fe){var a=it.formState;if(a!==null){e:{var l=De;if(Fe){if(dt){t:{for(var h=dt,d=mi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=Kn(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:r},a.queue=l,a=Uy.bind(null,De,l),l.dispatch=a,l=nd(!1),d=ld.bind(null,De,!1,l.queue),l=on(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=_b.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ey(t){var r=bt();return Ty(r,Ze,t)}function Ty(t,r,a){if(r=ed(t,r,_y)[0],t=lc(Gi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ll(r)}catch(v){throw v===nl?nc:v}else l=r;r=bt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Pa(9,uc(),vb.bind(null,h,a),null)),[l,d,t]}function vb(t,r){t.action=r}function wy(t){var r=bt(),a=Ze;if(a!==null)return Ty(r,a,t);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Pa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=Zf(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function uc(){return{destroy:void 0,resource:void 0}}function Ay(){return bt().memoizedState}function cc(t,r,a,l){var h=on();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Pa(1|r,uc(),a,l)}function ul(t,r,a,l){var h=bt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&$f(l,Ze.memoizedState.deps)?h.memoizedState=Pa(r,d,a,l):(De.flags|=t,h.memoizedState=Pa(1|r,d,a,l))}function by(t,r){cc(8390656,8,t,r)}function Sy(t,r){ul(2048,8,t,r)}function Ry(t,r){return ul(4,2,t,r)}function Iy(t,r){return ul(4,4,t,r)}function Cy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ny(t,r,a){a=a!=null?a.concat([t]):null,ul(4,4,Cy.bind(null,r,t),a)}function rd(){}function Dy(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&$f(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Oy(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&$f(r,l[1]))return l[0];if(l=t(),js){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,r],l}function sd(t,r,a){return a===void 0||(Tr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=V_(),De.lanes|=t,Cr|=t,a)}function xy(t,r,a,l){return yn(a,r)?a:xa.current!==null?(t=sd(t,a,l),yn(t,r)||(kt=!0),t):(Tr&42)===0?(kt=!0,t.memoizedState=a):(t=V_(),De.lanes|=t,Cr|=t,r)}function My(t,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,ld(t,!1,r,a);try{var I=h(),q=Y.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=pb(I,l);cl(t,r,W,wn(t))}else cl(t,r,l,wn(t))}catch(J){cl(t,r,{then:function(){},status:"rejected",reason:J},wn())}finally{le.p=d,Y.T=v}}function Eb(){}function ad(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Vy(t).queue;My(t,h,r,ge,a===null?Eb:function(){return Py(t),a(l)})}function Vy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Py(t){var r=Vy(t).next.queue;cl(t,r,{},wn())}function od(){return Yt(Cl)}function ky(){return bt().memoizedState}function Ly(){return bt().memoizedState}function Tb(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=wn();t=vr(a);var l=Er(r,t,a);l!==null&&(An(l,r,a),rl(l,r,a)),r={cache:Lf()},t.payload=r;return}r=r.return}}function wb(t,r,a){var l=wn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?jy(r,a):(a=If(t,r,a,l),a!==null&&(An(a,t,l),zy(a,r,l)))}function Uy(t,r,a){var l=wn();cl(t,r,a,l)}function cl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))jy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,v))return Qu(t,r,h,0),it===null&&$u(),!1}catch{}finally{}if(a=If(t,r,h,l),a!==null)return An(a,t,l),zy(a,r,l),!0}return!1}function ld(t,r,a,l){if(l={lane:2,revertLane:zd(),action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(r)throw Error(s(479))}else r=If(t,a,l,2),r!==null&&An(r,t,2)}function hc(t){var r=t.alternate;return t===De||r!==null&&r===De}function jy(t,r){Ma=sc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function zy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,xo(t,a)}}var fc={readContext:Yt,use:oc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},By={readContext:Yt,use:oc,useCallback:function(t,r){return on().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:by,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,cc(4194308,4,Cy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return cc(4194308,4,t,r)},useInsertionEffect:function(t,r){cc(4,2,t,r)},useMemo:function(t,r){var a=on();r=r===void 0?null:r;var l=t();if(js){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=on();if(a!==void 0){var h=a(r);if(js){pn(!0);try{a(r)}finally{pn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=wb.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=on();return t={current:t},r.memoizedState=t},useState:function(t){t=nd(t);var r=t.queue,a=Uy.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,r){var a=on();return sd(a,t,r)},useTransition:function(){var t=nd(!1);return t=My.bind(null,De,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=on();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(ze&124)!==0||ly(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,by(cy.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,uc(),uy.bind(null,l,d,a,r),null),a},useId:function(){var t=on(),r=it.identifierPrefix;if(Fe){var a=qi,l=Bi;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=ac++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=gb++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:od,useFormState:vy,useActionState:vy,useOptimistic:function(t){var r=on();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ld.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:Jf,useCacheRefresh:function(){return on().memoizedState=Tb.bind(null,De)}},qy={readContext:Yt,use:oc,useCallback:Dy,useContext:Yt,useEffect:Sy,useImperativeHandle:Ny,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:Oy,useReducer:lc,useRef:Ay,useState:function(){return lc(Gi)},useDebugValue:rd,useDeferredValue:function(t,r){var a=bt();return xy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=lc(Gi)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:ll(t),r]},useSyncExternalStore:oy,useId:ky,useHostTransitionStatus:od,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,r){var a=bt();return dy(a,Ze,t,r)},useMemoCache:Jf,useCacheRefresh:Ly},Ab={readContext:Yt,use:oc,useCallback:Dy,useContext:Yt,useEffect:Sy,useImperativeHandle:Ny,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:Oy,useReducer:td,useRef:Ay,useState:function(){return td(Gi)},useDebugValue:rd,useDeferredValue:function(t,r){var a=bt();return Ze===null?sd(a,t,r):xy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=td(Gi)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:ll(t),r]},useSyncExternalStore:oy,useId:ky,useHostTransitionStatus:od,useFormState:wy,useActionState:wy,useOptimistic:function(t,r){var a=bt();return Ze!==null?dy(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Ly},ka=null,hl=0;function dc(t){var r=hl;return hl+=1,ka===null&&(ka=[]),Jg(ka,t,r)}function fl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function mc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Hy(t){var r=t._init;return r(t._payload)}function Fy(t){function r(U,P){if(t){var z=U.deletions;z===null?(U.deletions=[P],U.flags|=16):z.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)r(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function h(U,P){return U=zi(U,P),U.index=0,U.sibling=null,U}function d(U,P,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<P?(U.flags|=67108866,P):z):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,P,z,Z){return P===null||P.tag!==6?(P=Nf(z,U.mode,Z),P.return=U,P):(P=h(P,z),P.return=U,P)}function I(U,P,z,Z){var me=z.type;return me===k?W(U,P,z.props.children,Z,z.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===b&&Hy(me)===P.type)?(P=h(P,z.props),fl(P,z),P.return=U,P):(P=Xu(z.type,z.key,z.props,null,U.mode,Z),fl(P,z),P.return=U,P)}function q(U,P,z,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Df(z,U.mode,Z),P.return=U,P):(P=h(P,z.children||[]),P.return=U,P)}function W(U,P,z,Z,me){return P===null||P.tag!==7?(P=Os(z,U.mode,Z,me),P.return=U,P):(P=h(P,z),P.return=U,P)}function J(U,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Nf(""+P,U.mode,z),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return z=Xu(P.type,P.key,P.props,null,U.mode,z),fl(z,P),z.return=U,z;case V:return P=Df(P,U.mode,z),P.return=U,P;case b:var Z=P._init;return P=Z(P._payload),J(U,P,z)}if(rt(P)||L(P))return P=Os(P,U.mode,z,null),P.return=U,P;if(typeof P.then=="function")return J(U,dc(P),z);if(P.$$typeof===ne)return J(U,ec(U,P),z);mc(U,P)}return null}function F(U,P,z,Z){var me=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:T(U,P,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===me?I(U,P,z,Z):null;case V:return z.key===me?q(U,P,z,Z):null;case b:return me=z._init,z=me(z._payload),F(U,P,z,Z)}if(rt(z)||L(z))return me!==null?null:W(U,P,z,Z,null);if(typeof z.then=="function")return F(U,P,dc(z),Z);if(z.$$typeof===ne)return F(U,P,ec(U,z),Z);mc(U,z)}return null}function G(U,P,z,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(z)||null,T(P,U,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return U=U.get(Z.key===null?z:Z.key)||null,I(P,U,Z,me);case V:return U=U.get(Z.key===null?z:Z.key)||null,q(P,U,Z,me);case b:var xe=Z._init;return Z=xe(Z._payload),G(U,P,z,Z,me)}if(rt(Z)||L(Z))return U=U.get(z)||null,W(P,U,Z,me,null);if(typeof Z.then=="function")return G(U,P,z,dc(Z),me);if(Z.$$typeof===ne)return G(U,P,z,ec(P,Z),me);mc(P,Z)}return null}function be(U,P,z,Z){for(var me=null,xe=null,ye=P,we=P=0,Ut=null;ye!==null&&we<z.length;we++){ye.index>we?(Ut=ye,ye=null):Ut=ye.sibling;var He=F(U,ye,z[we],Z);if(He===null){ye===null&&(ye=Ut);break}t&&ye&&He.alternate===null&&r(U,ye),P=d(He,P,we),xe===null?me=He:xe.sibling=He,xe=He,ye=Ut}if(we===z.length)return a(U,ye),Fe&&Ms(U,we),me;if(ye===null){for(;we<z.length;we++)ye=J(U,z[we],Z),ye!==null&&(P=d(ye,P,we),xe===null?me=ye:xe.sibling=ye,xe=ye);return Fe&&Ms(U,we),me}for(ye=l(ye);we<z.length;we++)Ut=G(ye,U,we,z[we],Z),Ut!==null&&(t&&Ut.alternate!==null&&ye.delete(Ut.key===null?we:Ut.key),P=d(Ut,P,we),xe===null?me=Ut:xe.sibling=Ut,xe=Ut);return t&&ye.forEach(function(Lr){return r(U,Lr)}),Fe&&Ms(U,we),me}function Te(U,P,z,Z){if(z==null)throw Error(s(151));for(var me=null,xe=null,ye=P,we=P=0,Ut=null,He=z.next();ye!==null&&!He.done;we++,He=z.next()){ye.index>we?(Ut=ye,ye=null):Ut=ye.sibling;var Lr=F(U,ye,He.value,Z);if(Lr===null){ye===null&&(ye=Ut);break}t&&ye&&Lr.alternate===null&&r(U,ye),P=d(Lr,P,we),xe===null?me=Lr:xe.sibling=Lr,xe=Lr,ye=Ut}if(He.done)return a(U,ye),Fe&&Ms(U,we),me;if(ye===null){for(;!He.done;we++,He=z.next())He=J(U,He.value,Z),He!==null&&(P=d(He,P,we),xe===null?me=He:xe.sibling=He,xe=He);return Fe&&Ms(U,we),me}for(ye=l(ye);!He.done;we++,He=z.next())He=G(ye,U,we,He.value,Z),He!==null&&(t&&He.alternate!==null&&ye.delete(He.key===null?we:He.key),P=d(He,P,we),xe===null?me=He:xe.sibling=He,xe=He);return t&&ye.forEach(function(bS){return r(U,bS)}),Fe&&Ms(U,we),me}function et(U,P,z,Z){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var me=z.key;P!==null;){if(P.key===me){if(me=z.type,me===k){if(P.tag===7){a(U,P.sibling),Z=h(P,z.props.children),Z.return=U,U=Z;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===b&&Hy(me)===P.type){a(U,P.sibling),Z=h(P,z.props),fl(Z,z),Z.return=U,U=Z;break e}a(U,P);break}else r(U,P);P=P.sibling}z.type===k?(Z=Os(z.props.children,U.mode,Z,z.key),Z.return=U,U=Z):(Z=Xu(z.type,z.key,z.props,null,U.mode,Z),fl(Z,z),Z.return=U,U=Z)}return v(U);case V:e:{for(me=z.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(U,P.sibling),Z=h(P,z.children||[]),Z.return=U,U=Z;break e}else{a(U,P);break}else r(U,P);P=P.sibling}Z=Df(z,U.mode,Z),Z.return=U,U=Z}return v(U);case b:return me=z._init,z=me(z._payload),et(U,P,z,Z)}if(rt(z))return be(U,P,z,Z);if(L(z)){if(me=L(z),typeof me!="function")throw Error(s(150));return z=me.call(z),Te(U,P,z,Z)}if(typeof z.then=="function")return et(U,P,dc(z),Z);if(z.$$typeof===ne)return et(U,P,ec(U,z),Z);mc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(U,P.sibling),Z=h(P,z),Z.return=U,U=Z):(a(U,P),Z=Nf(z,U.mode,Z),Z.return=U,U=Z),v(U)):a(U,P)}return function(U,P,z,Z){try{hl=0;var me=et(U,P,z,Z);return ka=null,me}catch(ye){if(ye===nl||ye===nc)throw ye;var xe=_n(29,ye,null,U.mode);return xe.lanes=Z,xe.return=U,xe}finally{}}}var La=Fy(!0),Gy=Fy(!1),Pn=ie(null),pi=null;function wr(t){var r=t.alternate;re(Ot,Ot.current&1),re(Pn,t),pi===null&&(r===null||xa.current!==null||r.memoizedState!==null)&&(pi=t)}function Ky(t){if(t.tag===22){if(re(Ot,Ot.current),re(Pn,t),pi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(pi=t)}}else Ar()}function Ar(){re(Ot,Ot.current),re(Pn,Pn.current)}function Ki(t){ue(Pn),pi===t&&(pi=null),ue(Ot)}var Ot=ie(0);function pc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ud(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=wn(),h=vr(l);h.payload=r,a!=null&&(h.callback=a),r=Er(t,h,l),r!==null&&(An(r,t,l),rl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=wn(),h=vr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Er(t,h,l),r!==null&&(An(r,t,l),rl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=wn(),l=vr(a);l.tag=2,r!=null&&(l.callback=r),r=Er(t,l,a),r!==null&&(An(r,t,a),rl(r,t,a))}};function $y(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function Qy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&cd.enqueueReplaceState(r,r.state,null)}function zs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Yy(t){gc(t)}function Xy(t){console.error(t)}function Wy(t){gc(t)}function yc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hd(t,r,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,r)},a}function Jy(t){return t=vr(t),t.tag=3,t}function e_(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Zy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Zy(r,a,l),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function bb(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Jo(r,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return pi===null?Pd():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ld(t,l,h)),!1;case 22:return a.flags|=65536,l===zf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ld(t,l,h)),!1}throw Error(s(435,a.tag))}return Ld(t,l,h),Pd(),!1}if(Fe)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Mf&&(t=Error(s(422),{cause:l}),Zo(On(t,a)))):(l!==Mf&&(r=Error(s(423),{cause:l}),Zo(On(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=hd(t.stateNode,l,h),Hf(t,h),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),vl===null?vl=[d]:vl.push(d),mt!==4&&(mt=2),r===null)return!0;l=On(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=hd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jy(h),e_(h,t,a,l),Hf(a,h),!1}a=a.return}while(a!==null);return!1}var t_=Error(s(461)),kt=!1;function qt(t,r,a,l){r.child=t===null?Gy(r,null,a,l):La(r,t.child,a,l)}function n_(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ls(r),l=Qf(t,r,a,v,d,h),T=Yf(),t!==null&&!kt?(Xf(t,r,h),$i(t,r,h)):(Fe&&T&&Of(r),r.flags|=1,qt(t,r,l,h),r.child)}function i_(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,r_(t,r,d,l,h)):(t=Xu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!vd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(v,l)&&t.ref===r.ref)return $i(t,r,h)}return r.flags|=1,t=zi(d,l),t.ref=r.ref,t.return=r,r.child=t}function r_(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=d,vd(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,$i(t,r,h)}return fd(t,r,a,l,h)}function s_(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return a_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(r,d!==null?d.cachePool:null),d!==null?ry(r,d):Gf(),Ky(r);else return r.lanes=r.childLanes=536870912,a_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(tc(r,d.cachePool),ry(r,d),Ar(),r.memoizedState=null):(t!==null&&tc(r,null),Gf(),Ar());return qt(t,r,h,a),r.child}function a_(t,r,a,l){var h=jf();return h=h===null?null:{parent:Dt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&tc(r,null),Gf(),Ky(r),t!==null&&Jo(t,r,l,!0),null}function _c(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function fd(t,r,a,l,h){return Ls(r),a=Qf(t,r,a,l,void 0,h),l=Yf(),t!==null&&!kt?(Xf(t,r,h),$i(t,r,h)):(Fe&&l&&Of(r),r.flags|=1,qt(t,r,a,h),r.child)}function o_(t,r,a,l,h,d){return Ls(r),r.updateQueue=null,a=ay(r,l,a,h),sy(t),l=Yf(),t!==null&&!kt?(Xf(t,r,d),$i(t,r,d)):(Fe&&l&&Of(r),r.flags|=1,qt(t,r,a,d),r.child)}function l_(t,r,a,l,h){if(Ls(r),r.stateNode===null){var d=Ia,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Bf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Ia,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ud(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&cd.enqueueReplaceState(d,d.state,null),al(r,l,d,h),sl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=zs(a,T);d.props=I;var q=d.context,W=a.contextType;v=Ia,typeof W=="object"&&W!==null&&(v=Yt(W));var J=a.getDerivedStateFromProps;W=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&Qy(r,d,l,v),_r=!1;var F=r.memoizedState;d.state=F,al(r,l,d,h),sl(),q=r.memoizedState,T||F!==q||_r?(typeof J=="function"&&(ud(r,a,J,l),q=r.memoizedState),(I=_r||$y(r,a,I,l,F,q,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,qf(t,r),v=r.memoizedProps,W=zs(a,v),d.props=W,J=r.pendingProps,F=d.context,q=a.contextType,I=Ia,typeof q=="object"&&q!==null&&(I=Yt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||F!==I)&&Qy(r,d,l,I),_r=!1,F=r.memoizedState,d.state=F,al(r,l,d,h),sl();var G=r.memoizedState;v!==J||F!==G||_r||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof T=="function"&&(ud(r,a,T,l),G=r.memoizedState),(W=_r||$y(r,a,W,l,F,G,I)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,_c(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=La(r,t.child,null,h),r.child=La(r,null,a,h)):qt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=$i(t,r,h),t}function u_(t,r,a,l){return Wo(),r.flags|=256,qt(t,r,a,l),r.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(t){return{baseLanes:t,cachePool:Xg()}}function pd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=kn),t}function c_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Fe){if(h?wr(r):Ar(),Fe){var T=dt,I;if(I=T){e:{for(I=T,T=mi;I.nodeType!==8;){if(!T){T=null;break e}if(I=Kn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:xs!==null?{id:Bi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},I=_n(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,sn=r,dt=null,I=!0):I=!1}I||Ps(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Zd(T)?r.lanes=32:r.lanes=536870912,null;Ki(r)}return T=l.children,l=l.fallback,h?(Ar(),h=r.mode,T=vc({mode:"hidden",children:T},h),l=Os(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=md(a),h.childLanes=pd(t,v,a),r.memoizedState=dd,l):(wr(r),gd(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(wr(r),r.flags&=-257,r=yd(t,r,a)):r.memoizedState!==null?(Ar(),r.child=t.child,r.flags|=128,r=null):(Ar(),h=l.fallback,T=r.mode,l=vc({mode:"visible",children:l.children},T),h=Os(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,La(r,t.child,null,a),l=r.child,l.memoizedState=md(a),l.childLanes=pd(t,v,a),r.memoizedState=dd,r=h);else if(wr(r),Zd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),r=yd(t,r,a)}else if(kt||Jo(t,r,a,!1),v=(a&t.childLanes)!==0,kt||v){if(v=it,v!==null&&(l=a&-a,l=(l&42)!==0?1:cr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ra(t,l),An(v,t,l),t_;T.data==="$?"||Pd(),r=yd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,dt=Kn(T.nextSibling),sn=r,Fe=!0,Vs=null,mi=!1,t!==null&&(Mn[Vn++]=Bi,Mn[Vn++]=qi,Mn[Vn++]=xs,Bi=t.id,qi=t.overflow,xs=r),r=gd(r,l.children),r.flags|=4096);return r}return h?(Ar(),h=l.fallback,T=r.mode,I=t.child,q=I.sibling,l=zi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=zi(q,h):(h=Os(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=md(a):(I=T.cachePool,I!==null?(q=Dt._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Xg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=pd(t,v,a),r.memoizedState=dd,l):(wr(r),a=t.child,t=a.sibling,a=zi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function gd(t,r){return r=vc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function vc(t,r){return t=_n(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function yd(t,r,a){return La(r,t.child,null,a),t=gd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function h_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Pf(t.return,r,a)}function _d(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function f_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,r,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h_(t,a,r);else if(t.tag===19)h_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Ot,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&pc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),_d(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&pc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_d(r,!0,a,null,d);break;case"together":_d(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $i(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Cr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Jo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=zi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=zi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function vd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function Sb(t,r,a){switch(r.tag){case 3:Ee(r,r.stateNode.containerInfo),yr(r,Dt,t.memoizedState.cache),Wo();break;case 27:case 5:tt(r);break;case 4:Ee(r,r.stateNode.containerInfo);break;case 10:yr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(wr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?c_(t,r,a):(wr(r),t=$i(t,r,a),t!==null?t.sibling:null);wr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Jo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return f_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Ot,Ot.current),l)break;return null;case 22:case 23:return r.lanes=0,s_(t,r,a);case 24:yr(r,Dt,t.memoizedState.cache)}return $i(t,r,a)}function d_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!vd(t,a)&&(r.flags&128)===0)return kt=!1,Sb(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,Fe&&(r.flags&1048576)!==0&&Hg(r,Zu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Cf(l)?(t=zs(l,t),r.tag=1,r=l_(null,r,l,t,a)):(r.tag=0,r=fd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===pe){r.tag=11,r=n_(null,r,l,t,a);break e}else if(h===O){r.tag=14,r=i_(null,r,l,t,a);break e}}throw r=Et(l)||l,Error(s(306,r,""))}}return r;case 0:return fd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=zs(l,r.pendingProps),l_(t,r,l,h,a);case 3:e:{if(Ee(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,qf(t,r),al(r,l,null,a);var v=r.memoizedState;if(l=v.cache,yr(r,Dt,l),l!==d.cache&&kf(r,[Dt],a,!0),sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=u_(t,r,l,a);break e}else if(l!==h){h=On(Error(s(424)),r),Zo(h),r=u_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Kn(t.firstChild),sn=r,Fe=!0,Vs=null,mi=!0,a=Gy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===h){r=$i(t,r,a);break e}qt(t,r,l,a)}r=r.child}return r;case 26:return _c(t,r),t===null?(a=yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,t=r.pendingProps,l=Mc(oe.current).createElement(a),l[It]=r,l[Tt]=t,Ft(l,a,t),pt(l),r.stateNode=l):r.memoizedState=yv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return tt(r),t===null&&Fe&&(l=r.stateNode=mv(r.type,r.pendingProps,oe.current),sn=r,mi=!0,h=dt,xr(r.type)?(Jd=h,dt=Kn(l.firstChild)):dt=h),qt(t,r,r.pendingProps.children,a),_c(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Fe&&((h=l=dt)&&(l=Jb(l,r.type,r.pendingProps,mi),l!==null?(r.stateNode=l,sn=r,dt=Kn(l.firstChild),mi=!1,h=!0):h=!1),h||Ps(r)),tt(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Yd(h,d)?l=null:v!==null&&Yd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Qf(t,r,yb,null,null,a),Cl._currentValue=h),_c(t,r),qt(t,r,l,a),r.child;case 6:return t===null&&Fe&&((t=a=dt)&&(a=eS(a,r.pendingProps,mi),a!==null?(r.stateNode=a,sn=r,dt=null,t=!0):t=!1),t||Ps(r)),null;case 13:return c_(t,r,a);case 4:return Ee(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=La(r,null,l,a):qt(t,r,l,a),r.child;case 11:return n_(t,r,r.type,r.pendingProps,a);case 7:return qt(t,r,r.pendingProps,a),r.child;case 8:return qt(t,r,r.pendingProps.children,a),r.child;case 12:return qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,yr(r,r.type,l.value),qt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ls(r),h=Yt(h),l=l(h),r.flags|=1,qt(t,r,l,a),r.child;case 14:return i_(t,r,r.type,r.pendingProps,a);case 15:return r_(t,r,r.type,r.pendingProps,a);case 19:return f_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=vc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=zi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return s_(t,r,a);case 24:return Ls(r),l=Yt(Dt),t===null?(h=jf(),h===null&&(h=it,d=Lf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Bf(r),yr(r,Dt,h)):((t.lanes&a)!==0&&(qf(t,r),al(r,null,null,a),sl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),yr(r,Dt,l)):(l=d.cache,yr(r,Dt,l),l!==h.cache&&kf(r,[Dt],a,!0))),qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Qi(t){t.flags|=4}function m_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!wv(r)){if(r=Pn.current,r!==null&&((ze&4194048)===ze?pi!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==pi))throw il=zf,Wg;t.flags|=8192}}function Ec(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Do():536870912,t.lanes|=r,Ba|=r)}function dl(t,r){if(!Fe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Rb(t,r,a){var l=r.pendingProps;switch(xf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Fi(Dt),Pe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xo(r)?Qi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kg())),ut(r),null;case 26:return a=r.memoizedState,t===null?(Qi(r),a!==null?(ut(r),m_(r,a)):(ut(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Qi(r),ut(r),m_(r,a)):(ut(r),r.flags&=-16777217):(t.memoizedProps!==l&&Qi(r),ut(r),r.flags&=-16777217),null;case 27:an(r),a=oe.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}t=_e.current,Xo(r)?Fg(r):(t=mv(h,l,a),r.stateNode=t,Qi(r))}return ut(r),null;case 5:if(an(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Qi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(t=_e.current,Xo(r))Fg(r);else{switch(h=Mc(oe.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=r,t[Tt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Qi(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Qi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=oe.current,Xo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ov(t.nodeValue,a)),t||Ps(r)}else t=Mc(t).createTextNode(l),t[It]=r,r.stateNode=t}return ut(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=r}else Wo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),h=!1}else h=Kg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Ki(r),r):(Ki(r),null)}if(Ki(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Ec(r,r.updateQueue),ut(r),null;case 4:return Pe(),t===null&&Fd(r.stateNode.containerInfo),ut(r),null;case 10:return Fi(r.type),ut(r),null;case 19:if(ue(Ot),h=r.memoizedState,h===null)return ut(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=pc(t),d!==null){for(r.flags|=128,dl(h,!1),t=d.updateQueue,r.updateQueue=t,Ec(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)qg(a,t),a=a.sibling;return re(Ot,Ot.current&1|2),r.child}t=t.sibling}h.tail!==null&&$e()>Ac&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304)}else{if(!l)if(t=pc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Ec(r,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ut(r),null}else 2*$e()-h.renderingStartTime>Ac&&a!==536870912&&(r.flags|=128,l=!0,dl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=$e(),r.sibling=null,t=Ot.current,re(Ot,l?t&1|2:t&1),r):(ut(r),null);case 22:case 23:return Ki(r),Kf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Ec(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ue(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Fi(Dt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Ib(t,r){switch(xf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Fi(Dt),Pe(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return an(r),null;case 13:if(Ki(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Wo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(Ot),null;case 4:return Pe(),null;case 10:return Fi(r.type),null;case 22:case 23:return Ki(r),Kf(),t!==null&&ue(Us),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Fi(Dt),null;case 25:return null;default:return null}}function p_(t,r){switch(xf(r),r.tag){case 3:Fi(Dt),Pe();break;case 26:case 27:case 5:an(r);break;case 4:Pe();break;case 13:Ki(r);break;case 19:ue(Ot);break;case 10:Fi(r.type);break;case 22:case 23:Ki(r),Kf(),t!==null&&ue(Us);break;case 24:Fi(Dt)}}function ml(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){nt(r,r.return,T)}}function br(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,q=T;try{q()}catch(W){nt(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){nt(r,r.return,W)}}function g_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{iy(r,a)}catch(l){nt(t,t.return,l)}}}function y_(t,r,a){a.props=zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){nt(t,r,l)}}function pl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){nt(t,r,h)}}function gi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){nt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){nt(t,r,h)}else a.current=null}function __(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){nt(t,t.return,h)}}function Ed(t,r,a){try{var l=t.stateNode;Qb(l,t.type,a,r),l[Tt]=r}catch(h){nt(t,t.return,h)}}function v_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xr(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=xc));else if(l!==4&&(l===27&&xr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(wd(t,r,a),t=t.sibling;t!==null;)wd(t,r,a),t=t.sibling}function Tc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tc(t,r,a),t=t.sibling;t!==null;)Tc(t,r,a),t=t.sibling}function E_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ft(r,l,a),r[It]=t,r[Tt]=a}catch(d){nt(t,t.return,d)}}var Yi=!1,yt=!1,Ad=!1,T_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Cb(t,r){if(t=t.containerInfo,$d=jc,t=xg(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,q=0,W=0,J=t,F=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)F=J,J=G;for(;;){if(J===t)break t;if(F===a&&++q===h&&(T=v),F===d&&++W===l&&(I=v),(G=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=G}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:t,selectionRange:a},jc=!1,Lt=r;Lt!==null;)if(r=Lt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Lt=t;else for(;Lt!==null;){switch(r=Lt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var be=zs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(be,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){nt(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Lt=t;break}Lt=r.return}}function w_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&ml(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){nt(a,a.return,v)}else{var h=zs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){nt(a,a.return,v)}}l&64&&g_(a),l&512&&pl(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{iy(t,r)}catch(v){nt(a,a.return,v)}}break;case 27:r===null&&l&4&&E_(a);case 26:case 5:Sr(t,a),r===null&&l&4&&__(a),l&512&&pl(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),l&4&&S_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Lb.bind(null,a),tS(t,a))));break;case 22:if(l=a.memoizedState!==null||Yi,!l){r=r!==null&&r.memoizedState!==null||yt,h=Yi;var d=yt;Yi=l,(yt=r)&&!d?Rr(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),Yi=h,yt=d}break;case 30:break;default:Sr(t,a)}}function A_(t){var r=t.alternate;r!==null&&(t.alternate=null,A_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&dr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function Xi(t,r,a){for(a=a.child;a!==null;)b_(t,r,a),a=a.sibling}function b_(t,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||gi(a,r),Xi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||gi(a,r);var l=ot,h=ln;xr(a.type)&&(ot=a.stateNode,ln=!1),Xi(t,r,a),bl(a.stateNode),ot=l,ln=h;break;case 5:yt||gi(a,r);case 6:if(l=ot,h=ln,ot=null,Xi(t,r,a),ot=l,ln=h,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){nt(a,r,d)}else try{ot.removeChild(a.stateNode)}catch(d){nt(a,r,d)}break;case 18:ot!==null&&(ln?(t=ot,fv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),xl(t)):fv(ot,a.stateNode));break;case 4:l=ot,h=ln,ot=a.stateNode.containerInfo,ln=!0,Xi(t,r,a),ot=l,ln=h;break;case 0:case 11:case 14:case 15:yt||br(2,a,r),yt||br(4,a,r),Xi(t,r,a);break;case 1:yt||(gi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&y_(a,r,l)),Xi(t,r,a);break;case 21:Xi(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Xi(t,r,a),yt=l;break;default:Xi(t,r,a)}}function S_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(a){nt(r,r.return,a)}}function Nb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new T_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new T_),r;default:throw Error(s(435,t.tag))}}function bd(t,r){var a=Nb(t);r.forEach(function(l){var h=Ub.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function vn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(xr(T.type)){ot=T.stateNode,ln=!1;break e}break;case 5:ot=T.stateNode,ln=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(ot===null)throw Error(s(160));b_(d,v,h),ot=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)R_(r,t),r=r.sibling}var Gn=null;function R_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(r,t),En(t),l&4&&(br(3,t,t.return),ml(3,t),br(5,t,t.return));break;case 1:vn(r,t),En(t),l&512&&(yt||a===null||gi(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(vn(r,t),En(t),l&512&&(yt||a===null||gi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ps]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[It]=t,pt(d),l=d;break e;case"link":var v=Ev("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Ev("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,pt(d),l=d}t.stateNode=l}else Tv(h,t.type,t.stateNode);else t.stateNode=vv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Tv(h,t.type,t.stateNode):vv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:vn(r,t),En(t),l&512&&(yt||a===null||gi(a,a.return)),a!==null&&l&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(vn(r,t),En(t),l&512&&(yt||a===null||gi(a,a.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(G){nt(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ad=!0);break;case 6:if(vn(r,t),En(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){nt(t,t.return,G)}}break;case 3:if(kc=null,h=Gn,Gn=Vc(r.containerInfo),vn(r,t),Gn=h,En(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(r.containerInfo)}catch(G){nt(t,t.return,G)}Ad&&(Ad=!1,I_(t));break;case 4:l=Gn,Gn=Vc(t.stateNode.containerInfo),vn(r,t),En(t),Gn=l;break;case 12:vn(r,t),En(t);break;case 13:vn(r,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dd=$e()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Yi,W=yt;if(Yi=q||h,yt=W||I,vn(r,t),yt=W,Yi=q,En(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Yi||yt||Bs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){nt(I,I.return,G)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(G){nt(I,I.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bd(t,a))));break;case 19:vn(r,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bd(t,l)));break;case 30:break;case 21:break;default:vn(r,t),En(t)}}function En(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(v_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Td(t);Tc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(In(v,""),a.flags&=-33);var T=Td(t);Tc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=Td(t);wd(t,q,I);break;default:throw Error(s(161))}}catch(W){nt(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function I_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;I_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Sr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)w_(t,r.alternate,r),r=r.sibling}function Bs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:br(4,r,r.return),Bs(r);break;case 1:gi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&y_(r,r.return,a),Bs(r);break;case 27:bl(r.stateNode);case 26:case 5:gi(r,r.return),Bs(r);break;case 22:r.memoizedState===null&&Bs(r);break;case 30:Bs(r);break;default:Bs(r)}t=t.sibling}}function Rr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),ml(4,d);break;case 1:if(Rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){nt(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ny(I[h],T)}catch(q){nt(l,l.return,q)}}a&&v&64&&g_(d),pl(d,d.return);break;case 27:E_(d);case 26:case 5:Rr(h,d,a),a&&l===null&&v&4&&__(d),pl(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&S_(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),pl(d,d.return);break;case 30:break;default:Rr(h,d,a)}r=r.sibling}}function Sd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function Rd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t))}function yi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)C_(t,r,a,l),r=r.sibling}function C_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:yi(t,r,a,l),h&2048&&ml(9,r);break;case 1:yi(t,r,a,l);break;case 3:yi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){yi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){nt(r,r.return,I)}}else yi(t,r,a,l);break;case 13:yi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?yi(t,r,a,l):gl(t,r):d._visibility&2?yi(t,r,a,l):(d._visibility|=2,Ua(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Sd(v,r);break;case 24:yi(t,r,a,l),h&2048&&Rd(r.alternate,r);break;default:yi(t,r,a,l)}}function Ua(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Ua(d,v,T,I,h),ml(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Ua(d,v,T,I,h):gl(d,v):(W._visibility|=2,Ua(d,v,T,I,h)),h&&q&2048&&Sd(v.alternate,v);break;case 24:Ua(d,v,T,I,h),h&&q&2048&&Rd(v.alternate,v);break;default:Ua(d,v,T,I,h)}r=r.sibling}}function gl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&Sd(l.alternate,l);break;case 24:gl(a,l),h&2048&&Rd(l.alternate,l);break;default:gl(a,l)}r=r.sibling}}var yl=8192;function ja(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)N_(t),t=t.sibling}function N_(t){switch(t.tag){case 26:ja(t),t.flags&yl&&t.memoizedState!==null&&mS(Gn,t.memoizedState,t.memoizedProps);break;case 5:ja(t);break;case 3:case 4:var r=Gn;Gn=Vc(t.stateNode.containerInfo),ja(t),Gn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=yl,yl=16777216,ja(t),yl=r):ja(t));break;default:ja(t)}}function D_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function _l(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,x_(l,t)}D_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)O_(t),t=t.sibling}function O_(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&br(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,wc(t)):_l(t);break;default:_l(t)}}function wc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,x_(l,t)}D_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:br(8,r,r.return),wc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,wc(r));break;default:wc(r)}t=t.sibling}}function x_(t,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:br(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(A_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}var Db={getCacheForType:function(t){var r=Yt(Dt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Ob=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Me=null,ze=0,Xe=0,Tn=null,Ir=!1,za=!1,Id=!1,Wi=0,mt=0,Cr=0,qs=0,Cd=0,kn=0,Ba=0,vl=null,un=null,Nd=!1,Dd=0,Ac=1/0,bc=null,Nr=null,Ht=0,Dr=null,qa=null,Ha=0,Od=0,xd=null,M_=null,El=0,Md=null;function wn(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if(Y.T!==null){var t=Da;return t!==0?t:zd()}return hr()}function V_(){kn===0&&(kn=(ze&536870912)===0||Fe?No():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),kn}function An(t,r,a){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Or(t,ze,kn,!1)),Ni(t,a),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(qs|=a),mt===4&&Or(t,ze,kn,!1)),_i(t))}function P_(t,r,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ms(t,r),h=l?Vb(t,r):kd(t,r,!0),d=l;do{if(h===0){za&&!l&&Or(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!xb(a)){h=kd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=vl;var I=T.current.memoizedState.isDehydrated;if(I&&(Fa(T,v).flags|=256),v=kd(T,v,!1),v!==2){if(Id&&!I){T.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),Or(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Or(l,r,kn,!Ir);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Dd+300-$e(),10<h)){if(Or(l,r,kn,!Ir),oa(l,0,!0)!==0)break e;l.timeoutHandle=cv(k_.bind(null,l,a,un,bc,Nd,r,kn,qs,Ba,Ir,d,2,-0,0),h);break e}k_(l,a,un,bc,Nd,r,kn,qs,Ba,Ir,d,0,-0,0)}}break}while(!0);_i(t)}function k_(t,r,a,l,h,d,v,T,I,q,W,J,F,G){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:dS},N_(r),J=pS(),J!==null)){t.cancelPendingCommit=J(H_.bind(null,t,r,d,a,l,h,v,T,I,W,1,F,G)),Or(t,d,v,!q);return}H_(t,r,d,a,l,h,v,T,I)}function xb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Or(t,r,a,l){r&=~Cd,r&=~qs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Qt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ii(t,a,r)}function Sc(){return(Ye&6)===0?(Tl(0),!1):!0}function Vd(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,Hi=ks=null,Wf(t),ka=null,hl=0,t=Me;for(;t!==null;)p_(t.alternate,t),t=t.return;Me=null}}function Fa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Xb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vd(),it=t,Me=a=zi(t.current,null),ze=r,Xe=0,Tn=null,Ir=!1,za=ms(t,r),Id=!1,Ba=kn=Cd=qs=Cr=mt=0,un=vl=null,Nd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Qt(l),d=1<<h;r|=t[h],l&=~d}return Wi=r,$u(),a}function L_(t,r){De=null,Y.H=fc,r===nl||r===nc?(r=ey(),Xe=3):r===Wg?(r=ey(),Xe=4):Xe=r===t_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Tn=r,Me===null&&(mt=1,yc(t,On(r,t.current)))}function U_(){var t=Y.H;return Y.H=fc,t===null?fc:t}function j_(){var t=Y.A;return Y.A=Db,t}function Pd(){mt=4,Ir||(ze&4194048)!==ze&&Pn.current!==null||(za=!0),(Cr&134217727)===0&&(qs&134217727)===0||it===null||Or(it,ze,kn,!1)}function kd(t,r,a){var l=Ye;Ye|=2;var h=U_(),d=j_();(it!==t||ze!==r)&&(bc=null,Fa(t,r)),r=!1;var v=mt;e:do try{if(Xe!==0&&Me!==null){var T=Me,I=Tn;switch(Xe){case 8:Vd(),v=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(r=!0);var q=Xe;if(Xe=0,Tn=null,Ga(t,T,I,q),a&&za){v=0;break e}break;default:q=Xe,Xe=0,Tn=null,Ga(t,T,I,q)}}Mb(),v=mt;break}catch(W){L_(t,W)}while(!0);return r&&t.shellSuspendCounter++,Hi=ks=null,Ye=l,Y.H=h,Y.A=d,Me===null&&(it=null,ze=0,$u()),v}function Mb(){for(;Me!==null;)z_(Me)}function Vb(t,r){var a=Ye;Ye|=2;var l=U_(),h=j_();it!==t||ze!==r?(bc=null,Ac=$e()+500,Fa(t,r)):za=ms(t,r);e:do try{if(Xe!==0&&Me!==null){r=Me;var d=Tn;t:switch(Xe){case 1:Xe=0,Tn=null,Ga(t,r,d,1);break;case 2:case 9:if(Zg(d)){Xe=0,Tn=null,B_(r);break}r=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),_i(t)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Zg(d)?(Xe=0,Tn=null,B_(r)):(Xe=0,Tn=null,Ga(t,r,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(!v||wv(v)){Xe=0,Tn=null;var I=T.sibling;if(I!==null)Me=I;else{var q=T.return;q!==null?(Me=q,Rc(q)):Me=null}break t}}Xe=0,Tn=null,Ga(t,r,d,5);break;case 6:Xe=0,Tn=null,Ga(t,r,d,6);break;case 8:Vd(),mt=6;break e;default:throw Error(s(462))}}Pb();break}catch(W){L_(t,W)}while(!0);return Hi=ks=null,Y.H=l,Y.A=h,Ye=a,Me!==null?0:(it=null,ze=0,$u(),mt)}function Pb(){for(;Me!==null&&!ur();)z_(Me)}function z_(t){var r=d_(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,r===null?Rc(t):Me=r}function B_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=o_(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=o_(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Wf(r);default:p_(a,r),r=Me=qg(r,Wi),r=d_(a,r,Wi)}t.memoizedProps=t.pendingProps,r===null?Rc(t):Me=r}function Ga(t,r,a,l){Hi=ks=null,Wf(r),ka=null,hl=0;var h=r.return;try{if(bb(t,h,r,a,ze)){mt=1,yc(t,On(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;mt=1,yc(t,On(a,t.current)),Me=null;return}r.flags&32768?(Fe||l===1?t=!0:za||(ze&536870912)!==0?t=!1:(Ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),q_(r,t)):Rc(r)}function Rc(t){var r=t;do{if((r.flags&32768)!==0){q_(r,Ir);return}t=r.return;var a=Rb(r.alternate,r,Wi);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=t}while(r!==null);mt===0&&(mt=5)}function q_(t,r){do{var a=Ib(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);mt=6,Me=null}function H_(t,r,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do Ic();while(Ht!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Rf,Oo(t,a,d,v,T,I),t===it&&(Me=it=null,ze=0),qa=r,Dr=t,Ha=a,Od=d,xd=h,M_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jb(cs,function(){return Q_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=le.p,le.p=2,v=Ye,Ye|=4;try{Cb(t,r,a)}finally{Ye=v,le.p=h,Y.T=l}}Ht=1,F_(),G_(),K_()}}function F_(){if(Ht===1){Ht=0;var t=Dr,r=qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ye;Ye|=4;try{R_(r,t);var d=Qd,v=xg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Og(T.ownerDocument.documentElement,T)){if(I!==null&&Tf(T)){var q=I.start,W=I.end;if(W===void 0&&(W=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(W,T.value.length);else{var J=T.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var G=F.getSelection(),be=T.textContent.length,Te=Math.min(I.start,be),et=I.end===void 0?Te:Math.min(I.end,be);!G.extend&&Te>et&&(v=et,et=Te,Te=v);var U=Dg(T,Te),P=Dg(T,et);if(U&&P&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var z=J.createRange();z.setStart(U.node,U.offset),G.removeAllRanges(),Te>et?(G.addRange(z),G.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),G.addRange(z))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}jc=!!$d,Qd=$d=null}finally{Ye=h,le.p=l,Y.T=a}}t.current=r,Ht=2}}function G_(){if(Ht===2){Ht=0;var t=Dr,r=qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=le.p;le.p=2;var h=Ye;Ye|=4;try{w_(t,r.alternate,r)}finally{Ye=h,le.p=l,Y.T=a}}Ht=3}}function K_(){if(Ht===4||Ht===3){Ht=0,ht();var t=Dr,r=qa,a=Ha,l=M_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,qa=Dr=null,$_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Nr=null),la(a),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=le.p,le.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=r,le.p=h}}(Ha&3)!==0&&Ic(),_i(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Md?El++:(El=0,Md=t):El=0,Tl(0)}}function $_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,el(r)))}function Ic(t){return F_(),G_(),K_(),Q_()}function Q_(){if(Ht!==5)return!1;var t=Dr,r=Od;Od=0;var a=la(Ha),l=Y.T,h=le.p;try{le.p=32>a?32:a,Y.T=null,a=xd,xd=null;var d=Dr,v=Ha;if(Ht=0,qa=Dr=null,Ha=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,O_(d.current),C_(d,d.current,v,a),Ye=T,Tl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{le.p=h,Y.T=l,$_(t,r)}}function Y_(t,r,a){r=On(a,r),r=hd(t.stateNode,r,2),t=Er(t,r,2),t!==null&&(Ni(t,2),_i(t))}function nt(t,r,a){if(t.tag===3)Y_(t,t,a);else for(;r!==null;){if(r.tag===3){Y_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){t=On(a,t),a=Jy(2),l=Er(r,a,2),l!==null&&(e_(a,l,r,t),Ni(l,2),_i(l));break}}r=r.return}}function Ld(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ob;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Id=!0,h.add(a),t=kb.bind(null,t,r,a),r.then(t,t))}function kb(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(ze&a)===a&&(mt===4||mt===3&&(ze&62914560)===ze&&300>$e()-Dd?(Ye&2)===0&&Fa(t,0):Cd|=a,Ba===ze&&(Ba=0)),_i(t)}function X_(t,r){r===0&&(r=Do()),t=Ra(t,r),t!==null&&(Ni(t,r),_i(t))}function Lb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),X_(t,a)}function Ub(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),X_(t,a)}function jb(t,r){return ti(t,r)}var Cc=null,Ka=null,Ud=!1,Nc=!1,jd=!1,Hs=0;function _i(t){t!==Ka&&t.next===null&&(Ka===null?Cc=Ka=t:Ka=Ka.next=t),Nc=!0,Ud||(Ud=!0,Bb())}function Tl(t,r){if(!jd&&Nc){jd=!0;do for(var a=!1,l=Cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Qt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ev(l,d))}else d=ze,d=oa(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ms(l,d)||(a=!0,ev(l,d));l=l.next}while(a);jd=!1}}function zb(){W_()}function W_(){Nc=Ud=!1;var t=0;Hs!==0&&(Yb()&&(t=Hs),Hs=0);for(var r=$e(),a=null,l=Cc;l!==null;){var h=l.next,d=Z_(l,r);d===0?(l.next=null,a===null?Cc=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(Nc=!0)),l=h}Tl(t)}function Z_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Qt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Co(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=it,a=ze,a=oa(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ni(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ms(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ni(l),la(a)){case 2:case 8:a=sa;break;case 32:a=cs;break;case 268435456:a=aa;break;default:a=cs}return l=J_.bind(null,t),a=ti(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ni(l),t.callbackPriority=2,t.callbackNode=null,2}function J_(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ic()&&t.callbackNode!==a)return null;var l=ze;return l=oa(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(P_(t,l,r),Z_(t,$e()),t.callbackNode!=null&&t.callbackNode===a?J_.bind(null,t):null)}function ev(t,r){if(Ic())return null;P_(t,r,!0)}function Bb(){Wb(function(){(Ye&6)!==0?ti(Ro,zb):W_()})}function zd(){return Hs===0&&(Hs=No()),Hs}function tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function nv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function qb(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=tv((h[Tt]||null).action),v=l.submitter;v&&(r=(r=v[Tt]||null)?tv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new pa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var I=v?nv(h,v):new FormData(h);ad(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?nv(h,v):new FormData(h),ad(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Bd=0;Bd<Sf.length;Bd++){var qd=Sf[Bd],Hb=qd.toLowerCase(),Fb=qd[0].toUpperCase()+qd.slice(1);Fn(Hb,"on"+Fb)}Fn(Pg,"onAnimationEnd"),Fn(kg,"onAnimationIteration"),Fn(Lg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(ob,"onTransitionRun"),Fn(lb,"onTransitionStart"),Fn(ub,"onTransitionCancel"),Fn(Ug,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function iv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(W){gc(W)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch(W){gc(W)}h.currentTarget=null,d=I}}}}function Ve(t,r){var a=r[Mo];a===void 0&&(a=r[Mo]=new Set);var l=t+"__bubble";a.has(l)||(rv(r,t,2,!1),a.add(l))}function Hd(t,r,a){var l=0;r&&(l|=4),rv(a,t,l,r)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Dc]){t[Dc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(Gb.has(a)||Hd(a,!1,t),Hd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Dc]||(r[Dc]=!0,Hd("selectionchange",!1,r))}}function rv(t,r,a,l){switch(Cv(r)){case 2:var h=_S;break;case 8:h=vS;break;default:h=rm}a=h.bind(null,r,a,t),h=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Gd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Di(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}xu(function(){var q=d,W=Cn(a),J=[];e:{var F=jg.get(t);if(F!==void 0){var G=pa,be=t;switch(t){case"keypress":if(ui(a)===0)break e;case"keydown":case"keyup":G=Ta;break;case"focusin":be="focus",G=_a;break;case"focusout":be="blur",G=_a;break;case"beforeblur":case"afterblur":G=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=yf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=zu;break;case Pg:case kg:case Lg:G=va;break;case Ug:G=qu;break;case"scroll":case"scrollend":G=Mu;break;case"wheel":G=wa;break;case"copy":case"cut":case"paste":G=Ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Ko;break;case"toggle":case"beforetoggle":G=Fu}var Te=(r&4)!==0,et=!Te&&(t==="scroll"||t==="scrollend"),U=Te?F!==null?F+"Capture":null:F;Te=[];for(var P=q,z;P!==null;){var Z=P;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||U===null||(Z=ws(P,U),Z!=null&&Te.push(Al(P,Z,z))),et)break;P=P.return}0<Te.length&&(F=new G(F,be,null,a,W),J.push({event:F,listeners:Te}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==Vi&&(be=a.relatedTarget||a.fromElement)&&(Di(be)||be[Rn]))break e;if((G||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,G?(be=a.relatedTarget||a.toElement,G=q,be=be?Di(be):null,be!==null&&(et=u(be),Te=be.tag,be!==et||Te!==5&&Te!==27&&Te!==6)&&(be=null)):(G=null,be=q),G!==be)){if(Te=Dn,Z="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Ko,Z="onPointerLeave",U="onPointerEnter",P="pointer"),et=G==null?F:si(G),z=be==null?F:si(be),F=new Te(Z,P+"leave",G,a,W),F.target=et,F.relatedTarget=z,Z=null,Di(W)===q&&(Te=new Te(U,P+"enter",be,a,W),Te.target=z,Te.relatedTarget=et,Z=Te),et=Z,G&&be)t:{for(Te=G,U=be,P=0,z=Te;z;z=$a(z))P++;for(z=0,Z=U;Z;Z=$a(Z))z++;for(;0<P-z;)Te=$a(Te),P--;for(;0<z-P;)U=$a(U),z--;for(;P--;){if(Te===U||U!==null&&Te===U.alternate)break t;Te=$a(Te),U=$a(U)}Te=null}else Te=null;G!==null&&sv(J,F,G,Te,!1),be!==null&&et!==null&&sv(J,et,be,Te,!0)}}e:{if(F=q?si(q):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var me=bg;else if(Nt(F))if(Sg)me=rb;else{me=nb;var xe=tb}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&jo(q.elementType)&&(me=bg):me=ib;if(me&&(me=me(t,q))){ji(J,me,a,W);break e}xe&&xe(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&pr(F,"number",F.value)}switch(xe=q?si(q):window,t){case"focusin":(Nt(xe)||xe.contentEditable==="true")&&(Aa=xe,wf=q,Yo=null);break;case"focusout":Yo=wf=Aa=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Mg(J,a,W);break;case"selectionchange":if(ab)break;case"keydown":case"keyup":Mg(J,a,W)}var ye;if(fi)e:{switch(t){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ue?K(t,a)&&(we="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(_&&a.locale!=="ko"&&(Ue||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ue&&(ye=Bo()):(li=W,gr="value"in li?li.value:li.textContent,Ue=!0)),xe=Oc(q,we),0<xe.length&&(we=new Fo(we,t,null,a,W),J.push({event:we,listeners:xe}),ye?we.data=ye:(ye=ae(a),ye!==null&&(we.data=ye)))),(ye=y?Ct(t,a):je(t,a))&&(we=Oc(q,"onBeforeInput"),0<we.length&&(xe=new Fo("onBeforeInput","beforeinput",null,a,W),J.push({event:xe,listeners:we}),xe.data=ye)),qb(J,t,q,a,W)}iv(J,r)})}function Al(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Oc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ws(t,a),h!=null&&l.unshift(Al(t,h,d)),h=ws(t,r),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sv(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,h?(q=ws(a,d),q!=null&&v.unshift(Al(a,q,I))):h||(q=ws(a,d),q!=null&&v.push(Al(a,q,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Kb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function av(t){return(typeof t=="string"?t:""+t).replace(Kb,`
`).replace($b,"")}function ov(t,r){return r=av(r),av(t)===r}function xc(){}function Je(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(t,""+l);break;case"className":ai(t,"class",l);break;case"tabIndex":ai(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(t,a,l);break;case"style":Uo(t,l,d);break;case"data":if(r!=="object"){ai(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",h.name,h,null),Je(t,r,"formEncType",h.formEncType,h,null),Je(t,r,"formMethod",h.formMethod,h,null),Je(t,r,"formTarget",h.formTarget,h,null)):(Je(t,r,"encType",h.encType,h,null),Je(t,r,"method",h.method,h,null),Je(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),mr(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pf.get(a)||a,mr(t,a,l))}}function Kd(t,r,a,l,h,d){switch(a){case"style":Uo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):mr(t,a,l)}}}function Ft(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,d,v,a,null)}}h&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=v=h=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":q=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Je(t,r,l,W,a,null)}}vs(t,d,T,I,q,v,h,!1),da(t);return;case"select":Ve("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Je(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Mi(t,!!l,r,!1):a!=null&&Mi(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,r,v,T,a,null)}Es(t,l,h,d),da(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,r,I,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Ve(wl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,q,l,a,null)}return;default:if(jo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Kd(t,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,r,T,l,a,null))}function Qb(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,q=null,W=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(G)||Je(t,r,G,null,l,J)}}for(var F in l){var G=l[F];if(J=a[F],l.hasOwnProperty(F)&&(G!=null||J!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":W=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==J&&Je(t,r,F,G,l,J)}}gn(t,v,T,I,q,W,d,h);return;case"select":G=v=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||Je(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Je(t,r,h,d,l,I)}r=T,a=v,l=G,F!=null?Mi(t,!!a,F,!1):!!l!=!!a&&(r!=null?Mi(t,!!a,r,!0):Mi(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,r,v,h,l,d)}We(t,F,G);return;case"option":for(var be in a)if(F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:Je(t,r,be,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(t,r,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te)&&Je(t,r,Te,null,l,F);for(q in l)if(F=l[q],G=a[q],l.hasOwnProperty(q)&&F!==G&&(F!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Je(t,r,q,F,l,G)}return;default:if(jo(r)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!l.hasOwnProperty(et)&&Kd(t,r,et,void 0,l,F);for(W in l)F=l[W],G=a[W],!l.hasOwnProperty(W)||F===G||F===void 0&&G===void 0||Kd(t,r,W,F,l,G);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Je(t,r,U,null,l,F);for(J in l)F=l[J],G=a[J],!l.hasOwnProperty(J)||F===G||F==null&&G==null||Je(t,r,J,F,l,G)}var $d=null,Qd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function lv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Yd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xd=null;function Yb(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,Xb=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,Wb=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(Zb)}:cv;function Zb(t){setTimeout(function(){throw t})}function xr(t){return t==="head"}function fv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&bl(v.documentElement),a&2&&bl(v.body),a&4)for(a=v.head,bl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ps]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),xl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);xl(r)}function Wd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),dr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Jb(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ps])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function eS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function tS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Kn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Jd=null;function dv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function mv(t,r,a){switch(r=Mc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function bl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);dr(t)}var Ln=new Map,pv=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=le.d;le.d={f:nS,r:iS,D:rS,C:sS,L:aS,m:oS,X:uS,S:lS,M:cS};function nS(){var t=Zi.f(),r=Sc();return t||r}function iS(t){var r=ri(t);r!==null&&r.tag===5&&r.type==="form"?Py(r):Zi.r(t)}var Qa=typeof document>"u"?null:document;function gv(t,r,a){var l=Qa;if(l&&typeof r=="string"&&r){var h=wt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),pv.has(h)||(pv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ft(r,"link",t),pt(r),l.head.appendChild(r)))}}function rS(t){Zi.D(t),gv("dns-prefetch",t,null)}function sS(t,r){Zi.C(t,r),gv("preconnect",t,r)}function aS(t,r,a){Zi.L(t,r,a);var l=Qa;if(l&&t&&r){var h='link[rel="preload"][as="'+wt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+wt(a.imageSizes)+'"]')):h+='[href="'+wt(t)+'"]';var d=h;switch(r){case"style":d=Ya(t);break;case"script":d=Xa(t)}Ln.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ln.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Sl(d))||r==="script"&&l.querySelector(Rl(d))||(r=l.createElement("link"),Ft(r,"link",t),pt(r),l.head.appendChild(r)))}}function oS(t,r){Zi.m(t,r);var a=Qa;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+wt(l)+'"][href="'+wt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Ln.has(d)&&(t=E({rel:"modulepreload",href:t},r),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),Ft(l,"link",t),pt(l),a.head.appendChild(l)}}}function lS(t,r,a){Zi.S(t,r,a);var l=Qa;if(l&&t){var h=tn(l).hoistableStyles,d=Ya(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Sl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ln.get(d))&&em(t,a);var I=v=l.createElement("link");pt(I),Ft(I,"link",t),I._p=new Promise(function(q,W){I.onload=q,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function uS(t,r){Zi.X(t,r);var a=Qa;if(a&&t){var l=tn(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=E({src:t,async:!0},r),(r=Ln.get(h))&&tm(t,r),d=a.createElement("script"),pt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cS(t,r){Zi.M(t,r);var a=Qa;if(a&&t){var l=tn(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Ln.get(h))&&tm(t,r),d=a.createElement("script"),pt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yv(t,r,a,l){var h=(h=oe.current)?Vc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ya(a.href),a=tn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var d=tn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Sl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||hS(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xa(a),a=tn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ya(t){return'href="'+wt(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function _v(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function hS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",a),pt(r),t.head.appendChild(r))}function Xa(t){return'[src="'+wt(t)+'"]'}function Rl(t){return"script[async]"+t}function vv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+wt(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),Ft(l,"style",h),Pc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ya(a.href);var d=t.querySelector(Sl(h));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;l=_v(a),(h=Ln.get(h))&&em(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Ft(d,"link",l),r.state.loading|=4,Pc(d,a.precedence,t),r.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(Rl(d)))?(r.instance=h,pt(h),h):(l=a,(h=Ln.get(d))&&(l=E({},a),tm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),Ft(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Pc(l,a.precedence,t));return r.instance}function Pc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function em(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var kc=null;function Ev(t,r,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ps]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Tv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function fS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function dS(){}function mS(t,r,a){if(Il===null)throw Error(s(475));var l=Il;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ya(a.href),d=t.querySelector(Sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Lc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,pt(d);return}d=t.ownerDocument||t,a=_v(a),(h=Ln.get(h))&&em(a,h),d=d.createElement("link"),pt(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Ft(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Lc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function pS(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&nm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&nm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Lc(){if(this.count--,this.count===0){if(this.stylesheets)nm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function nm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,r.forEach(gS,t),Uc=null,Lc.call(t))}function gS(t,r){if(!(r.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Lc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Cl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function yS(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Av(t,r,a,l,h,d,v,T,I,q,W,J){return t=new yS(t,r,a,v,T,I,q,J),r=1,d===!0&&(r|=24),d=_n(3,null,null,r),t.current=d,d.stateNode=t,r=Lf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Bf(d),t}function bv(t){return t?(t=Ia,t):Ia}function Sv(t,r,a,l,h,d){h=bv(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(t,l,r),a!==null&&(An(a,t,r),rl(a,t,r))}function Rv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function im(t,r){Rv(t,r),(t=t.alternate)&&Rv(t,r)}function Iv(t){if(t.tag===13){var r=Ra(t,67108864);r!==null&&An(r,t,67108864),im(t,67108864)}}var jc=!0;function _S(t,r,a,l){var h=Y.T;Y.T=null;var d=le.p;try{le.p=2,rm(t,r,a,l)}finally{le.p=d,Y.T=h}}function vS(t,r,a,l){var h=Y.T;Y.T=null;var d=le.p;try{le.p=8,rm(t,r,a,l)}finally{le.p=d,Y.T=h}}function rm(t,r,a,l){if(jc){var h=sm(l);if(h===null)Gd(t,r,l,zc,a),Nv(t,l);else if(TS(h,t,r,a,l))l.stopPropagation();else if(Nv(t,l),r&4&&-1<ES.indexOf(t)){for(;h!==null;){var d=ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Qt(v);T.entanglements[1]|=I,v&=~I}_i(d),(Ye&6)===0&&(Ac=$e()+500,Tl(0))}}break;case 13:T=Ra(d,2),T!==null&&An(T,d,2),Sc(),im(d,2)}if(d=sm(l),d===null&&Gd(t,r,l,zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Gd(t,r,l,null,a)}}function sm(t){return t=Cn(t),am(t)}var zc=null;function am(t){if(zc=null,t=Di(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return zc=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uf()){case Ro:return 2;case sa:return 8;case cs:case cf:return 32;case aa:return 268435456;default:return 32}default:return 32}}var om=!1,Mr=null,Vr=null,Pr=null,Nl=new Map,Dl=new Map,kr=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nv(t,r){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Nl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(r.pointerId)}}function Ol(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ri(r),r!==null&&Iv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function TS(t,r,a,l,h){switch(r){case"focusin":return Mr=Ol(Mr,t,r,a,l,h),!0;case"dragenter":return Vr=Ol(Vr,t,r,a,l,h),!0;case"mouseover":return Pr=Ol(Pr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Nl.set(d,Ol(Nl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ol(Dl.get(d)||null,t,r,a,l,h)),!0}return!1}function Dv(t){var r=Di(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Su(t.priority,function(){if(a.tag===13){var l=wn();l=cr(l);var h=Ra(a,l);h!==null&&An(h,a,l),im(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vi=l,a.target.dispatchEvent(l),Vi=null}else return r=ri(a),r!==null&&Iv(r),t.blockedOn=a,!1;r.shift()}return!0}function Ov(t,r,a){Bc(t)&&a.delete(r)}function wS(){om=!1,Mr!==null&&Bc(Mr)&&(Mr=null),Vr!==null&&Bc(Vr)&&(Vr=null),Pr!==null&&Bc(Pr)&&(Pr=null),Nl.forEach(Ov),Dl.forEach(Ov)}function qc(t,r){t.blockedOn===r&&(t.blockedOn=null,om||(om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wS)))}var Hc=null;function xv(t){Hc!==t&&(Hc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(am(l||a)===null)continue;break}var d=ri(a);d!==null&&(t.splice(r,3),r-=3,ad(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function xl(t){function r(I){return qc(I,t)}Mr!==null&&qc(Mr,t),Vr!==null&&qc(Vr,t),Pr!==null&&qc(Pr,t),Nl.forEach(r),Dl.forEach(r);for(var a=0;a<kr.length;a++){var l=kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Tt]||null;if(typeof d=="function")v||xv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Tt]||null)T=v.formAction;else if(am(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),xv(a)}}}function lm(t){this._internalRoot=t}Fc.prototype.render=lm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=wn();Sv(a,l,t,r,null,null)},Fc.prototype.unmount=lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Sv(t.current,2,null,t,null,null),Sc(),r[Rn]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var r=hr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<kr.length&&r!==0&&r<kr[a].priority;a++);kr.splice(a,0,t),a===0&&Dv(t)}};var Mv=e.version;if(Mv!=="19.1.0")throw Error(s(527,Mv,"19.1.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var AS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gc.isDisabled&&Gc.supportsFiber)try{ft=Gc.inject(AS),Qe=Gc}catch{}}return Vl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Yy,d=Xy,v=Wy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Av(t,1,!1,null,null,a,l,h,d,v,T,null),t[Rn]=r.current,Fd(t),new lm(r)},Vl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Yy,v=Xy,T=Wy,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=Av(t,1,!0,r,a??null,l,h,d,v,T,I,q),r.context=bv(null),a=r.current,l=wn(),l=cr(l),h=vr(l),h.callback=null,Er(a,h,l),a=l,r.current.lanes=a,Ni(r,a),_i(r),t[Rn]=r.current,Fd(t),new Fc(r)},Vl.version="19.1.0",Vl}var Hv;function xS(){if(Hv)return hm.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hm.exports=OS(),hm.exports}var MS=xS();const VS=()=>{};var Fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},PS=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},zT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,V=g&63;p||(V=64,f||(S=64)),s.push(n[E],n[A],n[S],n[V])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(jT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):PS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new kS;const S=u<<2|m>>4;if(s.push(S),g!==64){const V=m<<4&240|g>>2;if(s.push(V),A!==64){const k=g<<6&192|A;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LS=function(i){const e=jT(i);return zT.encodeByteArray(e,!0)},mh=function(i){return LS(i).replace(/\./g,"")},BT=function(i){try{return zT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=()=>US().__FIREBASE_DEFAULTS__,zS=()=>{if(typeof process>"u"||typeof Fv>"u")return;const i=Fv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},BS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&BT(i[1]);return e&&JSON.parse(e)},kh=()=>{try{return VS()||jS()||zS()||BS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qT=i=>{var e,n;return(n=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},qS=i=>{const e=qT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},HT=()=>{var i;return(i=kh())===null||i===void 0?void 0:i.config},FT=i=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[mh(JSON.stringify(n)),mh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function KS(){var i;const e=(i=kh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function QS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YS(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function XS(){return!KS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KT(){try{return typeof indexedDB=="object"}catch{return!1}}function $T(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function WS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="FirebaseError";class Jn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZS,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ea.prototype.create)}}class ea{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?JS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Jn(o,m,s)}}function JS(i,e){return i.replace(eR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const eR=/\{\$([^}]+)}/g;function tR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xr(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Gv(u)&&Gv(f)){if(!Xr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Gv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function nR(i,e){const n=new iR(i,e);return n.subscribe.bind(n)}class iR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");rR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=1e3,aR=2,oR=4*60*60*1e3,lR=.5;function Kv(i,e=sR,n=aR){const s=e*Math.pow(n,i),o=Math.round(lR*s*(Math.random()-.5)*2);return Math.min(oR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(i){return i&&i._delegate?i._delegate:i}class Yn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new HS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hR(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(i){return i===Fs?void 0:i}function hR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const dR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},mR=ke.INFO,pR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},gR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=pR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lh{constructor(e){this.name=e,this._logLevel=mR,this._logHandler=gR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const yR=(i,e)=>e.some(n=>i instanceof n);let $v,Qv;function _R(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vR(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QT=new WeakMap,Mm=new WeakMap,YT=new WeakMap,gm=new WeakMap,fp=new WeakMap;function ER(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Gr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,i)}).catch(()=>{}),fp.set(e,i),e}function TR(i){if(Mm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Mm.set(i,e)}let Vm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Mm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||YT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function wR(i){Vm=i(Vm)}function AR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(ym(this),e,...n);return YT.set(s,e.sort?e.sort():[e]),Gr(s)}:vR().includes(i)?function(...e){return i.apply(ym(this),e),Gr(QT.get(this))}:function(...e){return Gr(i.apply(ym(this),e))}}function bR(i){return typeof i=="function"?AR(i):(i instanceof IDBTransaction&&TR(i),yR(i,_R())?new Proxy(i,Vm):i)}function Gr(i){if(i instanceof IDBRequest)return ER(i);if(gm.has(i))return gm.get(i);const e=bR(i);return e!==i&&(gm.set(i,e),fp.set(e,i)),e}const ym=i=>fp.get(i);function XT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Gr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Gr(f.result),p.oldVersion,p.newVersion,Gr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const SR=["get","getKey","getAll","getAllKeys","count"],RR=["put","add","delete","clear"],_m=new Map;function Yv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||SR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return _m.set(e,u),u}wR(i=>({...i,get:(e,n,s)=>Yv(e,n)||i.get(e,n,s),has:(e,n)=>!!Yv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function CR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",Xv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Lh("@firebase/app"),NR="@firebase/app-compat",DR="@firebase/analytics-compat",OR="@firebase/analytics",xR="@firebase/app-check-compat",MR="@firebase/app-check",VR="@firebase/auth",PR="@firebase/auth-compat",kR="@firebase/database",LR="@firebase/data-connect",UR="@firebase/database-compat",jR="@firebase/functions",zR="@firebase/functions-compat",BR="@firebase/installations",qR="@firebase/installations-compat",HR="@firebase/messaging",FR="@firebase/messaging-compat",GR="@firebase/performance",KR="@firebase/performance-compat",$R="@firebase/remote-config",QR="@firebase/remote-config-compat",YR="@firebase/storage",XR="@firebase/storage-compat",WR="@firebase/firestore",ZR="@firebase/vertexai",JR="@firebase/firestore-compat",eI="firebase",tI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",nI={[Pm]:"fire-core",[NR]:"fire-core-compat",[OR]:"fire-analytics",[DR]:"fire-analytics-compat",[MR]:"fire-app-check",[xR]:"fire-app-check-compat",[VR]:"fire-auth",[PR]:"fire-auth-compat",[kR]:"fire-rtdb",[LR]:"fire-data-connect",[UR]:"fire-rtdb-compat",[jR]:"fire-fn",[zR]:"fire-fn-compat",[BR]:"fire-iid",[qR]:"fire-iid-compat",[HR]:"fire-fcm",[FR]:"fire-fcm-compat",[GR]:"fire-perf",[KR]:"fire-perf-compat",[$R]:"fire-rc",[QR]:"fire-rc-compat",[YR]:"fire-gcs",[XR]:"fire-gcs-compat",[WR]:"fire-fst",[JR]:"fire-fst-compat",[ZR]:"fire-vertex","fire-js":"fire-js",[eI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,iI=new Map,Lm=new Map;function Wv(i,e){try{i.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Si(i){const e=i.name;if(Lm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,i);for(const n of ph.values())Wv(n,i);for(const n of iI.values())Wv(n,i);return!0}function ta(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Un(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new ea("app","Firebase",rI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=tI;function WT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:km,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Kr.create("bad-app-name",{appName:String(o)});if(n||(n=HT()),!n)throw Kr.create("no-options");const u=ph.get(o);if(u){if(Xr(n,u.options)&&Xr(s,u.config))return u;throw Kr.create("duplicate-app",{appName:o})}const f=new fR(o);for(const p of Lm.values())f.addComponent(p);const m=new sI(n,s,f);return ph.set(o,m),m}function dp(i=km){const e=ph.get(i);if(!e&&i===km&&HT())return WT();if(!e)throw Kr.create("no-app",{appName:i});return e}function jn(i,e,n){var s;let o=(s=nI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}Si(new Yn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="firebase-heartbeat-database",oI=1,Xl="firebase-heartbeat-store";let vm=null;function ZT(){return vm||(vm=XT(aI,oI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),vm}async function lI(i){try{const n=(await ZT()).transaction(Xl),s=await n.objectStore(Xl).get(JT(i));return await n.done,s}catch(e){if(e instanceof Jn)rr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function Zv(i,e){try{const s=(await ZT()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,JT(i)),await s.done}catch(n){if(n instanceof Jn)rr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(s.message)}}}function JT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1024,cI=30;class hI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Jv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>cI){const f=mI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jv(),{heartbeatsToSend:s,unsentEntries:o}=fI(this._heartbeatsCache.heartbeats),u=mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return rr.warn(n),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function fI(i,e=uI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),eE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),eE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KT()?$T().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function eE(i){return mh(JSON.stringify({version:2,heartbeats:i})).length}function mI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(i){Si(new Yn("platform-logger",e=>new IR(e),"PRIVATE")),Si(new Yn("heartbeat",e=>new hI(e),"PRIVATE")),jn(Pm,Xv,i),jn(Pm,Xv,"esm2017"),jn("fire-js","")}pI("");var gI="firebase",yI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(gI,yI,"app");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,e0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function R(){}R.prototype=b.prototype,O.D=b.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(D,M,L){for(var C=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)C[Et-2]=arguments[Et];return b.prototype[M].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,b,R){R||(R=0);var D=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)D[M]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(M=0;16>M;++M)D[M]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=O.g[0],R=O.g[1],M=O.g[2];var L=O.g[3],C=b+(L^R&(M^L))+D[0]+3614090360&4294967295;b=R+(C<<7&4294967295|C>>>25),C=L+(M^b&(R^M))+D[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=M+(R^L&(b^R))+D[2]+606105819&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(b^M&(L^b))+D[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=b+(L^R&(M^L))+D[4]+4118548399&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(M^b&(R^M))+D[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=M+(R^L&(b^R))+D[6]+2821735955&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(b^M&(L^b))+D[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=b+(L^R&(M^L))+D[8]+1770035416&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(M^b&(R^M))+D[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=M+(R^L&(b^R))+D[10]+4294925233&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(b^M&(L^b))+D[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=b+(L^R&(M^L))+D[12]+1804603682&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(M^b&(R^M))+D[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=M+(R^L&(b^R))+D[14]+2792965006&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(b^M&(L^b))+D[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=b+(M^L&(R^M))+D[1]+4129170786&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(b^R))+D[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=M+(b^R&(L^b))+D[11]+643717713&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(M^L))+D[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=b+(M^L&(R^M))+D[5]+3593408605&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(b^R))+D[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=M+(b^R&(L^b))+D[15]+3634488961&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(M^L))+D[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=b+(M^L&(R^M))+D[9]+568446438&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(b^R))+D[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=M+(b^R&(L^b))+D[3]+4107603335&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(M^L))+D[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=b+(M^L&(R^M))+D[13]+2850285829&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(b^R))+D[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=M+(b^R&(L^b))+D[7]+1735328473&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(M^L))+D[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=b+(R^M^L)+D[5]+4294588738&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^M)+D[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=M+(L^b^R)+D[11]+1839030562&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^b)+D[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=b+(R^M^L)+D[1]+2763975236&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^M)+D[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=M+(L^b^R)+D[7]+4139469664&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^b)+D[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=b+(R^M^L)+D[13]+681279174&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^M)+D[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=M+(L^b^R)+D[3]+3572445317&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^b)+D[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=b+(R^M^L)+D[9]+3654602809&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^M)+D[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=M+(L^b^R)+D[15]+530742520&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^b)+D[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=b+(M^(R|~L))+D[0]+4096336452&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~M))+D[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=M+(b^(L|~R))+D[14]+2878612391&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~b))+D[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=b+(M^(R|~L))+D[12]+1700485571&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~M))+D[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=M+(b^(L|~R))+D[10]+4293915773&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~b))+D[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=b+(M^(R|~L))+D[8]+1873313359&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~M))+D[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=M+(b^(L|~R))+D[6]+2734768916&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~b))+D[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=b+(M^(R|~L))+D[4]+4149444226&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~M))+D[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=M+(b^(L|~R))+D[2]+718787259&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~b))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var R=b-this.blockSize,D=this.B,M=this.h,L=0;L<b;){if(M==0)for(;L<=R;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<b;)if(D[M++]=O.charCodeAt(L++),M==this.blockSize){o(this,D),M=0;break}}else for(;L<b;)if(D[M++]=O[L++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var R=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=R&255,R/=256;for(this.u(O),O=Array(16),b=R=0;4>b;++b)for(var D=0;32>D;D+=8)O[R++]=this.g[b]>>>D&255;return O};function u(O,b){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=b(O)}function f(O,b){this.h=b;for(var R=[],D=!0,M=O.length-1;0<=M;M--){var L=O[M]|0;D&&L==b||(R[M]=L,D=!1)}this.g=R}var m={};function p(O){return-128<=O&&128>O?u(O,function(b){return new f([b|0],0>b?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return H(g(-O));for(var b=[],R=1,D=0;O>=R;D++)b[D]=O/R|0,R*=4294967296;return new f(b,0)}function E(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return H(E(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),D=A,M=0;M<O.length;M+=8){var L=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+L),b);8>L?(L=g(Math.pow(b,L)),D=D.j(L).add(g(C))):(D=D.j(R),D=D.add(g(C)))}return D}var A=p(0),S=p(1),V=p(16777216);i=f.prototype,i.m=function(){if(Q(this))return-H(this).m();for(var O=0,b=1,R=0;R<this.g.length;R++){var D=this.i(R);O+=(0<=D?D:4294967296+D)*b,b*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(k(this))return"0";if(Q(this))return"-"+H(this).toString(O);for(var b=g(Math.pow(O,6)),R=this,D="";;){var M=pe(R,b).g;R=X(R,M.j(b));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=M,k(R))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function k(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function Q(O){return O.h==-1}i.l=function(O){return O=X(this,O),Q(O)?-1:k(O)?0:1};function H(O){for(var b=O.g.length,R=[],D=0;D<b;D++)R[D]=~O.g[D];return new f(R,~O.h).add(S)}i.abs=function(){return Q(this)?H(this):this},i.add=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],D=0,M=0;M<=b;M++){var L=D+(this.i(M)&65535)+(O.i(M)&65535),C=(L>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);D=C>>>16,L&=65535,C&=65535,R[M]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function X(O,b){return O.add(H(b))}i.j=function(O){if(k(this)||k(O))return A;if(Q(this))return Q(O)?H(this).j(H(O)):H(H(this).j(O));if(Q(O))return H(this.j(H(O)));if(0>this.l(V)&&0>O.l(V))return g(this.m()*O.m());for(var b=this.g.length+O.g.length,R=[],D=0;D<2*b;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<O.g.length;M++){var L=this.i(D)>>>16,C=this.i(D)&65535,Et=O.i(M)>>>16,rt=O.i(M)&65535;R[2*D+2*M]+=C*rt,se(R,2*D+2*M),R[2*D+2*M+1]+=L*rt,se(R,2*D+2*M+1),R[2*D+2*M+1]+=C*Et,se(R,2*D+2*M+1),R[2*D+2*M+2]+=L*Et,se(R,2*D+2*M+2)}for(D=0;D<b;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=b;D<2*b;D++)R[D]=0;return new f(R,0)};function se(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function ne(O,b){this.g=O,this.h=b}function pe(O,b){if(k(b))throw Error("division by zero");if(k(O))return new ne(A,A);if(Q(O))return b=pe(H(O),b),new ne(H(b.g),H(b.h));if(Q(b))return b=pe(O,H(b)),new ne(H(b.g),b.h);if(30<O.g.length){if(Q(O)||Q(b))throw Error("slowDivide_ only works with positive integers.");for(var R=S,D=b;0>=D.l(O);)R=he(R),D=he(D);var M=fe(R,1),L=fe(D,1);for(D=fe(D,2),R=fe(R,2);!k(D);){var C=L.add(D);0>=C.l(O)&&(M=M.add(R),L=C),D=fe(D,1),R=fe(R,1)}return b=X(O,M.j(b)),new ne(M,b)}for(M=A;0<=O.l(b);){for(R=Math.max(1,Math.floor(O.m()/b.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=g(R),C=L.j(b);Q(C)||0<C.l(O);)R-=D,L=g(R),C=L.j(b);k(L)&&(L=S),M=M.add(L),O=X(O,C)}return new ne(M,O)}i.A=function(O){return pe(this,O).h},i.and=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],D=0;D<b;D++)R[D]=this.i(D)&O.i(D);return new f(R,this.h&O.h)},i.or=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],D=0;D<b;D++)R[D]=this.i(D)|O.i(D);return new f(R,this.h|O.h)},i.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],D=0;D<b;D++)R[D]=this.i(D)^O.i(D);return new f(R,this.h^O.h)};function he(O){for(var b=O.g.length+1,R=[],D=0;D<b;D++)R[D]=O.i(D)<<1|O.i(D-1)>>>31;return new f(R,O.h)}function fe(O,b){var R=b>>5;b%=32;for(var D=O.g.length-R,M=[],L=0;L<D;L++)M[L]=0<b?O.i(L+R)>>>b|O.i(L+R+1)<<32-b:O.i(L+R);return new f(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,e0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,$r=f}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t0,jl,n0,th,Um,i0,r0,s0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in _))break e;_=_[j]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,j={next:function(){if(!w&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function V(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function k(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,j,K){for(var ae=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ae[Ue-2]=arguments[Ue];return y.prototype[j].apply(w,ae)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function H(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const j=c.length||0,K=w.length||0;c.length=j+K;for(let ae=0;ae<K;ae++)c[j+ae]=w[ae]}else c.push(w)}}class X{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var he=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function fe(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)c[_]=w[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function M(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=qe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Et{constructor(){this.h=this.g=null}add(y,_){const w=rt.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var rt=new X(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ge=!1,qe=new Et,x=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ie)}};var ie=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){L(_)}var y=rt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function $(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{pe(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&$.aa.h.call(this)}}k($,re);var oe={2:"touch",3:"pen",4:"mouse"};$.prototype.h=function(){$.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Pe(c,y,_,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=j,this.key=++Ee,this.da=this.fa=!1}function tt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function an(c){this.src=c,this.g={},this.h=0}an.prototype.add=function(c,y,_,w,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=ti(c,y,w,j);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new Pe(y,this.src,K,!!w,j),y.fa=_,c.push(y)),y};function zn(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],j=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(w,j,1),K&&(tt(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ti(c,y,_,w){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==w)return j}return-1}var ni="closure_lm_"+(1e6*Math.random()|0),ur={};function ht(c,y,_,w,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)ht(c,y[K],_,w,j);return null}return _=Au(_),c&&c[Re]?c.K(y,_,g(w)?!!w.capture:!1,j):$e(c,y,_,!1,w,j)}function $e(c,y,_,w,j,K){if(!y)throw Error("Invalid event type");var ae=g(j)?!!j.capture:!!j,Ue=aa(c);if(Ue||(c[ni]=Ue=new an(c)),_=Ue.add(y,_,w,ae,K),_.proxy)return _;if(w=uf(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)_e||(j=ae),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(cs(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function uf(){function c(_){return y.call(c.src,c.listener,_)}const y=cf;return c}function Ro(c,y,_,w,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)Ro(c,y[K],_,w,j);else w=g(w)?!!w.capture:!!w,_=Au(_),c&&c[Re]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=ti(K,_,w,j),-1<_&&(tt(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=aa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ti(y,_,w,j)),(_=-1<c?y[c]:null)&&sa(_))}function sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Re])zn(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(cs(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=aa(y))?(zn(_,c),_.h==0&&(_.src=null,y[ni]=null)):tt(c)}}}function cs(c){return c in ur?ur[c]:ur[c]="on"+c}function cf(c,y){if(c.da)c=!0;else{y=new $(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&sa(c),c=_.call(w,y)}return c}function aa(c){return c=c[ni],c instanceof an?c:null}var Io="__closure_events_fn_"+(1e9*Math.random()>>>0);function Au(c){return typeof c=="function"?c:(c[Io]||(c[Io]=function(y){return c.handleEvent(y)}),c[Io])}function ft(){ue.call(this),this.i=new an(this),this.M=this,this.F=null}k(ft,ue),ft.prototype[Re]=!0,ft.prototype.removeEventListener=function(c,y,_,w){Ro(this,c,y,_,w)};function Qe(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var j=y;y=new re(w,c),D(y,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var ae=y.g=_[K];j=pn(ae,w,!0,y)&&j}if(ae=y.g=c,j=pn(ae,w,!0,y)&&j,j=pn(ae,w,!1,y)&&j,_)for(K=0;K<_.length;K++)ae=y.g=_[K],j=pn(ae,w,!1,y)&&j}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)tt(_[w]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ft.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function pn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==_){var Ue=ae.listener,Ct=ae.ha||ae.src;ae.fa&&zn(c.i,ae),j=Ue.call(Ct,w)!==!1&&j}}return j&&!w.defaultPrevented}function Qt(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function bu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class hf extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){ue.call(this),this.h=c,this.g={}}k(hs,ue);var fs=[];function ds(c){fe(c.g,function(y,_){this.g.hasOwnProperty(_)&&sa(y)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),ds(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=m.JSON.stringify,oa=m.JSON.parse,ms=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function No(c){return c.h||(c.h=c.i())}function Do(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){re.call(this,"d")}k(Ni,re);function Oo(){re.call(this,"c")}k(Oo,re);var ii={},xo=null;function cr(){return xo=xo||new ft}ii.La="serverreachability";function la(c){re.call(this,ii.La,c)}k(la,re);function hr(c){const y=cr();Qe(y,new la(y))}ii.STAT_EVENT="statevent";function Su(c,y){re.call(this,ii.STAT_EVENT,c),this.stat=y}k(Su,re);function at(c){const y=cr();Qe(y,new Su(y,c))}ii.Ma="timingevent";function It(c,y){re.call(this,ii.Ma,c),this.size=y}k(It,re);function Tt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Mo(c,y,_,w,j,K){c.info(function(){if(c.g)if(K)for(var ae="",Ue=K.split("&"),Ct=0;Ct<Ue.length;Ct++){var je=Ue[Ct].split("=");if(1<je.length){var Pt=je[0];je=je[1];var Nt=Pt.split("_");ae=2<=Nt.length&&Nt[1]=="type"?ae+(Pt+"="+je+"&"):ae+(Pt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+_+`
`+ae})}function ff(c,y,_,w,j,K,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+_+`
`+K+" "+ae})}function fr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ps(c,_)+(w?" "+w:"")})}function Ru(c,y){c.info(function(){return"TIMEOUT: "+y})}Rn.prototype.info=function(){};function ps(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return Bn(_)}catch{return y}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function si(){}k(si,Co),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ri=new si;function tn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Vo={},ua={};function qn(c,y,_){c.L=1,c.v=Es(gn(y)),c.m=_,c.P=!0,Oi(c,null)}function Oi(c,y){c.F=Date.now(),gs(c),c.A=gn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),zo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new pt,c.g=qu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new hf(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(fs[0]=j.toString()),j=fs);for(var K=0;K<j.length;K++){var ae=ht(_,j[K],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),hr(),Mo(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Dn(this.g);var y=this.g.Ba();const ji=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=ji?hr(3):hr(2)),mr(this);var _=this.g.Z();this.X=_;t:if(Iu(this)){var w=Vu(this.g);c="";var j=w.length,K=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ai(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==j-1)});w.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,ff(this.i,this.u,this.A,this.l,this.R,Nt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Ct=this.g;if((Ue=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Ue)){var je=Ue;break t}}je=null}if(_=je)fr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,_);else{this.o=!1,this.s=3,at(12),zt(this),ai(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<ae.length;)if(Bt=Cu(this,ae),Bt==ua){Nt==4&&(this.s=4,at(14),_=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Vo){this.s=4,at(15),fr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else fr(this.i,this.l,Bt,null),ys(this,Bt);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ae.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)fr(this.i,this.l,ae,"[Invalid Chunked Response]"),zt(this),ai(this);else if(0<ae.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Cs(Pt),Pt.M=!0,at(11))}}else fr(this.i,this.l,ae,null),ys(this,ae);Nt==4&&zt(this),this.o&&!this.J&&(Nt==4?ju(this.j,this):(this.o=!1,gs(this)))}else yf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),zt(this),ai(this)}}}catch{}finally{}};function Iu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?ua:(_=Number(y.substring(_,w)),isNaN(_)?Vo:(w+=1,w+_>y.length?ua:(y=y.slice(w,w+_),c.C=w+_,y)))}tn.prototype.cancel=function(){this.J=!0,zt(this)};function gs(c){c.S=Date.now()+c.I,Nu(c,c.I)}function Nu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(S(c.ba,c),y)}function mr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ru(this.i,this.A),this.L!=2&&(hr(),at(17)),zt(this),this.s=2,ai(this)):Nu(this,this.S-c)};function ai(c){c.j.G==0||c.J||ju(c.j,c)}function zt(c){mr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ds(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ys(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Po(_.h,c))){if(!c.K&&Po(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ta(_),va(_);else break e;Go(_),at(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tt(S(_.Za,_),6e3));if(1>=ha(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ui(_,11)}else if((c.K||_.g==c)&&Ta(_),!se(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let je=j[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const Pt=je[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const Nt=je[4];Nt!=null&&(_.Aa=Nt,_.j.info("SVER="+_.Aa));const ji=je[5];ji!=null&&typeof ji=="number"&&0<ji&&(w=1.5*ji,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Bt=c.g;if(Bt){const di=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var K=w.h;K.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(fa(K,K.h),K.h=null))}if(w.D){const $o=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(w.ya=$o,We(w.I,w.D,$o))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ae=c;if(w.qa=Bu(w,w.J?w.ia:null,w.W),ae.K){nn(w.h,ae);var Ue=ae,Ct=w.L;Ct&&(Ue.I=Ct),Ue.B&&(mr(Ue),gs(Ue)),w.g=ae}else Lu(w);0<_.i.length&&Ea(_)}else je[0]!="stop"&&je[0]!="close"||Ui(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Ui(_,7):Ho(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}hr(4)}catch{}}var Du=class{constructor(c,y){this.g=c,this.map=y}};function xi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ca(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ha(c){return c.h?1:c.g?c.g.size:0}function Po(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fa(c,y){c.g?c.g.add(y):c.h=y}function nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xi.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function df(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function da(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Lo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=da(c),w=df(c),j=w.length,K=0;K<j;K++)y.call(void 0,w[K],_&&_[K],c)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),j=null;if(0<=w){var K=c[_].substring(0,w);j=c[_].substring(w+1)}else K=c[_];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function wt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wt){this.h=c.h,vs(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.s),this.l=c.l;var y=c.i,_=new Vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Mi(this,_),this.m=c.m}else c&&(y=String(c).match(_s))?(this.h=!1,vs(this,y[1]||"",!0),this.o=In(y[2]||""),this.g=In(y[3]||"",!0),pr(this,y[4]),this.l=In(y[5]||"",!0),Mi(this,y[6]||"",!0),this.m=In(y[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}wt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ts(y,Uo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ts(y,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ts(_,_.charAt(0)=="/"?pf:jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ts(_,ma)),c.join("")};function gn(c){return new wt(c)}function vs(c,y,_){c.j=_?In(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Mi(c,y,_){y instanceof Vi?(c.i=y,xu(c.i,c.h)):(_||(y=Ts(y,gf)),c.i=new Vi(y,c.h))}function We(c,y,_){c.i.set(y,_)}function Es(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Ou),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ou(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,jo=/[#\?:]/g,pf=/[#\?]/g,gf=/[#\?@]/g,ma=/#/g;function Vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&mf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Vi.prototype,i.add=function(c,y){Cn(this),this.i=null,c=oi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Pi(c,y){Cn(c),y=oi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ki(c,y){return Cn(c),y=oi(c,y),c.g.has(y)}i.forEach=function(c,y){Cn(this),this.g.forEach(function(_,w){_.forEach(function(j){c.call(y,j,w,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const j=c[w];for(let K=0;K<j.length;K++)_.push(y[w])}return _},i.V=function(c){Cn(this);let y=[];if(typeof c=="string")ki(this,c)&&(y=y.concat(this.g.get(oi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Cn(this),this.i=null,c=oi(this,c),ki(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function zo(c,y,_){Pi(c,y),0<_.length&&(c.i=null,c.g.set(oi(c,y),Q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const K=encodeURIComponent(String(w)),ae=this.V(w);for(w=0;w<ae.length;w++){var j=K;ae[w]!==""&&(j+="="+encodeURIComponent(String(ae[w]))),c.push(j)}}return this.i=c.join("&")};function oi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function xu(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(Pi(this,w),zo(this,j,_))},c)),c.j=y}function ws(c,y){const _=new Rn;if(m.Image){const w=new Image;w.onload=V(Nn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=V(Nn,_,"TestLoadImage: error",!1,y,w),w.onabort=V(Nn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=V(Nn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Hn(c,y){const _=new Rn,w=new AbortController,j=setTimeout(()=>{w.abort(),Nn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(j),K.ok?Nn(_,"TestPingServer: ok",!0,y):Nn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Nn(_,"TestPingServer: error",!1,y)})}function Nn(c,y,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function As(){this.g=new ms}function li(c,y,_){const w=_||"";try{Lo(c,function(j,K){let ae=j;g(j)&&(ae=Bn(j)),y.push(w+K+"="+encodeURIComponent(ae))})}catch(j){throw y.push(w+"type="+encodeURIComponent("_badmap")),j}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(gr,Co),gr.prototype.g=function(){return new Li(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function Li(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Li,ft),i=Li.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ci(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ui(this):ci(this),this.readyState==3&&Bo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ui(this))},i.Qa=function(c){this.g&&(this.response=c,ui(this))},i.ga=function(){this.g&&ui(this)};function ui(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ci(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let y="";return fe(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Vt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,y,_))}function Ge(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ge,ft);var pa=/^https?$/i,bs=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?No(this.o):No(ri),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Mu(this,K);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,y,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of _)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Mu(this,K)}};function Mu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ga(c),hi(c)}function ga(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},i.bb=function(){ya(this)};function ya(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Qt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=ae===0){var j=String(c.D).match(_s)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),w=!pa.test(j?j.toLowerCase():"")}_=w}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var K=2<Dn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ga(c)}}finally{hi(c)}}}}function hi(c,y){if(c.g){Ss(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{_.onreadystatechange=w}catch{}}}function Ss(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),oa(y)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function yf(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(se(c[w]))continue;var _=M(c[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[j]||[];y[j]=K,K.push(_)}O(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function _a(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(c&&c.concurrentRequestLimit),this.Da=new As,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=_a.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){at(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Bu(this,null,this.W),Ea(this)};function Ho(c){if(Pu(c),c.G==3){var y=c.U++,_=gn(c.I);if(We(_,"SID",c.K),We(_,"RID",y),We(_,"TYPE","terminate"),Is(c,_),y=new tn(c,c.j,y),y.L=2,y.v=Es(gn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),gs(y)}zu(c)}function va(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function Pu(c){va(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ea(c){if(!ca(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||x(),ge||(le(),ge=!0),qe.add(y,c),c.B=0}}function _f(c,y){return ha(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(S(c.Ga,c,y),Ko(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new tn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=b(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ku(this,j,y),_=gn(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),Is(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(qo(K)))+"&"+y:this.m&&Vt(_,this.m,K)),fa(this.h,j),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",y),We(_,"SID","null"),j.T=!0,qn(j,_,null)):qn(j,_,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||ca(this.h)||Fo(this))};function Fo(c,y){var _;y?_=y.l:_=c.U++;const w=gn(c.I);We(w,"SID",c.K),We(w,"RID",_),We(w,"AID",c.T),Is(c,w),c.m&&c.o&&Vt(w,c.m,c.o),_=new tn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ku(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fa(c.h,_),qn(_,w,y)}function Is(c,y){c.H&&fe(c.H,function(_,w){We(y,w,_)}),c.l&&Lo({},function(_,w){We(y,w,_)})}function ku(c,y,_){_=Math.min(c.i.length,_);var w=c.l?S(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const ae=["count="+_];K==-1?0<_?(K=j[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Ue=!0;for(let Ct=0;Ct<_;Ct++){let je=j[Ct].g;const Pt=j[Ct].map;if(je-=K,0>je)K=Math.max(0,j[Ct].g-100),Ue=!1;else try{li(Pt,ae,"req"+je+"_")}catch{w&&w(Pt)}}if(Ue){w=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Lu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||x(),ge||(le(),ge=!0),qe.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(S(c.Fa,c),Ko(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),va(this),Uu(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Uu(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=gn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Is(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Es(gn(y)),_.m=null,_.P=!0,Oi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,va(this),Go(this),at(19))};function Ta(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ju(c,y){var _=null;if(c.g==y){Ta(c),Cs(c),c.g=null;var w=2}else if(Po(c.h,y))_=y.D,nn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;w=cr(),Qe(w,new It(w,_)),Ea(c)}else Lu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(w==1&&_f(c,y)||w==2&&Go(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Ko(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ui(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),w=c.Xa;const j=!w;w=new wt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||vs(w,"https"),Es(w),j?ws(w.toString(),_):Hn(w.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(y),zu(c),Pu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function zu(c){if(c.G=0,c.ka=[],c.l){const y=ko(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Bu(c,y,_){var w=_ instanceof wt?gn(_):new wt(_);if(w.g!="")y&&(w.g=y+"."+w.g),pr(w,w.s);else{var j=m.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new wt(null);w&&vs(K,w),y&&(K.g=y),j&&pr(K,j),_&&(K.l=_),w=K}return _=c.D,y=c.ya,_&&y&&We(w,_,y),We(w,"VER",c.la),Is(c,w),w}function qu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new gr({eb:_})):new Ge(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}i=Hu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function wa(){}wa.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){ft.call(this),this.g=new _a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fi(this)}k(rn,ft),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ho(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Bn(c),c=_);y.i.push(new Du(y.Ya++,c)),y.G==3&&Ea(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,rn.aa.N.call(this)};function Fu(c){Ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(Fu,Ni);function Gu(){Oo.call(this),this.status=1}k(Gu,Oo);function fi(c){this.g=c}k(fi,Hu),fi.prototype.ua=function(){Qe(this.g,"a")},fi.prototype.ta=function(c){Qe(this.g,new Fu(c))},fi.prototype.sa=function(c){Qe(this.g,new Gu)},fi.prototype.ra=function(){Qe(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,s0=function(){return new wa},r0=function(){return cr()},i0=ii,Um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,th=dr,Di.COMPLETE="complete",n0=Di,Do.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",ft.prototype.listen=ft.prototype.K,jl=Do,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,t0=Ge}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",iE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Lh("@firebase/firestore");function Wa(){return $s.logLevel}function ce(i,...e){if($s.logLevel<=ke.DEBUG){const n=e.map(mp);$s.debug(`Firestore (${yo}): ${i}`,...n)}}function sr(i,...e){if($s.logLevel<=ke.ERROR){const n=e.map(mp);$s.error(`Firestore (${yo}): ${i}`,...n)}}function oo(i,...e){if($s.logLevel<=ke.WARN){const n=e.map(mp);$s.warn(`Firestore (${yo}): ${i}`,...n)}}function mp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+i;throw sr(e),new Error(e)}function Ke(i,e){i||Se()}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class vI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class EI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new a0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Zt(e)}}class TI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new TI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new rE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new rE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=bI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function jm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Oe(s,o);{const u=o0(),f=SI(u.encode(sE(i,n)),u.encode(sE(e,n)));return f!==0?f:Oe(s,o)}}n+=s>65535?2:1}return Oe(i.length,e.length)}function sE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function SI(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Oe(i[n],e[n]);return Oe(i.length,e.length)}function lo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=-62135596800,oE=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*oE);return new xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aE)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oE}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new xt(0,0))}static max(){return new Ie(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__name__";class vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(),s===void 0?s=e.length-n:s>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=vi.isNumericId(e),o=vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?vi.extractNumericId(e).compare(vi.extractNumericId(n)):jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class st extends vi{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new st(n)}static emptyPath(){return new st([])}}const RI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends vi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return RI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new Kt([lE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function II(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new xt(n+1,0):new xt(n,s));return new Wr(o,ve.empty(),e)}function CI(i){return new Wr(i.readTime,i.key,Wl)}class Wr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Wr(Ie.min(),ve.empty(),Wl)}static max(){return new Wr(Ie.max(),ve.empty(),Wl)}}function NI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==DI)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function xI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Uh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-1;function jh(i){return i==null}function gh(i){return i===0&&1/i==-1/0}function MI(i){return typeof i=="number"&&Number.isInteger(i)&&!gh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="";function VI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=uE(e)),e=PI(i.get(n),e);return uE(e)}function PI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case u0:n+="";break;default:n+=u}}return n}function uE(i){return i+u0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function is(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function c0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Mt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new h0("Invalid base64 string: "+u):u}}(e);return new $t(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const kI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(i){if(Ke(!!i),typeof i=="string"){let e=0;const n=kI.exec(i);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="server_timestamp",d0="__type__",m0="__previous_value__",p0="__local_write_time__";function gp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[d0])===null||n===void 0?void 0:n.stringValue)===f0}function zh(i){const e=i.mapValue.fields[m0];return gp(e)?zh(e):e}function Zl(i){const e=Zr(i.mapValue.fields[p0].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const yh="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__type__",UI="__max__",Qc={mapValue:{}},y0="__vector__",_h="value";function es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gp(i)?4:zI(i)?9007199254740991:jI(i)?10:11:Se()}function Ri(i,e){if(i===e)return!0;const n=es(i);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Zl(i).isEqual(Zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Zr(o.timestampValue),m=Zr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?gh(f)===gh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return lo(i.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(cE(f)!==cE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ri(f[p],m[p])))return!1;return!0}(i,e);default:return Se()}}function eu(i,e){return(i.values||[]).find(n=>Ri(n,e))!==void 0}function uo(i,e){if(i===e)return 0;const n=es(i),s=es(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return fE(i.timestampValue,e.timestampValue);case 4:return fE(Zl(i),Zl(e));case 5:return jm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Jr(u),p=Jr(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Oe(m[g],p[g]);if(E!==0)return E}return Oe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Oe(_t(u.latitude),_t(f.latitude));return m!==0?m:Oe(_t(u.longitude),_t(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return dE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},S=f.fields||{},V=(m=A[_h])===null||m===void 0?void 0:m.arrayValue,k=(p=S[_h])===null||p===void 0?void 0:p.arrayValue,Q=Oe(((g=V==null?void 0:V.values)===null||g===void 0?void 0:g.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:dE(V,k)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const S=jm(p[A],E[A]);if(S!==0)return S;const V=uo(m[p[A]],g[E[A]]);if(V!==0)return V}return Oe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Se()}}function fE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const n=Zr(i),s=Zr(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function dE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=uo(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function co(i){return zm(i)}function zm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Zr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Jr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ve.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=zm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${zm(n.fields[f])}`;return o+"}"}(i.mapValue):Se()}function nh(i){switch(es(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(i);return e?16+nh(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+nh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return is(s.fields,(u,f)=>{o+=u.length+nh(f)}),o}(i.mapValue);default:throw Se()}}function mE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Bm(i){return!!i&&"integerValue"in i}function yp(i){return!!i&&"arrayValue"in i}function pE(i){return!!i&&"nullValue"in i}function gE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ih(i){return!!i&&"mapValue"in i}function jI(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[g0])===null||n===void 0?void 0:n.stringValue)===y0}function Hl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return is(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Hl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function zI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===UI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Hl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){is(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new fn(Hl(this.value))}}function _0(i){const e=[];return is(i.fields,(n,s)=>{const o=new Kt([n]);if(ih(s)){const u=_0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Ie.min(),Ie.min(),Ie.min(),fn.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,Ie.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Ie.min(),Ie.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Ie.min(),Ie.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function yE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(f.referenceValue),n.key):s=uo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _E(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ri(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function BI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{}class Rt extends v0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new HI(e,n,s):n==="array-contains"?new KI(e,s):n==="in"?new $I(e,s):n==="not-in"?new QI(e,s):n==="array-contains-any"?new YI(e,s):new Rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new FI(e,s):new GI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends v0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Xn(e,n)}matches(e){return E0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function E0(i){return i.op==="and"}function T0(i){return qI(i)&&E0(i)}function qI(i){for(const e of i.filters)if(e instanceof Xn)return!1;return!0}function qm(i){if(i instanceof Rt)return i.field.canonicalString()+i.op.toString()+co(i.value);if(T0(i))return i.filters.map(e=>qm(e)).join(",");{const e=i.filters.map(n=>qm(n)).join(",");return`${i.op}(${e})`}}function w0(i,e){return i instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&Ri(s.value,o.value)}(i,e):i instanceof Xn?function(s,o){return o instanceof Xn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&w0(f,o.filters[m]),!0):!1}(i,e):void Se()}function A0(i){return i instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(i):i instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(A0).join(" ,")+"}"}(i):"Filter"}class HI extends Rt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class FI extends Rt{constructor(e,n){super(e,"in",n),this.keys=b0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GI extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=b0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b0(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class KI extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yp(n)&&eu(n.arrayValue,this.value)}}class $I extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class QI extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!eu(this.value.arrayValue,n)}}class YI extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>eu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function vE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new XI(i,e,n,s,o,u,f)}function _p(i){const e=Ce(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>qm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>co(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>co(s)).join(",")),e.le=n}return e.le}function vp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!BI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!w0(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_E(i.startAt,e.startAt)&&_E(i.endAt,e.endAt)}function Hm(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function WI(i,e,n,s,o,u,f,m){return new Eo(i,e,n,s,o,u,f,m)}function Ep(i){return new Eo(i)}function EE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function S0(i){return i.collectionGroup!==null}function Fl(i){const e=Ce(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new tu(u,s))}),n.has(Kt.keyField().canonicalString())||e.he.push(new tu(Kt.keyField(),s))}return e.he}function Ei(i){const e=Ce(i);return e.Pe||(e.Pe=ZI(e,Fl(i))),e.Pe}function ZI(i,e){if(i.limitType==="F")return vE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new tu(o.field,u)});const n=i.endAt?new vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new vh(i.startAt.position,i.startAt.inclusive):null;return vE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Fm(i,e){const n=i.filters.concat([e]);return new Eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Gm(i,e,n){return new Eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Bh(i,e){return vp(Ei(i),Ei(e))&&i.limitType===e.limitType}function R0(i){return`${_p(Ei(i))}|lt:${i.limitType}`}function Za(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>A0(o)).join(", ")}]`),jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>co(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>co(o)).join(",")),`Target(${s})`}(Ei(i))}; limitType=${i.limitType})`}function qh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Fl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=yE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Fl(s),o)||s.endAt&&!function(f,m,p){const g=yE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Fl(s),o))}(i,e)}function JI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function I0(i){return(e,n)=>{let s=!1;for(const o of Fl(i)){const u=eC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function eC(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?uo(p,g):Se()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return c0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new ct(ve.comparator);function ar(){return tC}const C0=new ct(ve.comparator);function zl(...i){let e=C0;for(const n of i)e=e.insert(n.key,n);return e}function N0(i){let e=C0;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Gs(){return Gl()}function D0(){return Gl()}function Gl(){return new na(i=>i.toString(),(i,e)=>i.isEqual(e))}const nC=new ct(ve.comparator),iC=new Mt(ve.comparator);function Le(...i){let e=iC;for(const n of i)e=e.add(n);return e}const rC=new Mt(Oe);function sC(){return rC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function O0(i){return{integerValue:""+i}}function x0(i,e){return MI(e)?O0(e):Tp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function aC(i,e,n){return i instanceof nu?function(o,u){const f={fields:{[d0]:{stringValue:f0},[p0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=zh(u)),u&&(f.fields[m0]=u),{mapValue:f}}(n,e):i instanceof iu?V0(i,e):i instanceof ru?P0(i,e):function(o,u){const f=M0(o,u),m=TE(f)+TE(o.Ie);return Bm(f)&&Bm(o.Ie)?O0(m):Tp(o.serializer,m)}(i,e)}function oC(i,e,n){return i instanceof iu?V0(i,e):i instanceof ru?P0(i,e):n}function M0(i,e){return i instanceof su?function(s){return Bm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class nu extends Hh{}class iu extends Hh{constructor(e){super(),this.elements=e}}function V0(i,e){const n=k0(e);for(const s of i.elements)n.some(o=>Ri(o,s))||n.push(s);return{arrayValue:{values:n}}}class ru extends Hh{constructor(e){super(),this.elements=e}}function P0(i,e){let n=k0(e);for(const s of i.elements)n=n.filter(o=>!Ri(o,s));return{arrayValue:{values:n}}}class su extends Hh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function TE(i){return _t(i.integerValue||i.doubleValue)}function k0(i){return yp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.field=e,this.transform=n}}function lC(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof iu&&o instanceof iu||s instanceof ru&&o instanceof ru?lo(s.elements,o.elements,Ri):s instanceof su&&o instanceof su?Ri(s.Ie,o.Ie):s instanceof nu&&o instanceof nu}(i.transform,e.transform)}class uC{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Fh{}function U0(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new wp(i.key,Qn.none()):new cu(i.key,i.data,Qn.none());{const n=i.data,s=fn.empty();let o=new Mt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rs(i.key,s,new bn(o.toArray()),Qn.none())}}function cC(i,e,n){i instanceof cu?function(o,u,f){const m=o.value.clone(),p=AE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof rs?function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=AE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(j0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Kl(i,e,n,s){return i instanceof cu?function(u,f,m,p){if(!rh(u.precondition,f))return m;const g=u.value.clone(),E=bE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof rs?function(u,f,m,p){if(!rh(u.precondition,f))return m;const g=bE(u.fieldTransforms,p,f),E=f.data;return E.setAll(j0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function hC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=M0(s.transform,o||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function wE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&lo(s,o,(u,f)=>lC(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class cu extends Fh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends Fh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function j0(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function AE(i,e,n){const s=new Map;Ke(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,oC(f,m,n[o]))}return s}function bE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,aC(u,f,e))}return s}class wp extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fC extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=D0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=U0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,s)=>wE(n,s))&&lo(this.baseMutations,e.baseMutations,(n,s)=>wE(n,s))}}class Ap{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return nC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ap(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Be;function gC(i){switch(i){case te.OK:return Se();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se()}}function z0(i){if(i===void 0)return sr("GRPC error has no .code"),te.UNKNOWN;switch(i){case St.OK:return te.OK;case St.CANCELLED:return te.CANCELLED;case St.UNKNOWN:return te.UNKNOWN;case St.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case St.INTERNAL:return te.INTERNAL;case St.UNAVAILABLE:return te.UNAVAILABLE;case St.UNAUTHENTICATED:return te.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case St.NOT_FOUND:return te.NOT_FOUND;case St.ALREADY_EXISTS:return te.ALREADY_EXISTS;case St.PERMISSION_DENIED:return te.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case St.ABORTED:return te.ABORTED;case St.OUT_OF_RANGE:return te.OUT_OF_RANGE;case St.UNIMPLEMENTED:return te.UNIMPLEMENTED;case St.DATA_LOSS:return te.DATA_LOSS;default:return Se()}}(Be=St||(St={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new $r([4294967295,4294967295],0);function SE(i){const e=o0().encode(i),n=new e0;return n.update(e),new Uint8Array(n.digest())}function RE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $r([n,s],0),new $r([o,u],0)]}class bp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=$r.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply($r.fromNumber(s)));return o.compare(yC)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=SE(e),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new bp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=SE(e),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gh(Ie.min(),o,new ct(Oe),ar(),Le())}}class hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class B0{constructor(e,n){this.targetId=e,this.ge=n}}class q0{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class IE{constructor(){this.pe=0,this.ye=CE(),this.we=$t.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),s=Le();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new hu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=CE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class _C{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ar(),this.$e=Yc(),this.Ue=Yc(),this.Ke=new ct(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Hm(u))if(s===0){const f=new ve(u.path);this.ze(n,f,Jt.newNoDocument(f,Ie.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Jr(s).toUint8Array()}catch(p){if(p instanceof h0)return oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new bp(f,o,u)}catch(p){return oo(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Hm(m.target)){const p=new ve(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Jt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Le();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Gh(e,n,this.Ke,this.Qe,s);return this.Qe=ar(),this.$e=Yc(),this.Ue=Yc(),this.Ke=new ct(Oe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new IE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Mt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Mt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new IE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new ct(ve.comparator)}function CE(){return new ct(ve.comparator)}const vC={asc:"ASCENDING",desc:"DESCENDING"},EC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TC={and:"AND",or:"OR"};class wC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(i,e){return i.useProto3Json||jh(e)?e:{value:e}}function Eh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H0(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function AC(i,e){return Eh(i,e.toTimestamp())}function Ti(i){return Ke(!!i),Ie.fromTimestamp(function(n){const s=Zr(n);return new xt(s.seconds,s.nanos)}(i))}function Sp(i,e){return $m(i,e).canonicalString()}function $m(i,e){const n=function(o){return new st(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function F0(i){const e=st.fromString(i);return Ke(Y0(e)),e}function Qm(i,e){return Sp(i.databaseId,e.path)}function Em(i,e){const n=F0(e);if(n.get(1)!==i.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(K0(n))}function G0(i,e){return Sp(i.databaseId,e)}function bC(i){const e=F0(i);return e.length===4?st.emptyPath():K0(e)}function Ym(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function K0(i){return Ke(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function NE(i,e,n){return{name:Qm(i,e),fields:n.value.mapValue.fields}}function SC(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string"),$t.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array),$t.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?te.UNKNOWN:z0(g.code);return new de(E,g.message||"")}(f);n=new q0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Em(i,s.document.name),u=Ti(s.document.updateTime),f=s.document.createTime?Ti(s.document.createTime):Ie.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new sh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Em(i,s.document),u=s.readTime?Ti(s.readTime):Ie.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Em(i,s.document),u=s.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new pC(o,u),m=s.targetId;n=new B0(m,f)}}return n}function RC(i,e){let n;if(e instanceof cu)n={update:NE(i,e.key,e.value)};else if(e instanceof wp)n={delete:Qm(i,e.key)};else if(e instanceof rs)n={update:NE(i,e.key,e.data),updateMask:PC(e.fieldMask)};else{if(!(e instanceof fC))return Se();n={verify:Qm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof nu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Se()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:AC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(i,e.precondition)),n}function IC(i,e){return i&&i.length>0?(Ke(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Ti(o.updateTime):Ti(u);return f.isEqual(Ie.min())&&(f=Ti(u)),new uC(f,o.transformResults||[])}(n,e))):[]}function CC(i,e){return{documents:[G0(i,e.path)]}}function NC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=G0(i,o);const u=function(g){if(g.length!==0)return Q0(Xn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Ja(S.field),direction:xC(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Km(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function DC(i){let e=bC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const S=$0(A);return S instanceof Xn&&T0(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(S=>function(k){return new tu(eo(k.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,jh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(A){const S=!!A.before,V=A.values||[];return new vh(V,S)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const S=!A.before,V=A.values||[];return new vh(V,S)}(n.endAt)),WI(e,o,f,u,m,"F",p,g)}function OC(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $0(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(i):i.fieldFilter!==void 0?function(n){return Rt.create(eo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>$0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(i):Se()}function xC(i){return vC[i]}function MC(i){return EC[i]}function VC(i){return TC[i]}function Ja(i){return{fieldPath:i.canonicalString()}}function eo(i){return Kt.fromServerFormat(i.fieldPath)}function Q0(i){return i instanceof Rt?function(n){if(n.op==="=="){if(gE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(pE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(pE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:MC(n.op),value:n.value}}}(i):i instanceof Xn?function(n){const s=n.getFilters().map(o=>Q0(o));return s.length===1?s[0]:{compositeFilter:{op:VC(n.op),filters:s}}}(i):Se()}function PC(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Y0(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,s,o,u=Ie.min(),f=Ie.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.Tt=e}}function LC(i){const e=DC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.Tn=new jC}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Wr.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class jC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(st.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X0=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(X0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ho(0)}static Kn(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="LruGarbageCollector",zC=1048576;function xE([i,e],[n,s]){const o=Oe(i,n);return o===0?Oe(e,s):o}class BC{constructor(e){this.Hn=e,this.buffer=new Mt(xE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(OE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?ce(OE,"Ignoring IndexedDB error during garbage collection: ",n):await _o(n)}await this.er(3e5)})}}class HC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Uh.ae);const s=new BC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(DE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Wa()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function FC(i,e){return new HC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Kl(s.mutation,o,bn.empty(),xt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=Gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=zl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ar();const f=Gl(),m=function(){return Gl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof rs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Kl(E.mutation,g,E.mutation.getFieldMask(),xt.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new KC(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Gl();let o=new ct((f,m)=>f-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||bn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=D0();E.forEach(S=>{if(!u.has(S)){const V=U0(n.get(S),s.get(S));V!==null&&A.set(S,V),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ve.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Gs());let m=Wl,p=u;return f.next(g=>ee.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(E=>({batchId:m,changes:N0(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=zl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(A,S){return new Eo(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))});let m=zl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Kl(E.mutation,g,bn.empty(),xt.now()),qh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:LC(o.bundledQuery),readTime:Ti(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.overlays=new ct(ve.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new ve(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Gs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Le(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.Vr=new Mt(jt.mr),this.gr=new Mt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ve(new st([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ve(new st([])),s=new jt(n,e),o=new jt(n,e+1);let u=Le();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ve.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(jt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?pp:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Oe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ve(u),0);let m=new Mt(Oe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),ee.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.kr=e,this.docs=function(){return new ct(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=ar();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ar();const f=n.path,m=new ve(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||NI(CI(E),s)<=0||(o.has(E.key)||qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new JC(this)}getSize(e){return ee.resolve(this.size)}}class JC extends GC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.persistence=e,this.Qr=new na(n=>_p(n),vp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Rp,this.targetCount=0,this.Kr=ho.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Uh(0),this.zr=!1,this.zr=!0,this.jr=new XC,this.referenceDelegate=e(this),this.Hr=new e1(this),this.indexManager=new UC,this.remoteDocumentCache=function(o){return new ZC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new kC(n),this.Yr=new QC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new WC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new t1(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class t1 extends OI{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.ti=new Rp,this.ni=null}static ri(e){return new Ip(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.oi=new na(s=>VI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=FC(this,n)}static ri(e,n){return new Th(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ie.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return XS()?8:xI(en())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new n1;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Wa()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Wa()<=ke.DEBUG&&ce("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Wa()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(n))):ee.resolve())}rs(e,n){if(EE(n))return ee.resolve(null);let s=Ei(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Gm(n,null,"F"),s=Ei(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Gm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return EE(n)||o.isEqual(Ie.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ee.resolve(null):(Wa()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.hs(e,f,n,II(o,Wl)).next(m=>m))})}cs(e,n){let s=new Mt(I0(e));return n.forEach((o,u)=>{qh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Wa()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ns.getDocumentsMatchingQuery(e,n,Wr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="LocalStore",r1=3e8;class s1{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ct(Oe),this.Is=new na(u=>_p(u),vp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $C(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function a1(i,e,n,s){return new s1(i,e,n,s)}async function Z0(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Le();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function o1(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,S=A.keys();let V=ee.resolve();return S.forEach(k=>{V=V.next(()=>E.getEntry(p,k)).next(Q=>{const H=g.docVersions.get(k);Ke(H!==null),Q.version.compareTo(H)<0&&(A.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function J0(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function l1(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let V=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?V=V.withResumeToken($t.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(A,V),function(Q,H,X){return Q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=r1?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(S,V,E)&&m.push(n.Hr.updateTargetData(u,V))});let p=ar(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(u1(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ie.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function u1(i,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ar();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Np,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function c1(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function h1(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Hr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Xm(i,e,n){const s=Ce(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!vo(f))throw f;ce(Np,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function ME(i,e,n){const s=Ce(i);let o=Ie.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=Ce(p),S=A.Is.get(E);return S!==void 0?ee.resolve(A.Ts.get(S)):A.Hr.getTargetData(g,E)}(s,f,Ei(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Ie.min(),n?u:Le())).next(m=>(f1(s,JI(e),m),{documents:m,gs:u})))}function f1(i,e,n){let s=i.Es.get(e)||Ie.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class VE{constructor(){this.activeTargetIds=sC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d1{constructor(){this.ho=new VE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new VE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="ConnectivityMonitor";class kE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(PE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(PE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Wm(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="RestConnection",p1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Wm(),m=this.bo(e,n.toUriEncodedString());ce(Tm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ce(Tm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw oo(Tm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=p1[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class _1 extends g1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Wm();return new Promise((f,m)=>{const p=new t0;p.setWithCredentials(!0),p.listenOnce(n0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case th.NO_ERROR:const E=p.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case th.TIMEOUT:ce(Wt,`RPC '${e}' ${u} timed out`),m(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const A=p.getStatus();if(ce(Wt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const V=S==null?void 0:S.error;if(V&&V.status&&V.message){const k=function(H){const X=H.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(X)>=0?X:te.UNKNOWN}(V.status);m(new de(k,V.message))}else m(new de(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(te.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ce(Wt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(Wt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Wm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=s0(),m=r0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let S=!1,V=!1;const k=new y1({Fo:H=>{V?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(S||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,H),A.send(H))},Mo:()=>A.close()}),Q=(H,X,se)=>{H.listen(X,ne=>{try{se(ne)}catch(pe){setTimeout(()=>{throw pe},0)}})};return Q(A,jl.EventType.OPEN,()=>{V||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),Q(A,jl.EventType.CLOSE,()=>{V||(V=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),k.Uo())}),Q(A,jl.EventType.ERROR,H=>{V||(V=!0,oo(Wt,`RPC '${e}' stream ${o} transport errored:`,H),k.Uo(new de(te.UNAVAILABLE,"The operation could not be completed")))}),Q(A,jl.EventType.MESSAGE,H=>{var X;if(!V){const se=H.data[0];Ke(!!se);const ne=se,pe=(ne==null?void 0:ne.error)||((X=ne[0])===null||X===void 0?void 0:X.error);if(pe){ce(Wt,`RPC '${e}' stream ${o} received error:`,pe);const he=pe.status;let fe=function(R){const D=St[R];if(D!==void 0)return z0(D)}(he),O=pe.message;fe===void 0&&(fe=te.INTERNAL,O="Unknown error status: "+he+" with message "+pe.message),V=!0,k.Uo(new de(fe,O)),A.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,se),k.Ko(se)}}),Q(m,i0.STAT_EVENT,H=>{H.stat===Um.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Um.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(i){return new wC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="PersistentStream";class tw{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ew(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(LE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ce(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v1 extends tw{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=SC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ie.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?Ti(f.readTime):Ie.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Ym(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Hm(p)?{documents:CC(u,p)}:{query:NC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=H0(u,f.resumeToken);const g=Km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const g=Km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=OC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.I_(n)}}class E1 extends tw{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=IC(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Ym(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>RC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{}class w1 extends T1{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,$m(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(te.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,$m(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(te.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class A1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sr(n),this.N_=!1):ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class b1{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ia(this)&&(ce(Qs,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.W_.add(4),await fu(g),g.j_.set("Unknown"),g.W_.delete(4),await $h(g)}(this))})}),this.j_=new A1(s,o)}}async function $h(i){if(ia(i))for(const e of i.G_)await e(!0)}async function fu(i){for(const e of i.G_)await e(!1)}function nw(i,e){const n=Ce(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Mp(n)?xp(n):To(n).c_()&&Op(n,e))}function Dp(i,e){const n=Ce(i),s=To(n);n.K_.delete(e),s.c_()&&iw(n,e),n.K_.size===0&&(s.c_()?s.P_():ia(n)&&n.j_.set("Unknown"))}function Op(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(i).y_(e)}function iw(i,e){i.H_.Ne(e),To(i).w_(e)}function xp(i){i.H_=new _C({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),To(i).start(),i.j_.B_()}function Mp(i){return ia(i)&&!To(i).u_()&&i.K_.size>0}function ia(i){return Ce(i).W_.size===0}function rw(i){i.H_=void 0}async function S1(i){i.j_.set("Online")}async function R1(i){i.K_.forEach((e,n)=>{Op(i,e)})}async function I1(i,e){rw(i),Mp(i)?(i.j_.q_(e),xp(i)):i.j_.set("Unknown")}async function C1(i,e,n){if(i.j_.set("Online"),e instanceof q0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ce(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wh(i,s)}else if(e instanceof sh?i.H_.We(e):e instanceof B0?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ie.min()))try{const s=await J0(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),iw(u,p);const A=new Hr(E.target,p,g,E.sequenceNumber);Op(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(Qs,"Failed to raise snapshot:",s),await wh(i,s)}}async function wh(i,e,n){if(!vo(e))throw e;i.W_.add(1),await fu(i),i.j_.set("Offline"),n||(n=()=>J0(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(Qs,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await $h(i)})}function sw(i,e){return e().catch(n=>wh(i,n,e))}async function Qh(i){const e=Ce(i),n=ts(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:pp;for(;N1(e);)try{const o=await c1(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,D1(e,o)}catch(o){await wh(e,o)}aw(e)&&ow(e)}function N1(i){return ia(i)&&i.U_.length<10}function D1(i,e){i.U_.push(e);const n=ts(i);n.c_()&&n.S_&&n.b_(e.mutations)}function aw(i){return ia(i)&&!ts(i).u_()&&i.U_.length>0}function ow(i){ts(i).start()}async function O1(i){ts(i).C_()}async function x1(i){const e=ts(i);for(const n of i.U_)e.b_(n.mutations)}async function M1(i,e,n){const s=i.U_.shift(),o=Ap.from(s,e,n);await sw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Qh(i)}async function V1(i,e){e&&ts(i).S_&&await async function(s,o){if(function(f){return gC(f)&&f!==te.ABORTED}(o.code)){const u=s.U_.shift();ts(s).h_(),await sw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Qh(s)}}(i,e),aw(i)&&ow(i)}async function UE(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),ce(Qs,"RemoteStore received new credentials");const s=ia(n);n.W_.add(3),await fu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await $h(n)}async function P1(i,e){const n=Ce(i);e?(n.W_.delete(2),await $h(n)):e||(n.W_.add(2),await fu(n),n.j_.set("Unknown"))}function To(i){return i.J_||(i.J_=function(n,s,o){const u=Ce(n);return u.M_(),new v1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:S1.bind(null,i),No:R1.bind(null,i),Lo:I1.bind(null,i),p_:C1.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Mp(i)?xp(i):i.j_.set("Unknown")):(await i.J_.stop(),rw(i))})),i.J_}function ts(i){return i.Y_||(i.Y_=function(n,s,o){const u=Ce(n);return u.M_(),new E1(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:O1.bind(null,i),Lo:V1.bind(null,i),D_:x1.bind(null,i),v_:M1.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Qh(i)):(await i.Y_.stop(),i.U_.length>0&&(ce(Qs,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Vp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(i,e){if(sr("AsyncQueue",`${e}: ${i}`),vo(i))return new de(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=zl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.Z_=new ct(ve.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class fo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new fo(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class L1{constructor(){this.queries=zE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=zE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function zE(){return new na(i=>R0(i),Bh)}async function lw(i,e){const n=Ce(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new k1,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Pp(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&kp(n)}async function uw(i,e){const n=Ce(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function U1(i,e){const n=Ce(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&kp(n)}function j1(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function kp(i){i.ia.forEach(e=>{e.next()})}var Zm,BE;(BE=Zm||(Zm={}))._a="default",BE.Cache="cache";class cw{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.key=e}}class fw{constructor(e){this.key=e}}class z1{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=I0(e),this.wa=new io(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new jE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const S=o.get(E),V=qh(this.query,A)?A:null,k=!!S&&this.mutatedKeys.has(S.key),Q=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let H=!1;S&&V?S.data.isEqual(V.data)?k!==Q&&(s.track({type:3,doc:V}),H=!0):this.va(S,V)||(s.track({type:2,doc:V}),H=!0,(p&&this.ya(V,p)>0||g&&this.ya(V,g)<0)&&(m=!0)):!S&&V?(s.track({type:0,doc:V}),H=!0):S&&!V&&(s.track({type:1,doc:S}),H=!0,(p||g)&&(m=!0)),H&&(V?(f=f.add(V),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,A)=>function(V,k){const Q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return Q(V)-Q(k)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new fo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new jE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new fw(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new hw(s))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return fo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Lp="SyncEngine";class B1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class q1{constructor(e){this.key=e,this.Ba=!1}}class H1{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new na(m=>R0(m),Bh),this.qa=new Map,this.Qa=new Set,this.$a=new ct(ve.comparator),this.Ua=new Map,this.Ka=new Rp,this.Wa={},this.Ga=new Map,this.za=ho.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function F1(i,e,n=!0){const s=_w(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await dw(s,e,n,!0),o}async function G1(i,e){const n=_w(i);await dw(n,e,!0,!1)}async function dw(i,e,n,s){const o=await h1(i.localStore,Ei(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await K1(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&nw(i.remoteStore,o),m}async function K1(i,e,n,s,o){i.Ha=(A,S,V)=>async function(Q,H,X,se){let ne=H.view.ba(X);ne.ls&&(ne=await ME(Q.localStore,H.query,!1).then(({documents:O})=>H.view.ba(O,ne)));const pe=se&&se.targetChanges.get(H.targetId),he=se&&se.targetMismatches.get(H.targetId)!=null,fe=H.view.applyChanges(ne,Q.isPrimaryClient,pe,he);return HE(Q,H.targetId,fe.Ma),fe.snapshot}(i,A,S,V);const u=await ME(i.localStore,e,!0),f=new z1(e,u.gs),m=f.ba(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);HE(i,n,g.Ma);const E=new B1(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function $1(i,e,n){const s=Ce(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Bh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Xm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dp(s.remoteStore,o.targetId),Jm(s,o.targetId)}).catch(_o)):(Jm(s,o.targetId),await Xm(s.localStore,o.targetId,!0))}async function Q1(i,e){const n=Ce(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dp(n.remoteStore,s.targetId))}async function Y1(i,e,n){const s=nN(i);try{const o=await function(f,m){const p=Ce(f),g=xt.now(),E=m.reduce((V,k)=>V.add(k.key),Le());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let k=ar(),Q=Le();return p.ds.getEntries(V,E).next(H=>{k=H,k.forEach((X,se)=>{se.isValidDocument()||(Q=Q.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,k)).next(H=>{A=H;const X=[];for(const se of m){const ne=hC(se,A.get(se.key).overlayedDocument);ne!=null&&X.push(new rs(se.key,ne,_0(ne.value.mapValue),Qn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,X,m)}).next(H=>{S=H;const X=H.applyToLocalDocumentSet(A,Q);return p.documentOverlayCache.saveOverlays(V,H.batchId,X)})}).then(()=>({batchId:S.batchId,changes:N0(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new ct(Oe)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await du(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=Pp(o,"Failed to persist write");n.reject(u)}}async function mw(i,e){const n=Ce(i);try{const s=await l1(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await du(n,s,e)}catch(s){await _o(s)}}function qE(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const S of A.ta)S.sa(m)&&(g=!0)}),g&&kp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function X1(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new ct(ve.comparator);f=f.insert(u,Jt.newNoDocument(u,Ie.min()));const m=Le().add(u),p=new Gh(Ie.min(),new Map,new ct(Oe),f,m);await mw(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Up(s)}else await Xm(s.localStore,e,!1).then(()=>Jm(s,e,n)).catch(_o)}async function W1(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await o1(n.localStore,e);gw(n,s,null),pw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await _o(o)}}async function Z1(i,e,n){const s=Ce(i);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ke(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);gw(s,e,n),pw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await _o(o)}}function pw(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function gw(i,e,n){const s=Ce(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Jm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||yw(i,s)})}function yw(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Dp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Up(i))}function HE(i,e,n){for(const s of n)s instanceof hw?(i.Ka.addReference(s.key,e),J1(i,s)):s instanceof fw?(ce(Lp,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||yw(i,s.key)):Se()}function J1(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ce(Lp,"New document in limbo: "+n),i.Qa.add(s),Up(i))}function Up(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ve(st.fromString(e)),s=i.za.next();i.Ua.set(s,new q1(n)),i.$a=i.$a.insert(n,s),nw(i.remoteStore,new Hr(Ei(Ep(n.path)),s,"TargetPurposeLimboResolution",Uh.ae))}}async function du(i,e,n){const s=Ce(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Cp.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,S=>ee.forEach(S.Hi,V=>E.persistence.referenceDelegate.addReference(A,S.targetId,V)).next(()=>ee.forEach(S.Ji,V=>E.persistence.referenceDelegate.removeReference(A,S.targetId,V)))))}catch(A){if(!vo(A))throw A;ce(Np,"Failed to update sequence numbers: "+A)}for(const A of g){const S=A.targetId;if(!A.fromCache){const V=E.Ts.get(S),k=V.snapshotVersion,Q=V.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(S,Q)}}}(s.localStore,u))}async function eN(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){ce(Lp,"User change. New user:",e.toKey());const s=await Z0(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(te.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Rs)}}function tN(i,e){const n=Ce(i),s=n.Ua.get(e);if(s&&s.Ba)return Le().add(s.key);{let o=Le();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function _w(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=mw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X1.bind(null,e),e.La.p_=U1.bind(null,e.eventManager),e.La.Ja=j1.bind(null,e.eventManager),e}function nN(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z1.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return a1(this.persistence,new i1,e.initialUser,this.serializer)}Xa(e){return new W0(Ip.ri,this.serializer)}Za(e){return new d1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class iN extends Ah{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof Th);const s=this.persistence.referenceDelegate.garbageCollector;return new qC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new W0(s=>Th.ri(s,n),this.serializer)}}class ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eN.bind(null,this.syncEngine),await P1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L1}()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=function(u){return new _1(u)}(e.databaseInfo);return function(u,f,m,p){return new w1(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new b1(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>qE(this.syncEngine,n,0),function(){return kE.D()?new kE:new m1}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const A=new H1(o,u,f,m,p,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ce(o);ce(Qs,"RemoteStore shutting down."),u.W_.add(5),await fu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ep.provider={build:()=>new ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class rN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=l0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(ns,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(ns,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Pp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Am(i,e){i.asyncQueue.verifyOperationInProgress(),ce(ns,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Z0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function FE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await sN(i);ce(ns,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>UE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>UE(e.remoteStore,o)),i._onlineComponents=e}async function sN(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(ns,"Using user provided OfflineComponentProvider");try{await Am(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await Am(i,new Ah)}}else ce(ns,"Using default OfflineComponentProvider"),await Am(i,new iN(void 0));return i._offlineComponents}async function Ew(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(ns,"Using user provided OnlineComponentProvider"),await FE(i,i._uninitializedComponentsProvider._online)):(ce(ns,"Using default OnlineComponentProvider"),await FE(i,new ep))),i._onlineComponents}function aN(i){return Ew(i).then(e=>e.syncEngine)}async function tp(i){const e=await Ew(i),n=e.eventManager;return n.onListen=F1.bind(null,e.syncEngine),n.onUnlisten=$1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q1.bind(null,e.syncEngine),n}function oN(i,e,n={}){const s=new Qr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new vw({next:S=>{E.su(),f.enqueueAndForget(()=>uw(u,A)),S.fromCache&&p.source==="server"?g.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new cw(m,E,{includeMetadataChanges:!0,Ta:!0});return lw(u,A)}(await tp(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(i,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function lN(i,e,n,s){if(e===!0&&s===!0)throw new de(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function KE(i){if(!ve.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $E(i){if(ve.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Yh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function wi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(i);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="firestore.googleapis.com",QE=!0;class YE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Aw,this.ssl=QE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:QE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zC)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _I;switch(s.type){case"firstParty":return new wI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=GE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),GE.delete(n),s.terminate())}(this),Promise.resolve()}}function uN(i,e,n,s={}){var o;const u=(i=wi(i,Xh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Aw&&u.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Xr(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=FS(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(A)}i._authCredentials=new vI(new a0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class dn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Yr extends ss{constructor(e,n,s){super(e,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ve(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function Ji(i,e,...n){if(i=vt(i),ww("collection","path",e),i instanceof Xh){const s=st.fromString(e,...n);return $E(s),new Yr(i,null,s)}{if(!(i instanceof dn||i instanceof Yr))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return $E(s),new Yr(i.firestore,null,s)}}function mo(i,e,...n){if(i=vt(i),arguments.length===1&&(e=l0.newId()),ww("doc","path",e),i instanceof Xh){const s=st.fromString(e,...n);return KE(s),new dn(i,null,new ve(s))}{if(!(i instanceof dn||i instanceof Yr))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return KE(s),new dn(i.firestore,i instanceof Yr?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="AsyncQueue";class WE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ew(this,"async_queue_retry"),this.Su=()=>{const s=wm();s&&ce(XE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Qr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!vo(e))throw e;ce(XE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw sr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Vp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function ZE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Ys extends Xh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new WE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function cN(i,e){const n=typeof i=="object"?i:dp(),s=typeof i=="string"?i:yh,o=ta(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=qS("firestore");u&&uN(o,...u)}return o}function jp(i){if(i._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||hN(i),i._firestoreClient}function hN(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new LI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Tw(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new rN(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po($t.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^__.*__$/;class dN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class bw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Sw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class qp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new qp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Sw(this.Lu)&&fN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}ju(e,n,s,o=!1){return new qp({Lu:e,methodName:n,zu:s,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hp(i){const e=i._freezeSettings(),n=Kh(i._databaseId);return new mN(i._databaseId,!!e.ignoreUndefinedProperties,n)}function pN(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);Kp("Data must be an object, but it was:",f,s);const m=Rw(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=np(e,A,n);if(!f.contains(S))throw new de(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Cw(E,S)||E.push(S)}p=new bn(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new dN(new fn(m),p,g)}class Zh extends mu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}class Fp extends mu{_toFieldTransform(e){return new L0(e.path,new nu)}isEqual(e){return e instanceof Fp}}class Gp extends mu{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new su(e.serializer,x0(e.serializer,this.Ju));return new L0(e.path,n)}isEqual(e){return e instanceof Gp&&this.Ju===e.Ju}}function gN(i,e,n,s){const o=i.ju(1,e,n);Kp("Data must be an object, but it was:",o,s);const u=[],f=fn.empty();is(s,(p,g)=>{const E=$p(e,p,n);g=vt(g);const A=o.Uu(E);if(g instanceof Zh)u.push(E);else{const S=pu(g,A);S!=null&&(u.push(E),f.set(E,S))}});const m=new bn(u);return new bw(f,m,o.fieldTransforms)}function yN(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[np(e,s,n)],p=[o];if(u.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(np(e,u[S])),p.push(u[S+1]);const g=[],E=fn.empty();for(let S=m.length-1;S>=0;--S)if(!Cw(g,m[S])){const V=m[S];let k=p[S];k=vt(k);const Q=f.Uu(V);if(k instanceof Zh)g.push(V);else{const H=pu(k,Q);H!=null&&(g.push(V),E.set(V,H))}}const A=new bn(g);return new bw(E,A,f.fieldTransforms)}function _N(i,e,n,s=!1){return pu(n,i.ju(s?4:3,e))}function pu(i,e){if(Iw(i=vt(i)))return Kp("Unsupported field value:",e,i),Rw(i,e);if(i instanceof mu)return function(s,o){if(!Sw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=pu(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return x0(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xt.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof xt){const u=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof zp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof po)return{bytesValue:H0(o.serializer,s._byteString)};if(s instanceof dn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Sp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bp)return function(f,m){return{mapValue:{fields:{[g0]:{stringValue:y0},[_h]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Tp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Yh(s)}`)}(i,e)}function Rw(i,e){const n={};return c0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(i,(s,o)=>{const u=pu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Iw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof xt||i instanceof zp||i instanceof po||i instanceof dn||i instanceof mu||i instanceof Bp)}function Kp(i,e,n){if(!Iw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Yh(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function np(i,e,n){if((e=vt(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return $p(i,e);throw bh("Field path arguments must be of type string or ",i,!1,void 0,n)}const vN=new RegExp("[~\\*/\\[\\]]");function $p(i,e,n){if(e.search(vN)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function bh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(te.INVALID_ARGUMENT,m+i+p)}function Cw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EN extends Nw{data(){return super.data()}}function Jh(i,e){return typeof e=="string"?$p(i,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qp{}class Ow extends Qp{}function ah(i,e,...n){let s=[];e instanceof Qp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Yp).length,m=u.filter(p=>p instanceof ef).length;if(f>1||f>0&&m>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class ef extends Ow{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ef(e,n,s)}_apply(e){const n=this._parse(e);return xw(e._query,n),new ss(e.firestore,e.converter,Fm(e._query,n))}_parse(e){const n=Hp(e.firestore);return function(u,f,m,p,g,E,A){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){eT(A,E);const k=[];for(const Q of A)k.push(JE(p,u,Q));S={arrayValue:{values:k}}}else S=JE(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||eT(A,E),S=_N(m,f,A,E==="in"||E==="not-in");return Rt.create(g,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bm(i,e,n){const s=e,o=Jh("where",i);return ef._create(o,s,n)}class Yp extends Qp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)xw(f,p),f=Fm(f,p)}(e._query,n),new ss(e.firestore,e.converter,Fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xp extends Ow{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xp(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,f)}(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Eo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function TN(i,e="asc"){const n=e,s=Jh("orderBy",i);return Xp._create(s,n)}function JE(i,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S0(e)&&n.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!ve.isDocumentKey(s))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mE(i,new ve(s))}if(n instanceof dn)return mE(i,n._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function eT(i,e){if(!Array.isArray(i)||i.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xw(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wN{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return is(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[_h].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new Bp(u)}convertGeoPoint(e){return new zp(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Ke(Y0(s));const o=new Jl(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mw extends Nw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Jh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class oh extends Mw{data(e={}){return super.data(e)}}class Vw{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:bN(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}class Wp extends wN{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function $l(i){i=wi(i,ss);const e=wi(i.firestore,Ys),n=jp(e),s=new Wp(e);return Dw(i._query),oN(n,i._query).then(o=>new Vw(e,s,i,o))}function Pw(i,e,n,...s){i=wi(i,dn);const o=wi(i.firestore,Ys),u=Hp(o);let f;return f=typeof(e=vt(e))=="string"||e instanceof Wh?yN(u,"updateDoc",i._key,e,n,s):gN(u,"updateDoc",i._key,e),Jp(o,[f.toMutation(i._key,Qn.exists(!0))])}function Zp(i){return Jp(wi(i.firestore,Ys),[new wp(i._key,Qn.none())])}function ip(i,e){const n=wi(i.firestore,Ys),s=mo(i),o=AN(i.converter,e);return Jp(n,[pN(Hp(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then(()=>s)}function SN(i,...e){var n,s,o;i=vt(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||ZE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(ZE(e[f])){const A=e[f];e[f]=(n=A.next)===null||n===void 0?void 0:n.bind(A),e[f+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),e[f+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let p,g,E;if(i instanceof dn)g=wi(i.firestore,Ys),E=Ep(i._key.path),p={next:A=>{e[f]&&e[f](RN(g,i,A))},error:e[f+1],complete:e[f+2]};else{const A=wi(i,ss);g=wi(A.firestore,Ys),E=A._query;const S=new Wp(g);p={next:V=>{e[f]&&e[f](new Vw(g,S,A,V))},error:e[f+1],complete:e[f+2]},Dw(i._query)}return function(S,V,k,Q){const H=new vw(Q),X=new cw(V,H,k);return S.asyncQueue.enqueueAndForget(async()=>lw(await tp(S),X)),()=>{H.su(),S.asyncQueue.enqueueAndForget(async()=>uw(await tp(S),X))}}(jp(g),E,m,p)}function Jp(i,e){return function(s,o){const u=new Qr;return s.asyncQueue.enqueueAndForget(async()=>Y1(await aN(s),o,u)),u.promise}(jp(i),e)}function RN(i,e,n){const s=n.docs.get(e._key),o=new Wp(i);return new Mw(i,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}function tT(){return new Fp("serverTimestamp")}function Wc(i){return new Gp("increment",i)}(function(e,n=!0){(function(o){yo=o})(go),Si(new Yn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ys(new EI(s.getProvider("auth-internal")),new AI(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),jn(nE,iE,e),jn(nE,iE,"esm2017")})();const kw="@firebase/installations",eg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=1e4,Uw=`w:${eg}`,jw="FIS_v2",IN="https://firebaseinstallations.googleapis.com/v1",CN=60*60*1e3,NN="installations",DN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xs=new ea(NN,DN,ON);function zw(i){return i instanceof Jn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw({projectId:i}){return`${IN}/projects/${i}/installations`}function qw(i){return{token:i.token,requestStatus:2,expiresIn:MN(i.expiresIn),creationTime:Date.now()}}async function Hw(i,e){const s=(await e.json()).error;return Xs.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Fw({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function xN(i,{refreshToken:e}){const n=Fw(i);return n.append("Authorization",VN(e)),n}async function Gw(i){const e=await i();return e.status>=500&&e.status<600?i():e}function MN(i){return Number(i.replace("s","000"))}function VN(i){return`${jw} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=Bw(i),o=Fw(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:jw,appId:i.appId,sdkVersion:Uw},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await Gw(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:qw(g.authToken)}}else throw await Hw("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=/^[cdef][\w-]{21}$/,rp="";function UN(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=jN(i);return LN.test(n)?n:rp}catch{return rp}}function jN(i){return kN(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=new Map;function Qw(i,e){const n=tf(i);Yw(n,e),zN(n,e)}function Yw(i,e){const n=$w.get(i);if(n)for(const s of n)s(e)}function zN(i,e){const n=BN();n&&n.postMessage({key:i,fid:e}),qN()}let Ks=null;function BN(){return!Ks&&"BroadcastChannel"in self&&(Ks=new BroadcastChannel("[Firebase] FID Change"),Ks.onmessage=i=>{Yw(i.data.key,i.data.fid)}),Ks}function qN(){$w.size===0&&Ks&&(Ks.close(),Ks=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="firebase-installations-database",FN=1,Ws="firebase-installations-store";let Sm=null;function tg(){return Sm||(Sm=XT(HN,FN,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ws)}}})),Sm}async function Sh(i,e){const n=tf(i),o=(await tg()).transaction(Ws,"readwrite"),u=o.objectStore(Ws),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&Qw(i,e.fid),e}async function Xw(i){const e=tf(i),s=(await tg()).transaction(Ws,"readwrite");await s.objectStore(Ws).delete(e),await s.done}async function nf(i,e){const n=tf(i),o=(await tg()).transaction(Ws,"readwrite"),u=o.objectStore(Ws),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&Qw(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(i){let e;const n=await nf(i.appConfig,s=>{const o=GN(s),u=KN(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===rp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function GN(i){const e=i||{fid:UN(),registrationStatus:0};return Ww(e)}function KN(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Xs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=$N(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QN(i)}:{installationEntry:e}}async function $N(i,e){try{const n=await PN(i,e);return Sh(i.appConfig,n)}catch(n){throw zw(n)&&n.customData.serverCode===409?await Xw(i.appConfig):await Sh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function QN(i){let e=await nT(i.appConfig);for(;e.registrationStatus===1;)await Kw(100),e=await nT(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ng(i);return s||n}return e}function nT(i){return nf(i,e=>{if(!e)throw Xs.create("installation-not-found");return Ww(e)})}function Ww(i){return YN(i)?{fid:i.fid,registrationStatus:0}:i}function YN(i){return i.registrationStatus===1&&i.registrationTime+Lw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN({appConfig:i,heartbeatServiceProvider:e},n){const s=WN(i,n),o=xN(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:Uw,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await Gw(()=>fetch(s,m));if(p.ok){const g=await p.json();return qw(g)}else throw await Hw("Generate Auth Token",p)}function WN(i,{fid:e}){return`${Bw(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(i,e=!1){let n;const s=await nf(i.appConfig,u=>{if(!Zw(u))throw Xs.create("not-registered");const f=u.authToken;if(!e&&eD(f))return u;if(f.requestStatus===1)return n=ZN(i,e),u;{if(!navigator.onLine)throw Xs.create("app-offline");const m=nD(u);return n=JN(i,m),m}});return n?await n:s.authToken}async function ZN(i,e){let n=await iT(i.appConfig);for(;n.authToken.requestStatus===1;)await Kw(100),n=await iT(i.appConfig);const s=n.authToken;return s.requestStatus===0?ig(i,e):s}function iT(i){return nf(i,e=>{if(!Zw(e))throw Xs.create("not-registered");const n=e.authToken;return iD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function JN(i,e){try{const n=await XN(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await Sh(i.appConfig,s),n}catch(n){if(zw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Xw(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sh(i.appConfig,s)}throw n}}function Zw(i){return i!==void 0&&i.registrationStatus===2}function eD(i){return i.requestStatus===2&&!tD(i)}function tD(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+CN}function nD(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function iD(i){return i.requestStatus===1&&i.requestTime+Lw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(i){const e=i,{installationEntry:n,registrationPromise:s}=await ng(e);return s?s.catch(console.error):ig(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(i,e=!1){const n=i;return await aD(n),(await ig(n,e)).token}async function aD(i){const{registrationPromise:e}=await ng(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(i){if(!i||!i.options)throw Rm("App Configuration");if(!i.name)throw Rm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Rm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Rm(i){return Xs.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="installations",lD="installations-internal",uD=i=>{const e=i.getProvider("app").getImmediate(),n=oD(e),s=ta(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},cD=i=>{const e=i.getProvider("app").getImmediate(),n=ta(e,Jw).getImmediate();return{getId:()=>rD(n),getToken:o=>sD(n,o)}};function hD(){Si(new Yn(Jw,uD,"PUBLIC")),Si(new Yn(lD,cD,"PRIVATE"))}hD();jn(kw,eg);jn(kw,eg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="analytics",fD="firebase_id",dD="origin",mD=60*1e3,pD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new Lh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new ea("analytics","Analytics",gD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(i){if(!i.startsWith(rg)){const e=Sn.create("invalid-gtag-resource",{gtagURL:i});return mn.warn(e.message),""}return i}function eA(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function _D(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function vD(i,e){const n=_D("firebase-js-sdk-policy",{createScriptURL:yD}),s=document.createElement("script"),o=`${rg}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function ED(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function TD(i,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await eA(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){mn.error(m)}i("config",o,u)}async function wD(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await eA(n);for(const p of f){const g=m.find(A=>A.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){mn.error(u)}}function AD(i,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await wD(i,e,n,m,p)}else if(u==="config"){const[m,p]=f;await TD(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){mn.error(m)}}return o}function bD(i,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=AD(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function SD(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(rg)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=30,ID=1e3;class CD{constructor(e={},n=ID){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tA=new CD;function ND(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function DD(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:ND(s)},u=pD.replace("{app-id}",n),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function OD(i,e=tA,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Sn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Sn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new VD;return setTimeout(async()=>{m.abort()},mD),nA({appId:s,apiKey:o,measurementId:u},f,m,e)}async function nA(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=tA){var u;const{appId:f,measurementId:m}=i;try{await xD(s,e)}catch(p){if(m)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await DD(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!MD(g)){if(o.deleteThrottleMetadata(f),m)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?Kv(n,o.intervalMillis,RD):Kv(n,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(f,A),mn.debug(`Calling attemptFetch again in ${E} millis`),nA(i,A,s,o)}}function xD(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function MD(i){if(!(i instanceof Jn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class VD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function PD(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(){if(KT())try{await $T()}catch(i){return mn.warn(Sn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return mn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function LD(i,e,n,s,o,u,f){var m;const p=OD(i);p.then(V=>{n[V.measurementId]=V.appId,i.options.measurementId&&V.measurementId!==i.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>mn.error(V)),e.push(p);const g=kD().then(V=>{if(V)return s.getId()}),[E,A]=await Promise.all([p,g]);SD(u)||vD(u,E.measurementId),o("js",new Date);const S=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return S[dD]="firebase",S.update=!0,A!=null&&(S[fD]=A),o("config",E.measurementId,S),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.app=e}_delete(){return delete Ql[this.app.options.appId],Promise.resolve()}}let Ql={},rT=[];const sT={};let Im="dataLayer",jD="gtag",aT,iA,oT=!1;function zD(){const i=[];if(GT()&&i.push("This is a browser extension environment."),WS()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:e});mn.warn(n.message)}}function BD(i,e,n){zD();const s=i.options.appId;if(!s)throw Sn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(Ql[s]!=null)throw Sn.create("already-exists",{id:s});if(!oT){ED(Im);const{wrappedGtag:u,gtagCore:f}=bD(Ql,rT,sT,Im,jD);iA=u,aT=f,oT=!0}return Ql[s]=LD(i,rT,sT,e,aT,Im,n),new UD(i)}function qD(i=dp()){i=vt(i);const e=ta(i,Rh);return e.isInitialized()?e.getImmediate():HD(i)}function HD(i,e={}){const n=ta(i,Rh);if(n.isInitialized()){const o=n.getImmediate();if(Xr(e,n.getOptions()))return o;throw Sn.create("already-initialized")}return n.initialize({options:e})}function FD(i,e,n,s){i=vt(i),PD(iA,Ql[i.app.options.appId],e,n,s).catch(o=>mn.error(o))}const lT="@firebase/analytics",uT="0.10.12";function GD(){Si(new Yn(Rh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return BD(s,o,n)},"PUBLIC")),Si(new Yn("analytics-internal",i,"PRIVATE")),jn(lT,uT),jn(lT,uT,"esm2017");function i(e){try{const n=e.getProvider(Rh).getImmediate();return{logEvent:(s,o,u)=>FD(n,s,o,u)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}}}GD();const KD={apiKey:"AIzaSyCcU19CezeaWVKy_av4QHTBFNiPngIcRRA",authDomain:"showswatched2.firebaseapp.com",projectId:"showswatched2",storageBucket:"showswatched2.appspot.com",messagingSenderId:"936739771540",appId:"1:936739771540:web:2fcfeee905ff3f6fdd9081",measurementId:"G-DLKLNE1VQL"},sg=WT(KD),hn=cN(sg);qD(sg);var Pl={},cT;function $D(){if(cT)return Pl;cT=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=f,Pl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,V){const k=new u,Q=S.length;if(Q<2)return k;const H=(V==null?void 0:V.decode)||E;let X=0;do{const se=S.indexOf("=",X);if(se===-1)break;const ne=S.indexOf(";",X),pe=ne===-1?Q:ne;if(se>pe){X=S.lastIndexOf(";",se-1)+1;continue}const he=m(S,X,se),fe=p(S,se,he),O=S.slice(he,fe);if(k[O]===void 0){let b=m(S,se+1,pe),R=p(S,pe,b);const D=H(S.slice(b,R));k[O]=D}X=pe+1}while(X<Q);return k}function m(S,V,k){do{const Q=S.charCodeAt(V);if(Q!==32&&Q!==9)return V}while(++V<k);return k}function p(S,V,k){for(;V>k;){const Q=S.charCodeAt(--V);if(Q!==32&&Q!==9)return V+1}return k}function g(S,V,k){const Q=(k==null?void 0:k.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const H=Q(V);if(!e.test(H))throw new TypeError(`argument val is invalid: ${V}`);let X=S+"="+H;if(!k)return X;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);X+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);X+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);X+="; Path="+k.path}if(k.expires){if(!A(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);X+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(X+="; HttpOnly"),k.secure&&(X+="; Secure"),k.partitioned&&(X+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return X}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return o.call(S)==="[object Date]"}return Pl}$D();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hT="popstate";function QD(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return sp("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:au(o)}return XD(e,n,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Wn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YD(){return Math.random().toString(36).substring(2,10)}function fT(i,e){return{usr:i.state,key:i.key,idx:e}}function sp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?wo(e):e,state:n,key:e&&e.key||s||YD()}}function au({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function wo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function XD(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let H=E(),X=H==null?null:H-g;g=H,p&&p({action:m,location:Q.location,delta:X})}function S(H,X){m="PUSH";let se=sp(Q.location,H,X);g=E()+1;let ne=fT(se,g),pe=Q.createHref(se);try{f.pushState(ne,"",pe)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(pe)}u&&p&&p({action:m,location:Q.location,delta:1})}function V(H,X){m="REPLACE";let se=sp(Q.location,H,X);g=E();let ne=fT(se,g),pe=Q.createHref(se);f.replaceState(ne,"",pe),u&&p&&p({action:m,location:Q.location,delta:0})}function k(H){let X=o.location.origin!=="null"?o.location.origin:o.location.href,se=typeof H=="string"?H:au(H);return se=se.replace(/ $/,"%20"),lt(X,`No window.location.(origin|href) available to create URL for href: ${se}`),new URL(se,X)}let Q={get action(){return m},get location(){return i(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(hT,A),p=H,()=>{o.removeEventListener(hT,A),p=null}},createHref(H){return e(o,H)},createURL:k,encodeLocation(H){let X=k(H);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:S,replace:V,go(H){return f.go(H)}};return Q}function rA(i,e,n="/"){return WD(i,e,n,!1)}function WD(i,e,n,s){let o=typeof e=="string"?wo(e):e,u=or(o.pathname||"/",n);if(u==null)return null;let f=sA(i);ZD(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=uO(u);m=oO(f[p],g,s)}return m}function sA(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),sA(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:sO(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of aA(u.path))o(u,f,p)}),e}function aA(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=aA(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function ZD(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:aO(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var JD=/^:[\w-]+$/,eO=3,tO=2,nO=1,iO=10,rO=-2,dT=i=>i==="*";function sO(i,e){let n=i.split("/"),s=n.length;return n.some(dT)&&(s+=rO),e&&(s+=tO),n.filter(o=>!dT(o)).reduce((o,u)=>o+(JD.test(u)?eO:u===""?nO:iO),s)}function aO(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function oO(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=Ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:nr([u,A.pathname]),pathnameBase:dO(nr([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=nr([u,A.pathnameBase]))}return f}function Ih(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=lO(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},S)=>{if(E==="*"){let k=m[S]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const V=m[S];return A&&!V?g[E]=void 0:g[E]=(V||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function lO(i,e=!1,n=!0){Wn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function uO(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function or(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function cO(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?wo(i):i;return{pathname:n?n.startsWith("/")?n:hO(n,e):e,search:mO(s),hash:pO(o)}}function hO(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Cm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fO(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ag(i){let e=fO(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function og(i,e,n,s=!1){let o;typeof i=="string"?o=wo(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),Cm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Cm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Cm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?e[A]:"/"}let p=cO(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var nr=i=>i.join("/").replace(/\/\/+/g,"/"),dO=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),mO=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,pO=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function gO(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var oA=["POST","PUT","PATCH","DELETE"];new Set(oA);var yO=["GET",...oA];new Set(yO);var Ao=B.createContext(null);Ao.displayName="DataRouter";var rf=B.createContext(null);rf.displayName="DataRouterState";var lA=B.createContext({isTransitioning:!1});lA.displayName="ViewTransition";var _O=B.createContext(new Map);_O.displayName="Fetchers";var vO=B.createContext(null);vO.displayName="Await";var ei=B.createContext(null);ei.displayName="Navigation";var gu=B.createContext(null);gu.displayName="Location";var Ii=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var lg=B.createContext(null);lg.displayName="RouteError";function EO(i,{relative:e}={}){lt(bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(ei),{hash:o,pathname:u,search:f}=_u(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function bo(){return B.useContext(gu)!=null}function as(){return lt(bo(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(gu).location}var uA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cA(i){B.useContext(ei).static||B.useLayoutEffect(i)}function yu(){let{isDataRoute:i}=B.useContext(Ii);return i?MO():TO()}function TO(){lt(bo(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(Ao),{basename:e,navigator:n}=B.useContext(ei),{matches:s}=B.useContext(Ii),{pathname:o}=as(),u=JSON.stringify(ag(s)),f=B.useRef(!1);return cA(()=>{f.current=!0}),B.useCallback((p,g={})=>{if(Wn(f.current,uA),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=og(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:nr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}B.createContext(null);function _u(i,{relative:e}={}){let{matches:n}=B.useContext(Ii),{pathname:s}=as(),o=JSON.stringify(ag(n));return B.useMemo(()=>og(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function wO(i,e){return hA(i,e)}function hA(i,e,n,s){var se;lt(bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=B.useContext(ei),{matches:f}=B.useContext(Ii),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let ne=A&&A.path||"";fA(g,!A||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let S=as(),V;if(e){let ne=typeof e=="string"?wo(e):e;lt(E==="/"||((se=ne.pathname)==null?void 0:se.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),V=ne}else V=S;let k=V.pathname||"/",Q=k;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");Q="/"+k.replace(/^\//,"").split("/").slice(ne.length).join("/")}let H=!u&&n&&n.matches&&n.matches.length>0?n.matches:rA(i,{pathname:Q});Wn(A||H!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Wn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=IO(H&&H.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:nr([E,o.encodeLocation?o.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:nr([E,o.encodeLocation?o.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),f,n,s);return e&&X?B.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},X):X}function AO(){let i=xO(),e=gO(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var bO=B.createElement(AO,null),SO=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?B.createElement(Ii.Provider,{value:this.props.routeContext},B.createElement(lg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RO({routeContext:i,match:e,children:n}){let s=B.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ii.Provider,{value:i},n)}function IO(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,S=!1,V=null,k=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,V=g.route.errorElement||bO,f&&(m<0&&E===0?(fA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,k=null):m===E&&(S=!0,k=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),H=()=>{let X;return A?X=V:S?X=k:g.route.Component?X=B.createElement(g.route.Component,null):g.route.element?X=g.route.element:X=p,B.createElement(RO,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:X})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?B.createElement(SO,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:H(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):H()},null)}function ug(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CO(i){let e=B.useContext(Ao);return lt(e,ug(i)),e}function NO(i){let e=B.useContext(rf);return lt(e,ug(i)),e}function DO(i){let e=B.useContext(Ii);return lt(e,ug(i)),e}function cg(i){let e=DO(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function OO(){return cg("useRouteId")}function xO(){var s;let i=B.useContext(lg),e=NO("useRouteError"),n=cg("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function MO(){let{router:i}=CO("useNavigate"),e=cg("useNavigate"),n=B.useRef(!1);return cA(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Wn(n.current,uA),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var mT={};function fA(i,e,n){!e&&!mT[i]&&(mT[i]=!0,Wn(!1,n))}B.memo(VO);function VO({routes:i,future:e,state:n}){return hA(i,void 0,n,e)}function hg({to:i,replace:e,state:n,relative:s}){lt(bo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ei);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Ii),{pathname:f}=as(),m=yu(),p=og(i,ag(u),f,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function to(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PO({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=wo(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:S="default"}=n,V=B.useMemo(()=>{let k=or(p,f);return k==null?null:{location:{pathname:k,search:g,hash:E,state:A,key:S},navigationType:s}},[f,p,g,E,A,S,s]);return Wn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:B.createElement(ei.Provider,{value:m},B.createElement(gu.Provider,{children:e,value:V}))}function kO({children:i,location:e}){return wO(ap(i),e)}function ap(i,e=[]){let n=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,ap(s.props.children,u));return}lt(s.type===to,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=ap(s.props.children,u)),n.push(f)}),n}var lh="get",uh="application/x-www-form-urlencoded";function sf(i){return i!=null&&typeof i.tagName=="string"}function LO(i){return sf(i)&&i.tagName.toLowerCase()==="button"}function UO(i){return sf(i)&&i.tagName.toLowerCase()==="form"}function jO(i){return sf(i)&&i.tagName.toLowerCase()==="input"}function zO(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function BO(i,e){return i.button===0&&(!e||e==="_self")&&!zO(i)}var Zc=null;function qO(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var HO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(i){return i!=null&&!HO.has(i)?(Wn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):i}function FO(i,e){let n,s,o,u,f;if(UO(i)){let m=i.getAttribute("action");s=m?or(m,e):null,n=i.getAttribute("method")||lh,o=Nm(i.getAttribute("enctype"))||uh,u=new FormData(i)}else if(LO(i)||jO(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?or(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||lh,o=Nm(i.getAttribute("formenctype"))||Nm(m.getAttribute("enctype"))||uh,u=new FormData(m,i),!qO()){let{name:g,type:E,value:A}=i;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,A)}}else{if(sf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=uh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function fg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function GO(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KO(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $O(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await GO(u,n);return f.links?f.links():[]}return[]}));return WO(s.flat(1).filter(KO).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pT(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function QO(i,e,{includeHydrateFallback:n}={}){return YO(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function YO(i){return[...new Set(i)]}function XO(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function WO(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(XO(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var ZO=new Set([100,101,204,205]);function JO(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&or(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dA(){let i=B.useContext(Ao);return fg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function e2(){let i=B.useContext(rf);return fg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var dg=B.createContext(void 0);dg.displayName="FrameworkContext";function mA(){let i=B.useContext(dg);return fg(i,"You must render this element inside a <HydratedRouter> element"),i}function t2(i,e){let n=B.useContext(dg),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,S=B.useRef(null);B.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=X=>{X.forEach(se=>{f(se.isIntersecting)})},H=new IntersectionObserver(Q,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[i]),B.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let V=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:kl(m,V),onBlur:kl(p,k),onMouseEnter:kl(g,V),onMouseLeave:kl(E,k),onTouchStart:kl(A,V)}]:[!1,S,{}]}function kl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function n2({page:i,...e}){let{router:n}=dA(),s=B.useMemo(()=>rA(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(r2,{page:i,matches:s,...e}):null}function i2(i){let{manifest:e,routeModules:n}=mA(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return $O(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function r2({page:i,matches:e,...n}){let s=as(),{manifest:o,routeModules:u}=mA(),{basename:f}=dA(),{loaderData:m,matches:p}=e2(),g=B.useMemo(()=>pT(i,e,p,o,s,"data"),[i,e,p,o,s]),E=B.useMemo(()=>pT(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let k=new Set,Q=!1;if(e.forEach(X=>{var ne;let se=o.routes[X.route.id];!se||!se.hasLoader||(!g.some(pe=>pe.route.id===X.route.id)&&X.route.id in m&&((ne=u[X.route.id])!=null&&ne.shouldRevalidate)||se.hasClientLoader?Q=!0:k.add(X.route.id))}),k.size===0)return[];let H=JO(i,f);return Q&&k.size>0&&H.searchParams.set("_routes",e.filter(X=>k.has(X.route.id)).map(X=>X.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,g,e,i,u]),S=B.useMemo(()=>QO(E,o),[E,o]),V=i2(E);return B.createElement(B.Fragment,null,A.map(k=>B.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),S.map(k=>B.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),V.map(({key:k,link:Q})=>B.createElement("link",{key:k,...Q})))}function s2(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pA&&(window.__reactRouterVersion="7.5.1")}catch{}function a2({basename:i,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=QD({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(PO,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var gA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mg=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...S},V){let{basename:k}=B.useContext(ei),Q=typeof g=="string"&&gA.test(g),H,X=!1;if(typeof g=="string"&&Q&&(H=g,pA))try{let R=new URL(window.location.href),D=g.startsWith("//")?new URL(R.protocol+g):new URL(g),M=or(D.pathname,k);D.origin===R.origin&&M!=null?g=M+D.search+D.hash:X=!0}catch{Wn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=EO(g,{relative:o}),[ne,pe,he]=t2(s,S),fe=c2(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function O(R){e&&e(R),R.defaultPrevented||fe(R)}let b=B.createElement("a",{...S,...he,href:H||se,onClick:X||u?e:O,ref:s2(V,pe),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ne&&!Q?B.createElement(B.Fragment,null,b,B.createElement(n2,{page:se})):b});mg.displayName="Link";var o2=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=_u(f,{relative:g.relative}),S=as(),V=B.useContext(rf),{navigator:k,basename:Q}=B.useContext(ei),H=V!=null&&p2(A)&&m===!0,X=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,se=S.pathname,ne=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(se=se.toLowerCase(),ne=ne?ne.toLowerCase():null,X=X.toLowerCase()),ne&&Q&&(ne=or(ne,Q)||ne);const pe=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let he=se===X||!o&&se.startsWith(X)&&se.charAt(pe)==="/",fe=ne!=null&&(ne===X||!o&&ne.startsWith(X)&&ne.charAt(X.length)==="/"),O={isActive:he,isPending:fe,isTransitioning:H},b=he?e:void 0,R;typeof s=="function"?R=s(O):R=[s,he?"active":null,fe?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(O):u;return B.createElement(mg,{...g,"aria-current":b,className:R,ref:E,style:D,to:f,viewTransition:m},typeof p=="function"?p(O):p)});o2.displayName="NavLink";var l2=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=lh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...S},V)=>{let k=d2(),Q=m2(m,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&gA.test(m),se=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let pe=ne.nativeEvent.submitter,he=(pe==null?void 0:pe.getAttribute("formmethod"))||f;k(pe||ne.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return B.createElement("form",{ref:V,method:H,action:Q,onSubmit:s?p:se,...S,"data-discover":!X&&i==="render"?"true":void 0})});l2.displayName="Form";function u2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yA(i){let e=B.useContext(Ao);return lt(e,u2(i)),e}function c2(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=yu(),p=as(),g=_u(i,{relative:u});return B.useCallback(E=>{if(BO(E,e)){E.preventDefault();let A=n!==void 0?n:au(p)===au(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var h2=0,f2=()=>`__${String(++h2)}__`;function d2(){let{router:i}=yA("useSubmit"),{basename:e}=B.useContext(ei),n=OO();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=FO(s,e);if(o.navigate===!1){let E=o.fetcherKey||f2();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function m2(i,{relative:e}={}){let{basename:n}=B.useContext(ei),s=B.useContext(Ii);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._u(i||".",{relative:e})},f=as();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),au(u)}function p2(i,e={}){let n=B.useContext(lA);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=yA("useViewTransitionState"),o=_u(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=or(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ih(o.pathname,f)!=null||Ih(o.pathname,u)!=null}new TextEncoder;[...ZO];var g2=UT();const y2=LT(g2);function pg(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function _A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _2=_A,vA=new ea("auth","Firebase",_A());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Lh("@firebase/auth");function v2(i,...e){Ch.logLevel<=ke.WARN&&Ch.warn(`Auth (${go}): ${i}`,...e)}function ch(i,...e){Ch.logLevel<=ke.ERROR&&Ch.error(`Auth (${go}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,...e){throw gg(i,...e)}function Ai(i,...e){return gg(i,...e)}function EA(i,e,n){const s=Object.assign(Object.assign({},_2()),{[e]:n});return new ea("auth","Firebase",s).create(e,{appName:i.name})}function ir(i){return EA(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return vA.create(i,...e)}function Ae(i,e,...n){if(!i)throw gg(e,...n)}function er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ch(e),new Error(e)}function lr(i,e){i||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function E2(){return gT()==="http:"||gT()==="https:"}function gT(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E2()||GT()||"connection"in navigator)?navigator.onLine:!0}function w2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=GS()||QS()}get(){return T2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i,e){lr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],S2=new vu(3e4,6e4);function os(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ls(i,e,n,s,o={}){return wA(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=uu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return $S()||(g.referrerPolicy="no-referrer"),TA.fetch()(await AA(i,i.config.apiHost,n,m),g)})}async function wA(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},A2),e);try{const o=new I2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Jc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Jc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Jc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw EA(i,E,g);Zn(i,E)}}catch(o){if(o instanceof Jn)throw o;Zn(i,"network-request-failed",{message:String(o)})}}async function Eu(i,e,n,s,o={}){const u=await ls(i,e,n,s,o);return"mfaPendingCredential"in u&&Zn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function AA(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?yg(i.config,o):`${i.config.apiScheme}://${o}`;return b2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function R2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class I2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),S2.get())})}}function Jc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ai(i,e,s);return o.customData._tokenResponse=n,o}function yT(i){return i!==void 0&&i.enterprise!==void 0}class C2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return R2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function N2(i,e){return ls(i,"GET","/v2/recaptchaConfig",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(i,e){return ls(i,"POST","/v1/accounts:delete",e)}async function Nh(i,e){return ls(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O2(i,e=!1){const n=vt(i),s=await n.getIdToken(e),o=_g(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Yl(Dm(o.auth_time)),issuedAtTime:Yl(Dm(o.iat)),expirationTime:Yl(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(i){return Number(i)*1e3}function _g(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=BT(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _T(i){const e=_g(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Jn&&x2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function x2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await ou(i,Nh(n,{idToken:s}));Ae(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?bA(u.providerUserInfo):[],m=P2(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new lp(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,A)}async function V2(i){const e=vt(i);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function bA(i){return i.map(e=>{var{providerId:n}=e,s=pg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(i,e){const n=await wA(i,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await AA(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",TA.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L2(i,e){return ls(i,"POST","/v2/accounts:revokeToken",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_T(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=_T(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await k2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ro;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class $n{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new M2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new lp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O2(this,e)}reload(){return V2(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await ou(this,D2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,X=(g=n.createdAt)!==null&&g!==void 0?g:void 0,se=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:pe,isAnonymous:he,providerData:fe,stsTokenManager:O}=n;Ae(ne&&O,e,"internal-error");const b=ro.fromJSON(this.name,O);Ae(typeof ne=="string",e,"internal-error"),Ur(A,e.name),Ur(S,e.name),Ae(typeof pe=="boolean",e,"internal-error"),Ae(typeof he=="boolean",e,"internal-error"),Ur(V,e.name),Ur(k,e.name),Ur(Q,e.name),Ur(H,e.name),Ur(X,e.name),Ur(se,e.name);const R=new $n({uid:ne,auth:e,email:S,emailVerified:pe,displayName:A,isAnonymous:he,photoURL:k,phoneNumber:V,tenantId:Q,stsTokenManager:b,createdAt:X,lastLoginAt:se});return fe&&Array.isArray(fe)&&(R.providerData=fe.map(D=>Object.assign({},D))),H&&(R._redirectEventId=H),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new ro;o.updateFromServerResponse(n);const u=new $n({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ro;m.updateFromIdToken(s);const p=new $n({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;function tr(i){lr(i instanceof Function,"Expected a class definition");let e=vT.get(i);return e?(lr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,vT.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SA.type="NONE";const ET=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(i,e,n){return`firebase:${i}:${e}:${n}`}class so{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,e):null}return $n._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new so(tr(ET),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||tr(ET);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const S=await Nh(e,{idToken:E}).catch(()=>{});if(!S)break;A=await $n._fromGetAccountInfoResponse(e,S,E)}else A=$n._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new so(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OA(e))return"Blackberry";if(xA(e))return"Webos";if(IA(e))return"Safari";if((e.includes("chrome/")||CA(e))&&!e.includes("edge/"))return"Chrome";if(DA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function RA(i=en()){return/firefox\//i.test(i)}function IA(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CA(i=en()){return/crios\//i.test(i)}function NA(i=en()){return/iemobile/i.test(i)}function DA(i=en()){return/android/i.test(i)}function OA(i=en()){return/blackberry/i.test(i)}function xA(i=en()){return/webos/i.test(i)}function vg(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function U2(i=en()){var e;return vg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function j2(){return YS()&&document.documentMode===10}function MA(i=en()){return vg(i)||DA(i)||xA(i)||OA(i)||/windows phone/i.test(i)||NA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(i,e=[]){let n;switch(i){case"Browser":n=TT(en());break;case"Worker":n=`${TT(en())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(i,e={}){return ls(i,"GET","/v2/passwordPolicy",os(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=6;class H2{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:q2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wT(this),this.idTokenSubscription=new wT(this),this.beforeStateQueue=new z2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),s=await $n._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=w2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(ir(this));const n=e?vt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await B2(this),n=new H2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ea("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await L2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&v2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ra(i){return vt(i)}class wT{constructor(e){this.auth=e,this.observer=null,this.addObserver=nR(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G2(i){af=i}function PA(i){return af.loadJS(i)}function K2(){return af.recaptchaEnterpriseScript}function $2(){return af.gapiScript}function Q2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Y2{constructor(){this.enterprise=new X2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class X2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const W2="recaptcha-enterprise",kA="NO_RECAPTCHA";class Z2{constructor(e){this.type=W2,this.auth=ra(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{N2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new C2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;yT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(kA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&yT(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=K2();p.length!==0&&(p+=m),PA(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function AT(i,e,n,s=!1,o=!1){const u=new Z2(i);let f;if(o)f=kA;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function up(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await AT(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await AT(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(i,e){const n=ta(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xr(u,e??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:e})}function ex(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function tx(i,e,n){const s=ra(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=LA(e),{host:f,port:m}=nx(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Xr(g,s.config.emulator)&&Xr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ix()}function LA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function nx(i){const e=LA(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:bT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:bT(f)}}}function bT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function ix(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function rx(i,e){return ls(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(i,e){return Eu(i,"POST","/v1/accounts:signInWithPassword",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(i,e){return Eu(i,"POST","/v1/accounts:signInWithEmailLink",os(i,e))}async function ox(i,e){return Eu(i,"POST","/v1/accounts:signInWithEmailLink",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Eg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new lu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new lu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,n,"signInWithPassword",sx);case"emailLink":return ax(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,s,"signUpPassword",rx);case"emailLink":return ox(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(i,e){return Eu(i,"POST","/v1/accounts:signInWithIdp",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="http://localhost";class Zs extends Eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=pg(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:lx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cx(i){const e=Ll(Ul(i)).link,n=e?Ll(Ul(e)).deep_link_id:null,s=Ll(Ul(i)).deep_link_id;return(s?Ll(Ul(s)).link:null)||s||n||e||i}class Tg{constructor(e){var n,s,o,u,f,m;const p=Ll(Ul(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=ux((o=p.mode)!==null&&o!==void 0?o:null);Ae(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=cx(e);try{return new Tg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,n){return lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Tg.parseLink(n);return Ae(s,"argument-error"),lu._fromEmailAndCode(e,s.code,s.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends UA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Tu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Tu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Tu{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(i,e){return Eu(i,"POST","/v1/accounts:signUp",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await $n._fromIdTokenResponse(e,s,o),f=ST(s);return new Js({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=ST(s);return new Js({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function ST(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Jn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Oh(e,n,s,o)}}function jA(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(i,u,e,s):u})}async function fx(i,e,n=!1){const s=await ou(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Js._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(i,e,n=!1){const{auth:s}=i;if(Un(s.app))return Promise.reject(ir(s));const o="reauthenticate";try{const u=await ou(i,jA(s,o,e,i),n);Ae(u.idToken,s,"internal-error");const f=_g(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(i.uid===m,s,"user-mismatch"),Js._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(i,e,n=!1){if(Un(i.app))return Promise.reject(ir(i));const s="signIn",o=await jA(i,s,e),u=await Js._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function mx(i,e){return zA(ra(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(i){const e=ra(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function px(i,e,n){if(Un(i.app))return Promise.reject(ir(i));const s=ra(i),f=await up(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&BA(i),p}),m=await Js._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function gx(i,e,n){return Un(i.app)?Promise.reject(ir(i)):mx(vt(i),So.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&BA(i),s})}function yx(i,e,n,s){return vt(i).onIdTokenChanged(e,n,s)}function _x(i,e,n){return vt(i).beforeAuthStateChanged(e,n)}function vx(i,e,n,s){return vt(i).onAuthStateChanged(e,n,s)}function Ex(i){return vt(i).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=1e3,wx=10;class HA extends qA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);j2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Tx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HA.type="LOCAL";const Ax=HA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA extends qA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FA.type="SESSION";const GA=FA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new of(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await bx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=wg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function Rx(i){bi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function Ix(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cx(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Nx(){return KA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firebaseLocalStorageDb",Dx=1,Mh="firebaseLocalStorage",QA="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lf(i,e){return i.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function Ox(){const i=indexedDB.deleteDatabase($A);return new wu(i).toPromise()}function cp(){const i=indexedDB.open($A,Dx);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Mh,{keyPath:QA})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Mh)?e(s):(s.close(),await Ox(),e(await cp()))})})}async function RT(i,e,n){const s=lf(i,!0).put({[QA]:e,value:n});return new wu(s).toPromise()}async function xx(i,e){const n=lf(i,!1).get(e),s=await new wu(n).toPromise();return s===void 0?null:s.value}function IT(i,e){const n=lf(i,!0).delete(e);return new wu(n).toPromise()}const Mx=800,Vx=3;class YA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Vx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(Nx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Ix(),!this.activeServiceWorker)return;this.sender=new Sx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await RT(e,xh,"1"),await IT(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>RT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>xx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=lf(o,!1).getAll();return new wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YA.type="LOCAL";const Px=YA;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(i,e){return e?tr(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends Eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lx(i){return zA(i.auth,new Ag(i),i.bypassAuthState)}function Ux(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),dx(n,new Ag(i),i.bypassAuthState)}async function jx(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),fx(n,new Ag(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lx;case"linkViaPopup":case"linkViaRedirect":return jx;case"reauthViaPopup":case"reauthViaRedirect":return Ux;default:Zn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new vu(2e3,1e4);class no extends XA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zx.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="pendingRedirect",fh=new Map;class qx extends XA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await Hx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hx(i,e){const n=Kx(e),s=Gx(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Fx(i,e){fh.set(i._key(),e)}function Gx(i){return tr(i._redirectPersistence)}function Kx(i){return hh(Bx,i.config.apiKey,i.name)}async function $x(i,e,n=!1){if(Un(i.app))return Promise.reject(ir(i));const s=ra(i),o=kx(s,e),f=await new qx(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=10*60*1e3;class Yx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!WA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qx&&this.cachedEventUids.clear(),this.cachedEventUids.has(CT(e))}saveEventToCache(e){this.cachedEventUids.add(CT(e)),this.lastProcessedEventTime=Date.now()}}function CT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function WA({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Xx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(i,e={}){return ls(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jx=/^https?/;async function eM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Wx(i);for(const n of e)try{if(tM(n))return}catch{}Zn(i,"unauthorized-domain")}function tM(i){const e=op(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Jx.test(n))return!1;if(Zx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new vu(3e4,6e4);function NT(){const i=bi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function iM(i){return new Promise((e,n)=>{var s,o,u;function f(){NT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NT(),n(Ai(i,"network-request-failed"))},timeout:nM.get()})}if(!((o=(s=bi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=bi().gapi)===null||u===void 0)&&u.load)f();else{const m=Q2("iframefcb");return bi()[m]=()=>{gapi.load?f():n(Ai(i,"network-request-failed"))},PA(`${$2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw dh=null,e})}let dh=null;function rM(i){return dh=dh||iM(i),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new vu(5e3,15e3),aM="__/auth/iframe",oM="emulator/auth/iframe",lM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cM(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?yg(e,oM):`https://${i.config.authDomain}/${aM}`,s={apiKey:e.apiKey,appName:i.name,v:go},o=uM.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function hM(i){const e=await rM(i),n=bi().gapi;return Ae(n,i,"internal-error"),e.open({where:document.body,url:cM(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ai(i,"network-request-failed"),m=bi().setTimeout(()=>{u(f)},sM.get());function p(){bi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dM=500,mM=600,pM="_blank",gM="http://localhost";class DT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yM(i,e,n,s=dM,o=mM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},fM),{width:s.toString(),height:o.toString(),top:u,left:f}),g=en().toLowerCase();n&&(m=CA(g)?pM:n),RA(g)&&(e=e||gM,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[V,k])=>`${S}${V}=${k},`,"");if(U2(g)&&m!=="_self")return _M(e||"",m),new DT(null);const A=window.open(e||"",m,E);Ae(A,i,"popup-blocked");try{A.focus()}catch{}return new DT(A)}function _M(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="__/auth/handler",EM="emulator/auth/handler",TM=encodeURIComponent("fac");async function OT(i,e,n,s,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:go,eventId:o};if(e instanceof UA){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",tR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof Tu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${TM}=${encodeURIComponent(p)}`:"";return`${wM(i)}?${uu(m).slice(1)}${g}`}function wM({config:i}){return i.emulator?yg(i,EM):`https://${i.authDomain}/${vM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class AM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GA,this._completeRedirectFn=$x,this._overrideRedirectResult=Fx}async _openPopup(e,n,s,o){var u;lr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await OT(e,n,s,op(),o);return yM(e,f,wg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await OT(e,n,s,op(),o);return Rx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await hM(e),s=new Yx(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];f!==void 0&&n(!!f),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MA()||IA()||vg()}}const bM=AM;var xT="@firebase/auth",MT="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IM(i){Si(new Yn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VA(i)},g=new F2(s,o,u,p);return ex(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Si(new Yn("auth-internal",e=>{const n=ra(e.getProvider("auth").getImmediate());return(s=>new SM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(xT,MT,RM(i)),jn(xT,MT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=5*60,NM=FT("authIdTokenMaxAge")||CM;let VT=null;const DM=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>NM)return;const o=n==null?void 0:n.token;VT!==o&&(VT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function OM(i=dp()){const e=ta(i,"auth");if(e.isInitialized())return e.getImmediate();const n=J2(i,{popupRedirectResolver:bM,persistence:[Px,Ax,GA]}),s=FT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=DM(u.toString());_x(n,f,()=>f(n.currentUser)),yx(n,m=>f(m))}}const o=qT("auth");return o&&tx(n,`http://${o}`),n}function xM(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}G2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",xM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IM("Browser");const ZA=B.createContext();function us(){return B.useContext(ZA)}function MM({children:i}){const[e,n]=B.useState(null),[s,o]=B.useState(!0),u=OM(sg);B.useEffect(()=>vx(u,A=>{n(A),o(!1)}),[u]);const g={currentUser:e,signup:(E,A)=>px(u,E,A),login:(E,A)=>gx(u,E,A),logout:()=>Ex(u)};return N.jsx(ZA.Provider,{value:g,children:!s&&i})}function VM(){const i=B.useRef(),e=B.useRef(),{login:n}=us(),[s,o]=B.useState(""),[u,f]=B.useState(!1),m=yu();async function p(g){g.preventDefault(),o(""),f(!0);try{await n(i.current.value,e.current.value),m("/dashboard")}catch(E){o(E.message||"Failed to log in")}f(!1)}return N.jsx("div",{className:"auth-bg",children:N.jsxs("div",{className:"auth-container",children:[N.jsx("div",{className:"auth-logo-row",children:N.jsx("img",{src:"https://img.icons8.com/ios-filled/100/ffffff/movie-projector.png",alt:"App Logo",className:"auth-logo"})}),N.jsx("div",{className:"auth-subtitle",children:"Track your favorite shows and movies"}),N.jsx("h2",{className:"auth-title",children:"Sign In"}),s&&N.jsx("div",{className:"auth-error",children:s}),N.jsxs("form",{className:"auth-form",onSubmit:p,children:[N.jsx("label",{htmlFor:"email",className:"auth-label",children:"Email *"}),N.jsx("input",{id:"email",type:"email",ref:i,placeholder:"Email",required:!0,className:"auth-input"}),N.jsx("label",{htmlFor:"password",className:"auth-label",children:"Password *"}),N.jsx("input",{id:"password",type:"password",ref:e,placeholder:"Password",required:!0,className:"auth-input"}),N.jsx("button",{disabled:u,type:"submit",className:"auth-btn",children:"SIGN IN"})]}),N.jsx("div",{className:"auth-link-row",children:N.jsxs("span",{children:["Don't have an account? ",N.jsx("a",{href:"/showswatched2/signup",className:"auth-link",children:"Sign up"})]})})]})})}function PM(){const i=B.useRef(),e=B.useRef(),n=B.useRef(),{signup:s}=us(),[o,u]=B.useState(""),[f,m]=B.useState(!1),p=yu();async function g(E){if(E.preventDefault(),e.current.value!==n.current.value){u("Passwords do not match");return}u(""),m(!0);try{await s(i.current.value,e.current.value),p("/dashboard",{replace:!0})}catch(A){u(A.message||"Failed to create an account")}m(!1)}return N.jsx("div",{className:"auth-bg",children:N.jsxs("div",{className:"auth-container",children:[N.jsx("div",{className:"auth-logo-row",children:N.jsx("img",{src:"https://img.icons8.com/ios-filled/100/ffffff/movie-projector.png",alt:"App Logo",className:"auth-logo"})}),N.jsx("div",{className:"auth-subtitle",children:"Track your favorite shows and movies"}),N.jsx("h2",{className:"auth-title",children:"Sign Up"}),o&&N.jsx("div",{className:"auth-error",children:o}),N.jsxs("form",{className:"auth-form",onSubmit:g,children:[N.jsx("label",{htmlFor:"email",className:"auth-label",children:"Email *"}),N.jsx("input",{id:"email",type:"email",ref:i,placeholder:"Email",required:!0,className:"auth-input"}),N.jsx("label",{htmlFor:"password",className:"auth-label",children:"Password *"}),N.jsx("input",{id:"password",type:"password",ref:e,placeholder:"Password",required:!0,className:"auth-input"}),N.jsx("label",{htmlFor:"passwordConfirm",className:"auth-label",children:"Confirm Password *"}),N.jsx("input",{id:"passwordConfirm",type:"password",ref:n,placeholder:"Confirm Password",required:!0,className:"auth-input"}),N.jsx("button",{disabled:f,type:"submit",className:"auth-btn",children:"Sign Up"})]}),N.jsx("div",{className:"auth-link-row",children:N.jsxs("span",{children:["Already have an account? ",N.jsx("a",{href:"/showswatched2/login",className:"auth-link",children:"Sign In"})]})})]})})}function kM({children:i}){const{currentUser:e}=us();return e?i:N.jsx(hg,{to:"/login"})}function LM(){const{currentUser:i}=us(),[e,n]=B.useState([]),[s,o]=B.useState([]),[u,f]=B.useState(!0),[m,p]=B.useState("");B.useEffect(()=>{async function E(){f(!0),p("");try{const A=await $l(Ji(hn,"users")),S=await $l(Ji(hn,"shows"));n(A.docs.map(V=>({id:V.id,...V.data()}))),o(S.docs.map(V=>({id:V.id,...V.data()})))}catch{p("Failed to load admin data.")}f(!1)}E()},[]);async function g(E){p("");try{await Zp(mo(hn,"shows",E)),o(s.filter(A=>A.id!==E))}catch{p("Failed to delete show.")}}return N.jsxs("div",{className:"admin-dashboard",children:[N.jsx("h2",{children:"Admin Dashboard"}),m&&N.jsx("div",{className:"error",children:m}),u?N.jsx("p",{children:"Loading..."}):N.jsxs(N.Fragment,{children:[N.jsx("h3",{children:"All Users"}),N.jsx("ul",{children:e.length===0?N.jsx("li",{children:"No users found."}):e.map(E=>N.jsx("li",{children:E.email||E.id},E.id))}),N.jsx("h3",{children:"All Shows"}),N.jsx("ul",{children:s.length===0?N.jsx("li",{children:"No shows found."}):s.map(E=>N.jsxs("li",{children:[N.jsx("strong",{children:E.title})," (User: ",E.uid,")",N.jsx("button",{onClick:()=>g(E.id),style:{marginLeft:"1em"},children:"Delete"})]},E.id))})]})]})}const UM=[{icon:N.jsx("span",{style:{fontSize:"2.4rem",color:"#fff",display:"flex",justifyContent:"center"},children:N.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ffffff/tv.png",alt:"Track Shows",style:{height:"44px",marginBottom:"8px"}})}),title:"Track Your Shows & Movies",desc:"Log every movie and TV show you've watched or want to see."},{icon:N.jsx("span",{style:{fontSize:"2.4rem",color:"#5fe05f",display:"flex",justifyContent:"center"},children:N.jsx("img",{src:"https://img.icons8.com/ios-filled/60/5fe05f/bookmark-ribbon.png",alt:"Diary",style:{height:"44px",marginBottom:"8px"}})}),title:"Personal Diary",desc:"Keep a private journal of your viewing journey."},{icon:N.jsx("span",{style:{fontSize:"2.4rem",color:"#ff7ab2",display:"flex",justifyContent:"center"},children:N.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ff7ab2/search--v1.png",alt:"Search",style:{height:"44px",marginBottom:"8px"}})}),title:"Discover & Search",desc:"Find new favorites using real-time TMDb search."},{icon:N.jsx("span",{style:{fontSize:"2.4rem",color:"#ffc43d",display:"flex",justifyContent:"center"},children:N.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ffc43d/clapperboard.png",alt:"Streaming Info",style:{height:"44px",marginBottom:"8px"}})}),title:"Streaming Info",desc:"See where to watch, with up-to-date streaming info."}],jM=[{icon:N.jsx("img",{src:"https://img.icons8.com/ios-filled/60/ffffff/search--v1.png",alt:"Search",style:{height:"38px",marginBottom:"8px"}}),title:"1. Search",desc:"Find any movie or TV show instantly."},{icon:N.jsx("img",{src:"https://img.icons8.com/ios-filled/60/7ed6ff/plus-math.png",alt:"Add to Diary",style:{height:"38px",marginBottom:"8px"}}),title:"2. Add to Diary",desc:"Save to your personal diary with one click."},{icon:N.jsx("img",{src:"https://img.icons8.com/ios-filled/60/7ed6ff/checked-checkbox.png",alt:"Mark as Watched",style:{height:"38px",marginBottom:"8px"}}),title:"3. Mark as Watched",desc:"Toggle watched/unwatched as you go."}],zM="https://image.tmdb.org/t/p/w500";function BM(){const{currentUser:i}=us(),[e,n]=B.useState([]),[s,o]=B.useState(!0),[u,f]=B.useState("");return B.useEffect(()=>{async function m(){o(!0),f("");try{const p=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=ca9a91468bb700f84faf986252bc3fe6");if(!p.ok)throw new Error("Failed to fetch trending movies");const g=await p.json();n(g.results.slice(0,10))}catch{f("Could not load trending movies.")}o(!1)}m()},[]),i?N.jsx(hg,{to:"/dashboard"}):N.jsx("div",{className:"sw-bg",children:N.jsxs("div",{className:"sw-container",children:[N.jsxs("div",{className:"sw-header-box sw-header-custom",children:[N.jsx("div",{className:"sw-logo-row",children:N.jsx("div",{className:"sw-header-logo-bg",children:N.jsx("img",{src:"https://img.icons8.com/ios-filled/100/000000/movie-projector.png",alt:"logo",className:"sw-header-logo"})})}),N.jsx("h1",{className:"sw-main-title sw-header-title-custom",children:"ShowsWatched.com"}),N.jsx("p",{className:"sw-main-sub sw-header-sub-custom",children:"Track What You Watch. Discover Whats Next."}),N.jsx(mg,{to:"/signup",children:N.jsx("button",{className:"sw-main-btn sw-header-btn-custom",children:"Get Started"})})]}),N.jsxs("div",{className:"sw-section",children:[N.jsx("h2",{className:"sw-section-title",style:{textAlign:"center"},children:"Features"}),N.jsx("div",{className:"sw-feature-grid sw-feature-custom-grid",children:UM.map((m,p)=>N.jsxs("div",{className:"sw-feature-card sw-feature-custom-card",children:[N.jsx("div",{className:"sw-feature-icon sw-feature-custom-icon",children:m.icon}),N.jsx("div",{className:"sw-feature-title sw-feature-custom-title",children:m.title}),N.jsx("div",{className:"sw-feature-desc sw-feature-custom-desc",children:m.desc})]},p))})]}),N.jsxs("div",{className:"sw-section",children:[N.jsx("h2",{className:"sw-section-title",style:{textAlign:"center"},children:"How It Works"}),N.jsx("div",{className:"sw-hiw-grid sw-hiw-custom-grid",children:jM.map((m,p)=>N.jsxs("div",{className:"sw-hiw-card sw-hiw-custom-card",children:[N.jsx("div",{className:"sw-hiw-icon sw-hiw-custom-icon",children:m.icon}),N.jsx("div",{className:"sw-hiw-title sw-hiw-custom-title",children:m.title}),N.jsx("div",{className:"sw-hiw-desc sw-hiw-custom-desc",children:m.desc})]},p))})]}),N.jsxs("div",{className:"sw-section",children:[N.jsx("h2",{className:"sw-section-title",style:{textAlign:"center"},children:"Trending Now"}),N.jsx("div",{className:"sw-trending-grid sw-trending-custom-grid",children:s?N.jsx("div",{className:"sw-trending-placeholder",children:"Loading trending movies..."}):u?N.jsx("div",{className:"sw-trending-placeholder",children:u}):e.length===0?N.jsx("div",{className:"sw-trending-placeholder",children:"No trending movies found."}):e.slice(0,6).map(m=>N.jsxs("div",{className:"sw-trending-card sw-trending-custom-card",children:[N.jsx("img",{src:m.poster_path?`${zM}${m.poster_path}`:"https://placehold.co/120x160?text=No+Image",alt:m.title,className:"sw-trending-img sw-trending-custom-img"}),N.jsx("div",{className:"sw-trending-title sw-trending-custom-title",children:m.title}),N.jsx("div",{className:"sw-trending-year sw-trending-custom-year",children:m.release_date?m.release_date.slice(0,4):""})]},m.id))})]})]})})}function qM({entryId:i}){console.log("entryId:",i);const{currentUser:e}=us(),[n,s]=B.useState([]),[o,u]=B.useState(!0),[f,m]=B.useState(""),[p,g]=B.useState(null),[E,A]=B.useState(""),[S,V]=B.useState({}),[k,Q]=B.useState(!0),H=B.useRef(null);B.useEffect(()=>{const fe=ah(Ji(hn,`discussions/${i}/comments`),TN("timestamp","asc")),O=SN(fe,b=>{const R=b.docs.map(D=>({id:D.id,...D.data()}));if(console.log("Fetched comments:",R),s(R),e){const D={};R.forEach(M=>{M.votes&&M.votes[e.uid]&&(D[M.id]=M.votes[e.uid])}),V(D)}u(!1)});return()=>O()},[i,e]);const X=async fe=>{fe.preventDefault(),f.trim()&&(await ip(Ji(hn,`discussions/${i}/comments`),{text:f,author:e?e.email:"Anonymous",authorUid:e?e.uid:null,timestamp:tT(),parentId:null,upvotes:0,downvotes:0,votes:{},replies:[]}),m(""),H.current&&H.current.focus())},se=async fe=>{E.trim()&&(await ip(Ji(hn,`discussions/${i}/comments`),{text:E,author:e?e.email:"Anonymous",authorUid:e?e.uid:null,timestamp:tT(),parentId:fe,upvotes:0,downvotes:0,votes:{},replies:[]}),g(null),A(""))},ne=async(fe,O)=>{if(!e)return;const b=mo(hn,`discussions/${i}/comments`,fe),R=n.find(L=>L.id===fe);if(!R)return;const D=R.votes?R.votes[e.uid]:void 0;if(D===O)return;let M={};O==="up"?M={upvotes:Wc(1),...D==="down"?{downvotes:Wc(-1)}:{},[`votes.${e.uid}`]:"up"}:O==="down"&&(M={downvotes:Wc(1),...D==="up"?{upvotes:Wc(-1)}:{},[`votes.${e.uid}`]:"down"}),await Pw(b,M)},pe=async fe=>{if(!e)return;const O=n.find(R=>R.id===fe);if(!O||O.authorUid!==e.uid)return;const b=async R=>{const D=n.filter(M=>M.parentId===R);for(const M of D)await b(M.id);await Zp(mo(hn,`discussions/${i}/comments`,R))};await b(fe)},he=(fe=null,O=0)=>n.filter(b=>b.parentId===fe).map(b=>{var R,D,M,L;return N.jsxs("div",{className:`discussion-comment${O>0?" discussion-reply":""}`,style:{marginLeft:O*32},children:[N.jsxs("div",{className:"discussion-header",children:[N.jsx("span",{className:"discussion-author",children:b.author}),N.jsx("span",{className:"discussion-date",children:((L=(D=(R=b.timestamp)==null?void 0:R.toDate)==null?void 0:(M=D.call(R)).toLocaleString)==null?void 0:L.call(M))||""})]}),N.jsx("div",{className:"discussion-body",children:b.text}),N.jsxs("div",{className:"discussion-actions",children:[N.jsxs("button",{className:`discussion-vote${S[b.id]==="up"?" voted":""}`,onClick:()=>ne(b.id,"up"),title:"Thumbs up",disabled:S[b.id]==="up",children:[" ",b.upvotes||0]}),N.jsxs("button",{className:`discussion-vote${S[b.id]==="down"?" voted":""}`,onClick:()=>ne(b.id,"down"),title:"Thumbs down",disabled:S[b.id]==="down",children:[" ",b.downvotes||0]}),N.jsx("button",{className:"discussion-reply-btn",onClick:()=>g(b.id),children:"Reply"}),b.authorUid===(e==null?void 0:e.uid)&&N.jsx("button",{className:"discussion-delete-btn",onClick:()=>pe(b.id),title:"Delete",children:""})]}),p===b.id&&N.jsxs("div",{className:"discussion-reply-form",children:[N.jsx("input",{type:"text",value:E,onChange:C=>A(C.target.value),placeholder:"Write a reply...",autoFocus:!0}),N.jsx("button",{onClick:()=>se(b.id),children:"Send"}),N.jsx("button",{onClick:()=>g(null),children:"Cancel"})]}),he(b.id,O+1)]},b.id)});return N.jsxs("div",{className:"discussion-section",children:[N.jsx("button",{className:"discussion-collapse-btn",onClick:()=>Q(fe=>!fe),style:{marginBottom:k?0:10},children:k?"Show Discussion":"Hide Discussion"}),!k&&N.jsxs(N.Fragment,{children:[N.jsx("h4",{children:"Discussion"}),N.jsxs("form",{onSubmit:X,className:"discussion-form",children:[N.jsx("input",{type:"text",ref:H,value:f,onChange:fe=>m(fe.target.value),placeholder:"Add a comment..."}),N.jsx("button",{type:"submit",children:"Send"})]}),N.jsx("div",{className:"discussion-comments",children:o?N.jsx("div",{children:"Loading..."}):he()})]})]})}var JA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PT=Fr.createContext&&Fr.createContext(JA),HM=["attr","size","title"];function FM(i,e){if(i==null)return{};var n=GM(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function GM(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function Vh(){return Vh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Vh.apply(this,arguments)}function kT(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Ph(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(s){KM(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function KM(i,e,n){return e=$M(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function $M(i){var e=QM(i,"string");return typeof e=="symbol"?e:e+""}function QM(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function eb(i){return i&&i.map((e,n)=>Fr.createElement(e.tag,Ph({key:n},e.attr),eb(e.child)))}function YM(i){return e=>Fr.createElement(XM,Vh({attr:Ph({},i.attr)},e),eb(i.child))}function XM(i){var e=n=>{var{attr:s,size:o,title:u}=i,f=FM(i,HM),m=o||n.size||"1em",p;return n.className&&(p=n.className),i.className&&(p=(p?p+" ":"")+i.className),Fr.createElement("svg",Vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Ph(Ph({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Fr.createElement("title",null,u),i.children)};return PT!==void 0?Fr.createElement(PT.Consumer,null,n=>e(n)):e(JA)}function WM(i){return YM({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(i)}const eh="ca9a91468bb700f84faf986252bc3fe6",xm="https://api.themoviedb.org/3",ZM="US";function JM(){const{currentUser:i,logout:e}=us(),n=yu(),[s,o]=B.useState("movie"),[u,f]=B.useState(""),[m,p]=B.useState([]),[g,E]=B.useState(!1),[A,S]=B.useState(""),[V,k]=B.useState("all"),[Q,H]=B.useState([]),[X,se]=B.useState({}),ne=B.useRef(null),pe=B.useRef(""),[he,fe]=B.useState(null),O=B.useRef({}),[b,R]=B.useState([]),[D,M]=B.useState(!0),[L,C]=B.useState("");B.useEffect(()=>{async function $(){M(!0),C("");try{const oe=await fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=${eh}`);if(!oe.ok)throw new Error("Failed to fetch trending movies");const Re=await oe.json();R(Re.results.slice(0,12))}catch{C("Could not load trending movies.")}M(!1)}$()},[]),B.useEffect(()=>{if(!i)return;async function $(){const oe=ah(Ji(hn,"diary"),bm("uid","==",i.uid));let Ee=(await $l(oe)).docs.map(Pe=>({...Pe.data(),docId:Pe.id}));Ee=Ee.sort((Pe,tt)=>new Date(tt.createdAt)-new Date(Pe.createdAt)),H(Ee);for(const Pe of Ee)Et(Pe)}$()},[i]);async function Et($){var Re;if(X[$.id])return;let oe="";$.media_type==="movie"?oe=`${xm}/movie/${$.id}/watch/providers?api_key=${eh}`:oe=`${xm}/tv/${$.id}/watch/providers?api_key=${eh}`;try{const tt=((Re=(await(await fetch(oe)).json()).results)==null?void 0:Re[ZM])||{};se(an=>({...an,[$.id]:tt}))}catch{se(Pe=>({...Pe,[$.id]:{}}))}}async function rt($,oe){if(!$.trim()){p([]),S(""),E(!1);return}E(!0),S(""),p([]);try{const Ee=`${xm}${oe==="movie"?"/search/movie":"/search/tv"}?api_key=${eh}&query=${encodeURIComponent($)}`,tt=await(await fetch(Ee)).json();tt.results?p(tt.results):(p([]),S("No results found."))}catch{S("Failed to fetch results.")}E(!1)}B.useEffect(()=>{if(!(u.trim()===""||u===pe.current))return ne.current&&clearTimeout(ne.current),ne.current=setTimeout(()=>{rt(u,s)},400),()=>clearTimeout(ne.current)},[u,s]);async function Y($){$.preventDefault(),pe.current=u,await rt(u,s)}async function le($){if(!i||Q.some(tt=>tt.id===$.id&&tt.media_type===($.media_type||s)))return;const oe={uid:i.uid,id:$.id,title:$.title||$.name,date:($.release_date||$.first_air_date||"").slice(0,10),poster:$.poster_path?`https://image.tmdb.org/t/p/w200${$.poster_path}`:"https://placehold.co/120x170?text=No+Image",desc:$.overview||"No description.",watched:!1,media_type:$.media_type||s,createdAt:new Date().toISOString()};await ip(Ji(hn,"diary"),oe);const Re=ah(Ji(hn,"diary"),bm("uid","==",i.uid));let Pe=(await $l(Re)).docs.map(tt=>({...tt.data(),docId:tt.id}));Pe=Pe.sort((tt,an)=>new Date(an.createdAt)-new Date(tt.createdAt)),H(Pe),Et(oe),p([]),f("")}async function ge($){H(oe=>oe.filter(Re=>Re.docId!==$)),fe(null);try{await Zp(mo(hn,"diary",$));const oe=ah(Ji(hn,"diary"),bm("uid","==",i.uid));let Ee=(await $l(oe)).docs.map(Pe=>({...Pe.data(),docId:Pe.id}));Ee=Ee.sort((Pe,tt)=>new Date(tt.createdAt)-new Date(Pe.createdAt)),H(Ee)}catch{window.alert("Failed to remove entry. Please try again.")}}async function qe($,oe){H(Re=>Re.map(Ee=>Ee.docId===$?{...Ee,watched:!oe}:Ee)),fe(Re=>Re&&Re.docId===$?{...Re,watched:!oe}:Re);try{await Pw(mo(hn,"diary",$),{watched:!oe})}catch{H(Ee=>Ee.map(Pe=>Pe.docId===$?{...Pe,watched:oe}:Pe)),fe(Ee=>Ee&&Ee.docId===$?{...Ee,watched:oe}:Ee),window.alert("Failed to update watched status. Please try again.")}}function x($){window.alert(`Share this: ${$.title}`)}async function ie(){try{await e(),n("/")}catch{alert("Failed to sign out")}}function ue({entry:$,providersMap:oe,onClose:Re,onShare:Ee,onToggleWatched:Pe,onRemove:tt,diary:an}){if(!$)return null;const zn=oe[$.id]||{},ti=zn.flatrate||[],ni=zn.rent||[],ur=zn.buy||[],ht=$;return y2.createPortal(N.jsx("div",{className:"dashboard-modal-overlay",onClick:Re,children:N.jsxs("div",{className:"dashboard-modal-content",onClick:$e=>$e.stopPropagation(),children:[N.jsx("button",{className:"dashboard-modal-close",onClick:Re,"aria-label":"Close modal",type:"button",children:""}),N.jsxs("div",{className:"dashboard-modal-body",children:[N.jsx("img",{className:"dashboard-diary-poster",src:ht.poster_path?`https://image.tmdb.org/t/p/w300${ht.poster_path}`:ht.poster||"https://placehold.co/120x170?text=No+Image",alt:ht.title,style:{marginBottom:"1rem"}}),N.jsx("div",{className:"dashboard-diary-movie-title",children:ht.title}),N.jsx("div",{className:"dashboard-diary-date",children:ht.release_date?ht.release_date.slice(0,4):ht.date||""}),N.jsx("div",{className:"dashboard-diary-desc",children:ht.overview||ht.desc||""}),N.jsxs("div",{className:"dashboard-diary-providers-modal",children:[N.jsxs("div",{className:"dashboard-diary-providers-group",children:[N.jsx("div",{className:"dashboard-diary-providers-label",children:"Streaming:"}),N.jsx("div",{className:"dashboard-diary-providers-icons",children:ti.length===0?N.jsx("span",{style:{color:"#888"},children:"N/A"}):ti.map($e=>N.jsx("img",{src:`https://image.tmdb.org/t/p/w45${$e.logo_path}`,alt:$e.provider_name,title:$e.provider_name,className:"dashboard-provider-icon-sm"},$e.provider_id))})]}),N.jsxs("div",{className:"dashboard-diary-providers-group",children:[N.jsx("div",{className:"dashboard-diary-providers-label",children:"Rent:"}),N.jsx("div",{className:"dashboard-diary-providers-icons",children:ni.length===0?N.jsx("span",{style:{color:"#888"},children:"N/A"}):ni.map($e=>N.jsx("img",{src:`https://image.tmdb.org/t/p/w45${$e.logo_path}`,alt:$e.provider_name,title:$e.provider_name,className:"dashboard-provider-icon-sm"},$e.provider_id))})]}),N.jsxs("div",{className:"dashboard-diary-providers-group",children:[N.jsx("div",{className:"dashboard-diary-providers-label",children:"Buy:"}),N.jsx("div",{className:"dashboard-diary-providers-icons",children:ur.length===0?N.jsx("span",{style:{color:"#888"},children:"N/A"}):ur.map($e=>N.jsx("img",{src:`https://image.tmdb.org/t/p/w45${$e.logo_path}`,alt:$e.provider_name,title:$e.provider_name,className:"dashboard-provider-icon-sm"},$e.provider_id))})]})]}),N.jsxs("div",{className:"dashboard-diary-btn-row dashboard-diary-btn-row--modal",children:[N.jsx("button",{className:"dashboard-diary-share",onClick:()=>Ee(ht),children:"SHARE"}),N.jsx("button",{className:ht.watched?"dashboard-diary-watched":"dashboard-diary-unwatched",onClick:()=>Pe(ht.docId,ht.watched),children:ht.watched?"WATCHED":"UNWATCHED"}),N.jsx("button",{className:"dashboard-diary-remove",onClick:()=>tt(ht.docId),children:"REMOVE"})]}),N.jsx(qM,{entryId:ht.id})]})]})}),document.getElementById("modal-root"))}const re=Fr.memo(ue),_e=Q.filter($=>V==="all"?$.media_type===s:V==="watched"?$.media_type===s&&$.watched:V==="unwatched"?$.media_type===s&&!$.watched:!1);return N.jsxs("div",{className:"dashboard-bg",children:[N.jsxs("div",{className:"dashboard-content-wrapper",children:[N.jsxs("div",{className:"dashboard-banner",children:[N.jsx("div",{className:"dashboard-welcome",children:"Welcome makeaclick!"}),N.jsx("button",{className:"dashboard-signout",onClick:ie,children:"SIGN OUT"})]}),N.jsxs("div",{className:"dashboard-search-section",children:[N.jsx("img",{src:"https://img.icons8.com/ios-filled/100/ffffff/movie-projector.png",alt:"App Icon",className:"dashboard-logo"}),N.jsx("div",{className:"dashboard-search-title",children:"Search for Movies / Tv Shows"}),N.jsx("div",{className:"dashboard-search-instructions",children:"NEED INSTRUCTIONS?"}),N.jsxs("div",{className:"dashboard-search-toggle-row",children:[N.jsx("button",{className:s==="movie"?"dashboard-toggle active":"dashboard-toggle",onClick:()=>o("movie"),children:"MOVIE"}),N.jsx("button",{className:s==="tv"?"dashboard-toggle active":"dashboard-toggle",onClick:()=>o("tv"),children:"TV SHOW"})]}),N.jsxs("form",{className:"dashboard-search-bar-row",onSubmit:Y,children:[N.jsx("input",{className:"dashboard-search-bar",placeholder:"Type to search for movies or shows*",value:u,onChange:$=>f($.target.value)}),N.jsx("button",{className:"dashboard-search-btn",type:"submit",disabled:g||!u.trim(),children:g?"SEARCHING...":"SEARCH"})]}),N.jsxs("div",{className:"dashboard-search-results",children:[A&&N.jsx("div",{className:"auth-error",style:{marginTop:"1rem"},children:A}),!A&&m.length>0&&N.jsx("div",{className:"dashboard-trending-row",style:{marginTop:"1.4rem"},children:m.map($=>N.jsxs("div",{className:"dashboard-trending-card",children:[N.jsx("img",{src:$.poster_path?`https://image.tmdb.org/t/p/w200${$.poster_path}`:"https://placehold.co/120x170?text=No+Image",alt:$.title||$.name,className:"dashboard-trending-poster"}),N.jsx("div",{className:"dashboard-trending-movie-title",children:$.title||$.name}),N.jsx("div",{className:"dashboard-trending-year",children:($.release_date||$.first_air_date||"").slice(0,4)}),N.jsx("div",{className:"dashboard-trending-desc",children:$.overview?$.overview.slice(0,90)+($.overview.length>90?"":""):"No description."}),N.jsx("button",{className:"dashboard-trending-add",onClick:()=>le($),children:Q.some(oe=>oe.id===$.id)?"IN DIARY":"ADD TO DIARY"})]},$.id))})]})]}),N.jsxs("div",{className:"dashboard-diary-section",children:[N.jsx("div",{className:"dashboard-diary-title",children:"My Diary"}),N.jsxs("div",{className:"dashboard-diary-filter-row",children:[N.jsxs("div",{className:"dashboard-diary-filter-group",children:[N.jsx("button",{className:V==="all"?"dashboard-diary-filter active":"dashboard-diary-filter",onClick:()=>k("all"),children:"ALL"}),N.jsx("button",{className:V==="watched"?"dashboard-diary-filter active":"dashboard-diary-filter",onClick:()=>k("watched"),children:"WATCHED"})]}),N.jsx("div",{className:"dashboard-diary-filter-group dashboard-diary-filter-group--unwatched",children:N.jsx("button",{className:V==="unwatched"?"dashboard-diary-filter active":"dashboard-diary-filter",onClick:()=>k("unwatched"),children:"UNWATCHED"})})]}),N.jsxs("div",{className:"dashboard-diary-providers-row",children:[N.jsx("button",{className:"dashboard-providers-btn",children:"ALL PROVIDERS"}),N.jsx("button",{className:"dashboard-remove-all-btn",onClick:()=>H([]),children:"REMOVE ALL"})]}),_e.length===0?N.jsx("div",{style:{color:"#aaa",margin:"2rem 0",textAlign:"center"},children:"No entries in your diary."}):N.jsx("div",{className:"dashboard-diary-cards-row",children:_e.map($=>(O.current[$.docId]||(O.current[$.docId]=B.createRef()),N.jsxs("section",{ref:oe=>O.current[$.docId]=oe,className:"dashboard-diary-card collapsed",children:[N.jsx("div",{className:"dashboard-diary-poster-col collapsed",children:N.jsx("img",{src:$.poster,alt:$.title,className:"dashboard-diary-poster collapsed"})}),N.jsx("div",{className:"dashboard-diary-movie-title collapsed",children:$.title}),N.jsxs("button",{className:"dashboard-diary-showmore",onClick:()=>fe(JSON.parse(JSON.stringify($))),children:["Show More ",N.jsx(WM,{})]})]},$.docId)))})]}),N.jsxs("div",{className:"dashboard-trending-section",children:[N.jsx("div",{className:"dashboard-trending-title",children:"Trending Movies"}),N.jsx("div",{className:"dashboard-trending-row",style:{gridTemplateColumns:"repeat(6, 1fr)",display:"grid",gap:"1.6rem"},children:D?N.jsx("div",{style:{color:"#8fc7ff",fontFamily:"Orbitron"},children:"Loading..."}):L?N.jsx("div",{style:{color:"#ff6b6b",fontFamily:"Orbitron"},children:L}):b.slice(0,12).map($=>{const oe=Q.some(Re=>Re.id===$.id&&Re.media_type==="movie");return N.jsxs("div",{className:"dashboard-trending-card",children:[N.jsx("img",{className:"dashboard-trending-poster",src:$.poster_path?`https://image.tmdb.org/t/p/w300${$.poster_path}`:"https://placehold.co/120x170?text=No+Image",alt:$.title}),N.jsx("div",{className:"dashboard-trending-movie-title",children:$.title}),N.jsx("div",{className:"dashboard-trending-year",children:$.release_date?$.release_date.slice(0,4):""}),N.jsx("div",{className:"dashboard-trending-desc",children:$.overview?$.overview.slice(0,70)+($.overview.length>70?"...":""):""}),N.jsx("button",{className:"dashboard-trending-add",onClick:()=>le({id:$.id,title:$.title,poster_path:$.poster_path,release_date:$.release_date,overview:$.overview,media_type:"movie"}),disabled:oe,style:oe?{background:"#aaa",color:"#fff",cursor:"not-allowed"}:{},children:oe?"IN DIARY":"ADD TO DIARY"})]},$.id)})})]})]}),he&&N.jsx(re,{entry:he,providersMap:X,onClose:()=>fe(null),onShare:x,onToggleWatched:qe,onRemove:ge,diary:Q})]})}function eV(){const{currentUser:i}=us();return N.jsxs(kO,{children:[N.jsx(to,{path:"/login",element:N.jsx(VM,{})}),N.jsx(to,{path:"/signup",element:N.jsx(PM,{})}),N.jsx(to,{path:"/admin",element:N.jsx(kM,{children:N.jsx(LM,{})})}),N.jsx(to,{path:"/dashboard",element:N.jsx(JM,{})}),N.jsx(to,{path:"/",element:i?N.jsx(hg,{to:"/dashboard"}):N.jsx(BM,{})})]})}MS.createRoot(document.getElementById("root")).render(N.jsx(B.StrictMode,{children:N.jsx(a2,{basename:"/showswatched2",children:N.jsx(MM,{children:N.jsx(eV,{})})})}));
